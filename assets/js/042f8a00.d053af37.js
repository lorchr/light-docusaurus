"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[4008],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>u});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=a.createContext({}),s=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=s(e.components);return a.createElement(p.Provider,{value:n},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},v=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),m=s(t),v=r,u=m["".concat(p,".").concat(v)]||m[v]||c[v]||l;return t?a.createElement(u,o(o({ref:n},d),{},{components:t})):a.createElement(u,o({ref:n},d))}));function u(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,o=new Array(l);o[0]=v;var i={};for(var p in n)hasOwnProperty.call(n,p)&&(i[p]=n[p]);i.originalType=e,i[m]="string"==typeof e?e:r,o[1]=i;for(var s=2;s<l;s++)o[s]=t[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}v.displayName="MDXCreateElement"},12177:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>s});var a=t(87462),r=(t(67294),t(3905));const l={},o=void 0,i={unversionedId:"zh-cn/devenv/Maven-Mvnd",id:"zh-cn/devenv/Maven-Mvnd",title:"Maven-Mvnd",description:"- Maven Github",source:"@site/docs/zh-cn/devenv/3-Maven-Mvnd.md",sourceDirName:"zh-cn/devenv",slug:"/zh-cn/devenv/Maven-Mvnd",permalink:"/light-docusaurus/docs/zh-cn/devenv/Maven-Mvnd",draft:!1,editUrl:"https://github.com/lorchr/light-docusaurus/tree/main/docs/zh-cn/devenv/3-Maven-Mvnd.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"troch",previous:{title:"IDEA",permalink:"/light-docusaurus/docs/zh-cn/devenv/IDEA"},next:{title:"Docker-Mysql",permalink:"/light-docusaurus/docs/zh-cn/devenv/Docker-Mysql"}},p={},s=[{value:"1. Maven",id:"1-maven",level:2},{value:"1. \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf",id:"1-\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf",level:3},{value:"2. \u8bbe\u7f6eMaven\u914d\u7f6e\u6587\u4ef6 <code>confsettings.xml</code>",id:"2-\u8bbe\u7f6emaven\u914d\u7f6e\u6587\u4ef6-confsettingsxml",level:3},{value:"3. \u5e38\u7528\u547d\u4ee4",id:"3-\u5e38\u7528\u547d\u4ee4",level:3},{value:"4. \u9879\u76ee\u7248\u672c\u63a7\u5236",id:"4-\u9879\u76ee\u7248\u672c\u63a7\u5236",level:3},{value:"2. Mvnd",id:"2-mvnd",level:2},{value:"1. \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf",id:"1-\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf-1",level:3},{value:"2. \u8bbe\u7f6eMaven\u914d\u7f6e\u6587\u4ef6\u5730\u5740 <code>confmvnd.properties</code>",id:"2-\u8bbe\u7f6emaven\u914d\u7f6e\u6587\u4ef6\u5730\u5740-confmvndproperties",level:3},{value:"3. \u5e38\u7528\u547d\u4ee4",id:"3-\u5e38\u7528\u547d\u4ee4-1",level:3},{value:"3. Windows\u5207\u6362JDK\u7248\u672c",id:"3-windows\u5207\u6362jdk\u7248\u672c",level:2}],d={toc:s},m="wrapper";function c(e){let{components:n,...t}=e;return(0,r.kt)(m,(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/maven"},"Maven Github")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://maven.apache.org/download.cgi"},"Maven Download")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/maven-mvnd"},"Mvnd Github")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://downloads.apache.org/maven/mvnd/"},"Mvnd Download"))),(0,r.kt)("h2",{id:"1-maven"},"1. Maven"),(0,r.kt)("h3",{id:"1-\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf"},"1. \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bat"},"MVN_HOME=D:\\\\Develop\\\\apache-maven\nPATH=%MVN_HOME%\\bin\n")),(0,r.kt)("h3",{id:"2-\u8bbe\u7f6emaven\u914d\u7f6e\u6587\u4ef6-confsettingsxml"},"2. \u8bbe\u7f6eMaven\u914d\u7f6e\u6587\u4ef6 ",(0,r.kt)("inlineCode",{parentName:"h3"},"conf\\settings.xml")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<localRepository>D:\\Develop\\repository</localRepository>\n\n<servers>\n    \x3c!--\n    <server>\n        <id>deploymentRepo</id>\n        <username>repouser</username>\n        <password>repopwd</password>\n    </server>\n    <server>\n        <id>siteServer</id>\n        <privateKey>/path/to/private/key</privateKey>\n        <passphrase>optional; leave empty if not used.</passphrase>\n    </server>\n    --\x3e\n</servers>\n<mirrors>\n    <mirror>\n        <id>Aliyun-Central</id>\n        <mirrorOf>central</mirrorOf>\n        <name>Aliyun public</name>\n        <url>https://maven.aliyun.com/repository/public</url>\n    </mirror> \n</mirrors>\n<profiles>\n    <profile>\n        <id>jdk-17</id>\n        <properties>\n            <maven.compiler.source>17</maven.compiler.source>\n            <maven.compiler.target>17</maven.compiler.target>\n            <maven.compiler.compilerVersion>17</maven.compiler.compilerVersion>\n        </properties>\n    </profile>\n    <profile>    \n    <id>java-8</id>    \n    <activation>    \n        <activeByDefault>true</activeByDefault>    \n        <jdk>1.8</jdk>    \n    </activation>\n    <properties>    \n        <maven.compiler.source>1.8</maven.compiler.source>    \n        <maven.compiler.target>1.8</maven.compiler.target>    \n        <maven.compiler.compilerVersion>1.8</maven.compiler.compilerVersion>    \n    </properties>    \n    </profile>\n    <profile>\n    <id>aliyun</id>\n    <repositories>\n        <repository>\n        <id>aliyun.public</id>\n        <url>https://maven.aliyun.com/repository/public</url>\n        </repository>\n        <repository>\n            <id>jitpack.io</id>\n            <url>https://jitpack.io</url>\n        </repository>\n    </repositories>\n    </profile>\n</profiles>\n\n<activeProfiles>\n    <activeProfile>aliyun</activeProfile>\n</activeProfiles>\n")),(0,r.kt)("h3",{id:"3-\u5e38\u7528\u547d\u4ee4"},"3. \u5e38\u7528\u547d\u4ee4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# \u67e5\u770b\u7248\u672c\nmvn -v\n\n# \u6253\u5305\nmvn clean -U -Dmaven.test.skip=true package\n\n# \u6253\u5305\u5b89\u88c5\u5230\u672c\u5730\nmvn clean package -T 1C -Dmaven.test.skip=true  -Dmaven.compile.fork=true\n\n# \u90e8\u7f72\nmvn deploy\n\n# \u90e8\u7f72\u5355\u4e2ajar\nmvn deploy:deploy-file -DgroupId=<group-id> \\\n-DartifactId=<artifact-id> \\\n-Dversion=<version> \\\n-Dpackaging=<type-of-packaging> \\\n-Dfile=<path-to-file> \\\n-DrepositoryId=<id-to-map-on-server-section-of-settings.xml> \\\n-Durl=<url-of-the-repository-to-deploy>\n")),(0,r.kt)("h3",{id:"4-\u9879\u76ee\u7248\u672c\u63a7\u5236"},"4. \u9879\u76ee\u7248\u672c\u63a7\u5236"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'# \u8bbe\u7f6e\u65b0\u7248\u672c\u53f7\nmvn versions:set -DnewVersion="1.1.0-SNAPSHOT"\n\n# \u56de\u9000\u5230\u65e7\u7248\u672c\u53f7\nmvn versions:revert\n\n# \u786e\u8ba4\u63d0\u4ea4\u65b0\u7248\u672c\u53f7\nmvn versions:commit\n')),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,r.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"allowSnapshots"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u66f4\u65b0-snapshot\u5feb\u7167\u7248")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"artifactld"),(0,r.kt)("td",{parentName:"tr",align:null},"${project.artifactld}"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6307\u5b9aartifactld")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"generateBackupPoms"),(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u751f\u6210\u5907\u4efd\u6587\u4ef6\u7528\u4e8e\u56de\u9000\u7248\u672c\u53f7")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"groupld"),(0,r.kt)("td",{parentName:"tr",align:null},"${project.groupld}"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6307\u5b9agroupld")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"newVersion"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u7684\u65b0\u7248\u672c\u53f7")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nextSnapshot"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"\u66f4\u65b0\u7248\u672c\u53f7\u4e3a\u4e0b\u4e00\u4e2a\u5feb\u7167\u7248\u672c\u53f7")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"oldVersion"),(0,r.kt)("td",{parentName:"tr",align:null},"${project.version}"),(0,r.kt)("td",{parentName:"tr",align:null},'\u6307\u5b9a\u9700\u8981\u66f4\u65b0\u7684\u7248\u672c\u53f7\u53ef\u4ee5\u4f7f\u7528\u7f3a\u7701"*')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"processAllModules"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u66f4\u65b0\u76ee\u5f55\u4e0b\u6240\u6709\u6a21\u5757\u65e0\u8bba\u662f\u5426\u58f0\u660e\u7236\u5b50\u8282\u70b9")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"processDependencies"),(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u66f4\u65b0\u4f9d\u8d56\u5176\u7684\u7248\u672c\u53f7")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"processParent"),(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u66f4\u65b0\u7236\u8282\u70b9\u7684\u7248\u672c\u53f7")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"processPlugins"),(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u66f4\u65b0\u63d2\u4ef6\u4e2d\u7684\u7248\u672c\u53f7")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"processProject"),(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u66f4\u65b0\u6a21\u5757\u81ea\u8eab\u7684\u7248\u672c\u53f7")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"removeSnapshot"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"\u79fb\u9664snapshot\u5feb\u7167\u7248\u672c\uff0c\u4f7f\u4e4b\u4e3arelease\u7a33\u5b9a\u7248")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"updateMatchingVersions"),(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u66f4\u65b0\u5728\u5b50\u6a21\u5757\u4e2d\u663e\u5f0f\u6307\u5b9a\u7684\u5339\u914d\u7248\u672c(\u5982/\u9879\u76ee\u7248\u672c)")))),(0,r.kt)("h2",{id:"2-mvnd"},"2. Mvnd"),(0,r.kt)("h3",{id:"1-\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf-1"},"1. \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bat"},"MVND_HOME=D:\\\\Develop\\\\apache-mvnd\nPATH=%MVND_HOME%\\bin\n")),(0,r.kt)("h3",{id:"2-\u8bbe\u7f6emaven\u914d\u7f6e\u6587\u4ef6\u5730\u5740-confmvndproperties"},"2. \u8bbe\u7f6eMaven\u914d\u7f6e\u6587\u4ef6\u5730\u5740 ",(0,r.kt)("inlineCode",{parentName:"h3"},"conf\\mvnd.properties")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-properties"},"maven.settings=D:\\\\Develop\\\\apache-maven\\\\conf\\\\settings.xml\n")),(0,r.kt)("h3",{id:"3-\u5e38\u7528\u547d\u4ee4-1"},"3. \u5e38\u7528\u547d\u4ee4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'echo %JAVA_HOME%\njava -version\nset PATH "D:\\Develop\\Java\\jdk-17\\bin";%PATH%\nset JAVA_HOME "D:\\Develop\\Java\\jdk-17"\n\n# \u67e5\u770b\u7248\u672c\nmvnd -v\n\n# \u6253\u5305\nmvnd -Dmaven.compiler.release=8 compile             # \u6307\u5b9ajdk\u7248\u672c\nmvnd clean -U -Dmaven.test.skip=true package        # \u5e76\u884c\nmvnd clean -U -Dmaven.test.skip=true package -T1    # \u4e32\u884c\n\n# \u6253\u5305\u5b89\u88c5\u5230\u672c\u5730\nmvnd clean install -Dquickly\n')),(0,r.kt)("h2",{id:"3-windows\u5207\u6362jdk\u7248\u672c"},"3. Windows\u5207\u6362JDK\u7248\u672c"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/26993101/switching-between-different-jdk-versions-in-windows"},"https://stackoverflow.com/questions/26993101/switching-between-different-jdk-versions-in-windows"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bat",metastring:"jenv.bat","jenv.bat":!0},'@echo off\nsetlocal\n\nif "%~1" == "17" (\n    REM \u5207\u6362\u5230\u9009\u62e9\u7684 JDK \u7248\u672c\n    set "JAVA_HOME=D:\\Develop\\Java\\jdk-17"\n) else if "%~1" == "11" (\n    set "JAVA_HOME=D:\\Develop\\Java\\jdk-11"\n) else if "%~1" == "8" (\n    set "JAVA_HOME=D:\\Develop\\Java\\jdk1.8"\n) else (\n    @echo on\n    echo "================================"\n    echo "Error No JDK Path For %~1"\n    echo "================================"\n    exit /b 1\n)\n\nREM \u68c0\u67e5\u7ba1\u7406\u5458\u6743\u9650\nnet session >nul 2>&1\nif %errorLevel% == 0 (\n    REM \u7ba1\u7406\u5458\u6743\u9650\uff1a\u66f4\u65b0\u7cfb\u7edf\u73af\u5883\u53d8\u91cf PATH \u6765\u5207\u6362 JDK \u7248\u672c setx /?\n    setx Path "%JAVA_HOME%\\bin;%Path%" /M\n) else (\n    REM \u975e\u7ba1\u7406\u5458\u6743\u9650\uff1a\u4e34\u65f6\u5207\u6362\n    set "Path=%JAVA_HOME%\\bin;%Path%"\n)\n\n@echo on\necho JAVA_HOME %JAVA_HOME%\njava -version\n\nendlocal\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ps1",metastring:"jenv.ps1","jenv.ps1":!0},'If($args[0] -eq "17")\n{\n    $env:JAVA_HOME = \'D:\\Develop\\Java\\jdk-17\'\n} ElseIf($args[0] -eq "11")\n{\n    $env:JAVA_HOME = \'D:\\Develop\\Java\\jdk-11\'\n} ElseIf($args[0] -eq "8")\n{\n    $env:JAVA_HOME = \'D:\\Develop\\Java\\jdk1.8\'\n} Else \n{\n   echo "================================"\n   echo "Error No JDK Path For $args[0]"\n   echo "================================"\n   exit /b 1\n}\n$env:Path = $env:JAVA_HOME+\'\\bin;\'+$env:Path\n\necho "JAVA_HOME $JAVA_HOME"\njava -version\n')))}c.isMDXComponent=!0}}]);