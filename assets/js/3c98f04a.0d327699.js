"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[31561],{28453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>o});var l=r(96540);const s={},a=l.createContext(s);function c(e){const n=l.useContext(a);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),l.createElement(a.Provider,{value:n},e.children)}},94442:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"zh-cn/devenv/Docker-Oracle","title":"Docker-Oracle","description":"- Oracle Github Images","source":"@site/docs/zh-cn/devenv/12-Docker-Oracle.md","sourceDirName":"zh-cn/devenv","slug":"/zh-cn/devenv/Docker-Oracle","permalink":"/docs/zh-cn/devenv/Docker-Oracle","draft":false,"unlisted":false,"editUrl":"https://github.com/lorchr/light-docusaurus/tree/main/docs/zh-cn/devenv/12-Docker-Oracle.md","tags":[],"version":"current","sidebarPosition":12,"frontMatter":{},"sidebar":"troch","previous":{"title":"Docker-Pgsql","permalink":"/docs/zh-cn/devenv/Docker-Pgsql"},"next":{"title":"Docker-Mssql","permalink":"/docs/zh-cn/devenv/Docker-Mssql"}}');var s=r(74848),a=r(28453);const c={},o=void 0,d={},t=[{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"laowu/oracle",id:"laowuoracle",level:2},{value:"Oracle 19c\u6d4b\u8bd5\u73af\u5883\u5feb\u901f\u642d\u5efa",id:"oracle-19c\u6d4b\u8bd5\u73af\u5883\u5feb\u901f\u642d\u5efa",level:3},{value:"1. \u5b89\u88c5",id:"1-\u5b89\u88c5",level:3},{value:"2. \u5efa\u8868\u7a7a\u95f4\u3001\u7528\u6237",id:"2-\u5efa\u8868\u7a7a\u95f4\u7528\u6237",level:3},{value:"3. \u5efa\u8868",id:"3-\u5efa\u8868",level:3},{value:"4. \u6d4b\u8bd5\u65b0\u589e\u6570\u636e\u4e0e\u5220\u9664\u8868",id:"4-\u6d4b\u8bd5\u65b0\u589e\u6570\u636e\u4e0e\u5220\u9664\u8868",level:3},{value:"5. oracle19c\u5e38\u7528\u547d\u4ee4/sql\u6c47\u603b",id:"5-oracle19c\u5e38\u7528\u547d\u4ee4sql\u6c47\u603b",level:3},{value:"oracle 12c\u6d4b\u8bd5\u73af\u5883\u5feb\u901f\u642d\u5efa",id:"oracle-12c\u6d4b\u8bd5\u73af\u5883\u5feb\u901f\u642d\u5efa",level:3},{value:"zhuyijun/oracle-12c",id:"zhuyijunoracle-12c",level:2},{value:"1\u3001\u4e0b\u8f7d\u955c\u50cf",id:"1\u4e0b\u8f7d\u955c\u50cf",level:3},{value:"2\u3001\u542f\u52a8\u5bb9\u5668",id:"2\u542f\u52a8\u5bb9\u5668",level:3},{value:"1\uff0912c\u7248\u672c",id:"112c\u7248\u672c",level:4},{value:"2\uff0919c\u7248\u672c",id:"219c\u7248\u672c",level:4},{value:"3\u3001\u4fee\u6539\u5bc6\u7801",id:"3\u4fee\u6539\u5bc6\u7801",level:3},{value:"4\u3001\u8fde\u63a5\u6570\u636e\u5e93",id:"4\u8fde\u63a5\u6570\u636e\u5e93",level:3},{value:"5\u3001\u5bb9\u5668\u4e2d\u7684Oracle\u6570\u636e\u5e93\u8fd8\u914d\u7f6e\u4e86<code>Oracle Enterprise Manager Express</code>\u3002\u8981\u8bbf\u95ee<code>OEM Express</code>\uff0c\u8bf7\u542f\u52a8\u6d4f\u89c8\u5668\u5e76\u6309\u7167\u4ee5\u4e0bURL\u8fdb\u884c\u64cd\u4f5c\uff1a",id:"5\u5bb9\u5668\u4e2d\u7684oracle\u6570\u636e\u5e93\u8fd8\u914d\u7f6e\u4e86oracle-enterprise-manager-express\u8981\u8bbf\u95eeoem-express\u8bf7\u542f\u52a8\u6d4f\u89c8\u5668\u5e76\u6309\u7167\u4ee5\u4e0burl\u8fdb\u884c\u64cd\u4f5c",level:3},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2},{value:"\u5e38\u7528\u64cd\u4f5c",id:"\u5e38\u7528\u64cd\u4f5c",level:2},{value:"\u6570\u636e\u5e93\u64cd\u4f5c",id:"\u6570\u636e\u5e93\u64cd\u4f5c",level:3},{value:"springBoot\u9879\u76ee\u4e2d\u8fde\u63a5oracle",id:"springboot\u9879\u76ee\u4e2d\u8fde\u63a5oracle",level:2},{value:"1. \u5173\u952e\u7684\u914d\u7f6e",id:"1-\u5173\u952e\u7684\u914d\u7f6e",level:3},{value:"2. application.yml",id:"2-applicationyml",level:3}];function i(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/oracle/docker-images",children:"Oracle Github Images"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://www.oracle.com/database/technologies/oracle-database-software-downloads.html",children:"Oracle"})," ",(0,s.jsx)(n.a,{href:"https://container-registry.oracle.com/ords/f?p=113:10",children:"Container Registry"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://www.oracle.com/database/technologies/instant-client/downloads.html",children:"Oracle Instant Client Downloads"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://hub.docker.com/r/jaspeen/oracle-11g",children:"Docker Image 11g"})," ",(0,s.jsx)(n.a,{href:"https://github.com/jaspeen/oracle-11g",children:"Github"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://hub.docker.com/r/truevoly/oracle-12c",children:"Docker Image 12c"})," ",(0,s.jsx)(n.a,{href:"https://github.com/MaksymBilenko/docker-oracle-12c",children:"Github"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://blog.csdn.net/weixin_44032384/article/details/131404349",children:"docker\u5feb\u901f\u90e8\u7f72oracle19c\u3001oracle12c"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://blog.csdn.net/qq_26018075/article/details/107844316",children:"docker\u5b89\u88c5orcale-12c"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/oracle/docker-images/tree/main/OracleDatabase/SingleInstance",children:"\u5b98\u65b9\u6587\u6863"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"# \u62c9\u53d6\u955c\u50cf\ndocker pull jaspeen/oracle-11g\ndocker pull truevoly/oracle-12c\ndocker pull registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g\ndocker pull registry.cn-hangzhou.aliyuncs.com/zhuyijun/oracle-12c\ndocker pull registry.cn-hangzhou.aliyuncs.com/laowu/oracle:12.2.0.1.0\ndocker pull registry.cn-hangzhou.aliyuncs.com/laowu/oracle:19c\n\ndocker pull container-registry.oracle.com/database/free:latest\ndocker pull container-registry.oracle.com/database/free:23.3.0.0\ndocker pull container-registry.oracle.com/database/enterprise:latest\ndocker pull container-registry.oracle.com/database/enterprise:21.3.0.0\ndocker pull container-registry.oracle.com/database/enterprise:19.3.0.0\ndocker pull container-registry.oracle.com/database/enterprise:19.19.0.0\ndocker pull container-registry.oracle.com/database/enterprise:12.2.0.1\ndocker pull container-registry.oracle.com/database/enterprise:12.1.0.2\n\n# \u521b\u5efa\u6587\u4ef6\u5939\nmkdir -p D:/docker/oracle/{conf,data,logs}\n\n# \u8fd0\u884c\u5bb9\u5668\ndocker run -d \\\n  --publish 1521:1521 \\\n  --publish 5500:5500 \\\n  --env ORACLE_SID=orcl \\\n  --env ORACLE_PDB=orclpdb \\\n  --env ORACLE_PWD=Admin123 \\\n  --env ORACLE_CHARACTERSET=zhs16gbk \\\n  --env ORACLE_BASE=/opt/oracle \\\n  --env ORACLE_HOME=/opt/oracle/product/12.2.0.1/dbhome_1 \\\n  --env PATH=/opt/oracle/product/12.2.0.1/dbhome_1/bin:/opt/oracle/product/12.2.0.1/dbhome_1/OPatch/:/usr/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\n  --volume //d/docker/oracle/data:/opt/oracle/oradata \\\n  --net dev \\\n  --restart=on-failure:3 \\\n  --name oracle12c \\\n  registry.cn-hangzhou.aliyuncs.com/zhuyijun/oracle-12c:latest\n\n# \u8fdb\u5165\u5bb9\u5668\ndocker exec -it -u root oracle12c /bin/bash\n\n# \u547d\u4ee4\u884c\u767b\u5f55\nsqlplus system/Admin123@localhost:1521/orclpdb as sysdba;\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://localhost:5500/em/",children:"OEM Express"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Account: system/Admin123 \u5bb9\u5668\u540d: orclpdb"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"laowuoracle",children:(0,s.jsx)(n.a,{href:"https://blog.csdn.net/weixin_44032384/article/details/131404349",children:"laowu/oracle"})}),"\n",(0,s.jsxs)(n.p,{children:["\u963f\u91cc\u4e91\u4ed3\u5e93\u5730\u5740: ",(0,s.jsx)(n.code,{children:"docker pull registry.cn-hangzhou.aliyuncs.com/laowu/oracle"})]}),"\n",(0,s.jsx)(n.h3,{id:"oracle-19c\u6d4b\u8bd5\u73af\u5883\u5feb\u901f\u642d\u5efa",children:"Oracle 19c\u6d4b\u8bd5\u73af\u5883\u5feb\u901f\u642d\u5efa"}),"\n",(0,s.jsx)(n.h3,{id:"1-\u5b89\u88c5",children:"1. \u5b89\u88c5"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"# \u4e0b\u8f7d\u955c\u50cf 19.3.0.0.0\ndocker pull registry.cn-hangzhou.aliyuncs.com/laowu/oracle:19c\n\n# \u521b\u5efa\u6587\u4ef6\nmkdir -p /mymount/oracle19c/oradata\n\n# \u6388\u6743\uff0c\u4e0d\u6388\u6743\u4f1a\u5bfc\u81f4\u540e\u9762\u5b89\u88c5\u5931\u8d25\nchmod 777 /mymount/oracle19c/oradata\n\ndocker run -d \\\n-p 1521:1521 -p 5500:5500 \\\n-e ORACLE_SID=SID \\\n-e ORACLE_PDB=PDB \\\n-e ORACLE_PWD=123456 \\\n-e ORACLE_EDITION=standard \\\n-e ORACLE_CHARACTERSET=AL32UTF8 \\\n-v /mymount/oracle19c/oradata:/opt/oracle/oradata \\\n--name oracle19c \\\nregistry.cn-hangzhou.aliyuncs.com/laowu/oracle:19c\n\n# \u67e5\u770b\u65e5\u5fd7 \u7b49\u5f85\u52a0\u8f7d\u8fdb\u5ea6\ndocker logs -tf oracle19c\n\n# \u51fa\u73b0\u4ee5\u4e0b\u5185\u5bb9\u8868\u793a\u542f\u52a8\u5b8c\u6210\n#########################\nDATABASE IS READY TO USE!\n#########################\n\n# \u8fdb\u5165\u5bb9\u5668\ndocker exec -it -u root oracle19c /bin/bash\n\n# \u767b\u5f55 sys / 123456\nsqlplus sys/123456@localhost:1521/pdb as sysdb;\n\n# \u767b\u5f55\u683c\u5f0f\nsqlplus username/password@hostname:port/service_name as role_name;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-\u5efa\u8868\u7a7a\u95f4\u7528\u6237",children:"2. \u5efa\u8868\u7a7a\u95f4\u3001\u7528\u6237"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u67e5\u8be2\u6570\u636e\u5e93\u5b9e\u4f8b\u7684\u540d\u79f0 \u4e5f\u5c31\u662foracle_sid\u503c\uff0c\u9ed8\u8ba4\u65f6xe\nSELECT name FROM v$database;\n\n-- \u67e5\u8be2oracle\u7684\u72b6\u6001\uff0c open\u8868\u793a\u6b63\u5e38\nSELECT status FROM v$instance;\n\n-- \u67e5\u770b\u6240\u6709\u7684\u8868\u7a7a\u95f4(\u6570\u636e\u5e93)\nSELECT name FROM v$tablespace;\n\n-- \u521b\u5efa\u8868\u7a7a\u95f4\n-- mkdir -p /home/oracle/escdb\n-- chmod 777 /home/oracle/escdb\n-- \u767b\u5f55\u6570\u636e\u5e93\nsqlplus sys/123456@localhost:1521/pdb as sysdba;\nCREATE TABLESPACE idm_spc DATAFILE '/opt/oracle/oradata/SID/PDB/idm_spc.dbf' \n  SIZE 100M AUTOEXTEND ON MAXSIZE 500M EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M;\n\n-- \u67e5\u8be2\u6240\u6709\u7528\u6237\u540d\nSELECT username FROM user_users;\n-- \u521b\u5efa\u7528\u6237\nCREATE USER IAM IDENTIFIED BY 123456 DEFAULT TABLESPACE idm_spc;\n-- \u5206\u914d\u89d2\u8272\nGRANT CONNECT,RESOURCE TO IAM;\n\n-- \u9000\u51fa\u540e\u4f7f\u7528\u65b0\u7528\u6237\u767b\u5f55\uff0c\u666e\u901a\u7528\u6237\u4e0d\u9700\u8981\u6307\u5b9a\u89d2\u8272\u7c7b\u578b\nsqlplus iam/123456@localhost:1521/pdb\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-\u5efa\u8868",children:"3. \u5efa\u8868"}),"\n",(0,s.jsx)(n.p,{children:"\uff08\u590d\u5236sql\uff0c\u66ff\u6362\u8868\u540d\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u518d\u4fee\u6539\u81ea\u5df1\u60f3\u8981\u7684\u5b57\u6bb5\u5373\u53ef\uff09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u67e5\u770b\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u7528\u6237\u7684\u6240\u6709\u8868\n-- SELECT table_name FROM user_tables;\n-- \u521b\u5efa\u8868\nCREATE TABLE IAM.test_table (\n  id NUMBER(10,0) VISIBLE NOT NULL,\n  name VARCHAR2(255 BYTE) VISIBLE,\n  create_time TIMESTAMP(6) VISIBLE DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  update_time TIMESTAMP(6) VISIBLE DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  del NUMBER(1,0) VISIBLE DEFAULT 0 NOT NULL,\n  primary key(id)\n) TABLESPACE IDM_SPC;\n\n-- \u8bbe\u7f6e\u5b57\u6bb5\u5907\u6ce8\nCOMMENT ON COLUMN IAM.test_table.id IS '\u4e3b\u952eid';\nCOMMENT ON COLUMN IAM.test_table.name IS '\u540d\u79f0';\nCOMMENT ON COLUMN IAM.test_table.create_time IS '\u521b\u5efa\u65f6\u95f4';\nCOMMENT ON COLUMN IAM.test_table.update_time IS '\u66f4\u65b0\u65f6\u95f4';\nCOMMENT ON COLUMN IAM.test_table.del IS '\u662f\u5426\u5df2\u5220\u9664 0: \u5426 1: \u662f';\n\n-- \u8bbe\u7f6e\u4e3b\u952e\u81ea\u589e\nALTER TABLE test_table ADD CONSTRAINT id PRIMARY KEY(id);\n\n-- \u81ea\u5b9a\u4e49\u5e8f\u5217\u540d\nCREATE SEQUENCE test_table_seq\n  INCREMENT BY 1\n  START WITH 1\n  NOMAXVALUE\n  NOMINVALUE\n  NOCACHE;\n\n-- \u521b\u5efa\u89e6\u53d1\u5668\nCREATE OR REPLACE TRIGGER test_table_seq\nBEFORE INSERT ON test_table FOR EACH ROW\nBEGIN\n  SELECT test_table_seq.nextval INTO :new.id FROM dual;\nEND;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4-\u6d4b\u8bd5\u65b0\u589e\u6570\u636e\u4e0e\u5220\u9664\u8868",children:"4. \u6d4b\u8bd5\u65b0\u589e\u6570\u636e\u4e0e\u5220\u9664\u8868"}),"\n",(0,s.jsx)(n.p,{children:"\uff08\u590d\u5236sql\uff0c\u66ff\u6362\u81ea\u5df1\u7684\u8868\u540d\uff09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u6d4b\u8bd5insert\ninsert into test_table (name) values('testname1');\nselect * from test_table;\n\n-- \u5220\u9664\u8868\uff08\u9700\u8981\u624b\u52a8\u5220\u9664\u81ea\u589e\u5e8f\u5217\uff09\nselect * from user_triggers; -- \u67e5\u770b\u6240\u6709\u89e6\u53d1\u5668\nselect * from user_sequences; -- \u67e5\u770b\u6240\u6709\u5e8f\u5217\ndrop table test_table; -- \u5220\u9664\u8868\ndrop sequence test_table_seq; -- \u5220\u9664\u5e8f\u5217\n"})}),"\n",(0,s.jsx)(n.h3,{id:"5-oracle19c\u5e38\u7528\u547d\u4ee4sql\u6c47\u603b",children:"5. oracle19c\u5e38\u7528\u547d\u4ee4/sql\u6c47\u603b"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u8fde\u63a5"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sqlplus username/password\nsqlplus username/password as role_name;\nsqlplus username/password@service_name;\nsqlplus username/password@service_name as role_name;\nsqlplus username/password@hostname:port/service_name as role_name;\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u5b9e\u4f8b\u3001\u670d\u52a1"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u4e00\u4e2aoracle\u8868\u793a\u4e00\u4e2a\u5b9e\u4f8b,\u4e00\u4e2a\u5b9e\u4f8b\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u670d\u52a1,\u72ec\u7acb\u7ef4\u62a4\u7684oracle\u670d\u52a1"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u67e5\u8be2\u6570\u636e\u5e93\u5b9e\u4f8b\u7684\u540d\u79f0\uff0c\u4e5f\u5c31\u662f ORACLE_SID \u7684\u503c\nSELECT name FROM v$database;\nselect instance_name from v$instance;\n\n-- \u67e5\u770b\u5f53\u524d\u5b9e\u4f8b\u4e2d\u7684\u6240\u6709\u670d\u52a1\nSELECT name FROM v$services;\n-- \u67e5\u770b\u7248\u672c\nselect * from v$version;\n-- \u67e5\u8be2oracle server\u7aef\u7684\u5b57\u7b26\u96c6\uff0c\u9ed8\u8ba4\u662f AMERICAN_AMERICA.AL32UTF8\nselect userenv(\\'language\\') from dual;\n\n-- \u5728 Oracle 12c \u53ca\u4ee5\u4e0a\u7248\u672c\u4e2d\uff0c\u5f15\u5165\u4e86 CDB \u548c PDB \u7684\u6982\u5ff5\u3002CDB \u662f\u4e00\u4e2a\u5bb9\u5668\u6570\u636e\u5e93\uff0c\u800c PDB \u662f\u53ef\u63d2\u5165\u6570\u636e\u5e93\u3002\u5728 CDB \u4e2d\uff0c\u53ea\u80fd\u521b\u5efa\u516c\u5171\u7528\u6237\uff08Common User\uff09\uff0c\u800c\u4e0d\u80fd\u76f4\u63a5\u5728 CDB \u4e2d\u521b\u5efa\u666e\u901a\u7528\u6237\u3002\nshow con_name;  -- \u67e5\u770b\u5f53\u524d\u4f1a\u8bdd\u662fCDB\u8fd8\u662fPDB\nshow pdbs; -- \u67e5\u770b\u6240\u6709PDB\nALTER SESSION SET CONTAINER = pdb_name;   -- \u5207\u6362\u5230\u6307\u5b9a\u7684PDB\n-- \u5207\u6362\u5230CDB:   ALTER SESSION SET CONTAINER = CDB$ROOT;\n\n-- \u6240\u4ee5\u8fd9\u91cc\u5efa\u8bae\u8fde\u63a5\u6570\u636e\u5e93\u65f6\uff0c\u5c31\u6307\u5b9aPDB\uff08\u670d\u52a1\u540d\uff09\nsqlplus username/password@hostname:port/service_name  as role_name;\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u8868\u7a7a\u95f4\uff08\u7c7b\u4f3c\u4e8emysql\u4e2d\u7684\u5e93\uff09"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u4e00\u4e2a\u670d\u52a1\u5185\u53ef\u4ee5\u6709\u591a\u4e2a\u8868\u7a7a\u95f4\uff0c\u9ed8\u8ba4\u8868\u7a7a\u95f4\u5c31\u6709\u5f88\u591a\uff0c\u6bd4\u5982\u5e38\u89c1\u7684SYSTEM\u3001TEMP\u3001USERS"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u67e5\u770b\u6240\u6709\u8868\u7a7a\u95f4\uff08\u76f8\u5f53\u4e8emysql\u4e2d\u7684\u5e93\uff09\nSELECT name FROM v$tablespace;\n-- \u67e5\u770b\u5f53\u524d\u4f1a\u8bdd\u9ed8\u8ba4\u7684\u8868\u7a7a\u95f4\nSELECT PROPERTY_NAME, PROPERTY_VALUE FROM DATABASE_PROPERTIES WHERE PROPERTY_NAME = \\'DEFAULT_PERMANENT_TABLESPACE\\';\n-- \u67e5\u770b\u5f53\u524d\u4f1a\u8bdd\u9ed8\u8ba4\u7684\u4e34\u65f6\u8868\u7a7a\u95f4\nSELECT PROPERTY_NAME, PROPERTY_VALUE FROM DATABASE_PROPERTIES WHERE PROPERTY_NAME = \\'DEFAULT_TEMP_TABLESPACE\\';\n\n-- \u521b\u5efa\u8868\u7a7a\u95f4\nCREATE TABLESPACE tablespace_name DATAFILE \\'/path/to/datafile.dbf\\' SIZE 100M AUTOEXTEND ON MAXSIZE  500M EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M;\n\n-- \u5220\u9664\u8868\u7a7a\u95f4 (\u9700\u8981\u624b\u52a8\u5220\u9664dbf\u6587\u4ef6)\ndrop tablespace tablespace_name including contents cascade constraints;\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"\u7528\u6237\u3001\u89d2\u8272"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u5e38\u89c1\u7684\u9ed8\u8ba4\u89d2\u8272\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["1\u3001",(0,s.jsx)(n.code,{children:"CONNECT"}),"\uff1a\u8be5\u89d2\u8272\u7528\u4e8e\u5141\u8bb8\u7528\u6237\u8fde\u63a5\u5230\u6570\u636e\u5e93\u7684\u6700\u4f4e\u7ea7\u522b\u6743\u9650\u3002\u5b83\u5305\u542b\u4e86\u6700\u57fa\u672c\u7684\u6743\u9650\uff0c\u5982\u521b\u5efa\u4f1a\u8bdd\u3001\u521b\u5efa\u8868\u3001\u521b\u5efa\u5e8f\u5217\u7b49\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:["2\u3001",(0,s.jsx)(n.code,{children:"RESOURCE"}),"\uff1a\u8be5\u89d2\u8272\u7528\u4e8e\u5141\u8bb8\u7528\u6237\u521b\u5efa\u548c\u7ba1\u7406\u5bf9\u8c61\uff08\u5982\u8868\u3001\u89c6\u56fe\u3001\u5e8f\u5217\u7b49\uff09\u7684\u6743\u9650\u3002\u5b83\u5305\u542b\u4e86 CONNECT \u89d2\u8272\u7684\u6743\u9650\uff0c\u5e76\u4e14\u8fd8\u5305\u62ec\u521b\u5efa\u7d22\u5f15\u3001\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\u548c\u89e6\u53d1\u5668\u7684\u6743\u9650\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:["3\u3001",(0,s.jsx)(n.code,{children:"DBA"}),"\uff1a\u8be5\u89d2\u8272\u662f\u6570\u636e\u5e93\u7ba1\u7406\u5458\u89d2\u8272\uff0c\u62e5\u6709\u5bf9\u6574\u4e2a\u6570\u636e\u5e93\u7684\u5b8c\u5168\u8bbf\u95ee\u6743\u9650\u3002\u5b83\u5305\u542b\u4e86 CONNECT \u548c RESOURCE \u89d2\u8272\u7684\u6743\u9650\uff0c\u5e76\u4e14\u8fd8\u5305\u62ec\u8bb8\u591a\u5176\u4ed6\u9ad8\u7ea7\u6743\u9650\uff0c\u5982\u521b\u5efa\u7528\u6237\u3001\u521b\u5efa\u8868\u7a7a\u95f4\u3001\u5907\u4efd\u6062\u590d\u7b49\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u67e5\u8be2\u6240\u6709\u8d26\u6237\nSELECT * FROM user_users;\n-- SELECT * FROM ALL_USERS;\n-- \u521b\u5efa\u7528\u6237\nCREATE USER your_username IDENTIFIED BY your_password  DEFAULT TABLESPACE your_tablespace;\n-- \u5206\u914d\u89d2\u8272\nGRANT CONNECT, RESOURCE TO your_username;\n-- \u4fee\u6539\u7528\u6237 system \u7684\u5bc6\u7801\u4e3a 123456 \uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\nalter user system identified by \"123456\";   \n-- \u5220\u9664\u7528\u6237\ndrop user your_username cascade;\n-- \u67e5\u770b\u7528\u6237\u62e5\u6709\u7684\u89d2\u8272\nSELECT * FROM DBA_ROLE_PRIVS WHERE GRANTEE = \\'YOUR_USERNAME\\';\n-- \u67e5\u770b\u5f53\u524d\u7528\u6237\u7684\u89d2\u8272\nSELECT * FROM USER_ROLE_PRIVS;\n-- \u67e5\u770b\u89d2\u8272\u7684\u8be6\u7ec6\u4fe1\u606f\nSELECT * FROM DBA_ROLES WHERE ROLE = \\'YOUR_ROLE\\';\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:"\u8868"}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u67e5\u770b\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709\u8868"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- SELECT table_name FROM all_tables;\nSELECT table_name FROM user_tables;\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5efa\u8868"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u521b\u5efa\u8868\nCREATE TABLE IAM.test_table (\n  id NUMBER(10,0) VISIBLE NOT NULL,\n  name VARCHAR2(255 BYTE) VISIBLE,\n  create_time TIMESTAMP(6) VISIBLE DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  update_time TIMESTAMP(6) VISIBLE DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  del NUMBER(1,0) VISIBLE DEFAULT 0 NOT NULL,\n  primary key(id)\n) TABLESPACE IDM_SPC;\n\n-- \u8bbe\u7f6e\u5b57\u6bb5\u5907\u6ce8\nCOMMENT ON COLUMN IAM.test_table.id IS \\'\u4e3b\u952eid\\';\nCOMMENT ON COLUMN IAM.test_table.name IS \\'\u540d\u79f0\\';\nCOMMENT ON COLUMN IAM.test_table.create_time IS \\'\u521b\u5efa\u65f6\u95f4\\';\nCOMMENT ON COLUMN IAM.test_table.update_time IS \\'\u4fee\u6539\u65f6\u95f4\\';\nCOMMENT ON COLUMN IAM.test_table.del IS \\'\u662f\u5426\u5df2\u5220\u9664 0\uff1a\u5426    1\uff1a\u662f\\';\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u8bbe\u7f6e\u4e3b\u952e\u81ea\u589e"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u8bbe\u7f6e\u4e3b\u952e\u81ea\u589e \u8868\u540d\uff1atest_table\n\n-- 1\u3001\u8bbe\u7f6e\u4e3b\u952e\u5b57\u6bb5\uff08\u5efa\u8868\u65f6\u5df2\u7ecf\u6307\u5b9a\u8fc7\u4e3b\u952e\uff0c\u8fd9\u91cc\u4e0d\u7528\u91cd\u590d\u6267\u884c\uff09\n-- alter table test_table add constraint id primary key (id);\n\n-- 2\u3001\u81ea\u5b9a\u4e49\u5e8f\u5217\u540d test_table_seq\ncreate sequence test_table_seq\nincrement by 1 \nstart with 1 \nnomaxvalue \nnominvalue \nnocache;\n\n-- 3\u3001\u521b\u5efa\u89e6\u53d1\u5668\ncreate or replace trigger test_table_seq  \nbefore insert on test_table for each row \nbegin \n  select test_table_seq.nextval into :new.id from dual; \nend;\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u67e5\u770b\u4e0e\u8c03\u6574\u4e3b\u952e\u81ea\u589e\u503c"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u67e5\u770b\u5f53\u524d\u8868\u7684\u89e6\u53d1\u5668\nSELECT * FROM USER_TRIGGERS WHERE TABLE_NAME = \\'TEST_TABLE\\'; \n-- \u67e5\u770b\u5e8f\u5217\u8be6\u60c5 \n-- \u5176\u4e2dLAST_NUMBER \u5e76\u4e0d\u662f\u8868\u793a\u6700\u540e\u4e00\u6b21\u65b0\u589e\uff0c\u800c\u662f\u4e0b\u6b21\u65b0\u589e\u65f6\u7684\u5e8f\u5217\u503c\nselect * from user_sequences where sequence_name=\\'TEST_TABLE_SEQ\\'; \n-- \u624b\u52a8\u89e6\u53d1\u81ea\u589e\uff1a\uff08\u67e5\u8be2\u4e00\u6b21\u5c31\u4f1a\u81ea\u589e\u4e00\u6b21\uff0c\u4e5f\u5c31\u662f\u4f1a\u8bf4\u4f1a\u5360\u7528\u4e00\u6b21id\u503c\uff09\nSELECT test_table_seq.NEXTVAL FROM DUAL;\n-- id\u81ea\u589e\u503c\u521d\u59cb\u5316\uff1a\u5148\u5220\u9664\u81ea\u589e\u5e8f\u5217\u4e0e\u89e6\u53d1\u5668\uff0c\u518d\u91cd\u65b0\u521b\u5efa\u4e00\u904d\u5373\u53ef\ndrop sequence test_table_seq; \ndrop trigger  test_table_seq;\n-- id\u81ea\u589e\u503c\u7684\u8c03\u6574\n-- oracle\u4e2d\u4e0d\u80fd\u8c03\u6574\uff0c\u53ea\u80fd\u5220\u9664\u540e\u91cd\u65b0\u521b\u5efa\u5e8f\u5217\uff0c\u7136\u540e\u53ef\u4ee5\u901a\u8fc7start with \u6765\u6307\u5b9a\u8d77\u59cb\u503c\uff0c\u6bd4\u5982start with 100\uff0c\u65b0\u589e\u7684\u7b2c\u4e00\u6761\u6570\u636eid\u503c\u5c31\u662f100\uff1b\n-- \u8865\u5145\uff1a\n-- \u5f53\u524d\u8868\u5982\u679c\u6709\u591a\u4e2a\u89e6\u53d1\u5668\uff0c\u6267\u884c\u987a\u5e8f\u7531\u4e0a\u5230\u4e0b\uff1a\nSELECT * FROM SYS.OBJ$ where NAME like \\'%TEST_TABLE%\\' and type#=12 ORDER BY OBJ# desc;\n-- sys.obj$ \u8868\u662foracle \u6570\u636e\u5e93\u5b57\u5178\u8868\u4e2d\u7684\u5bf9\u8c61\u57fa\u7840\u8868\n-- type#=12 \u8868\u793a trigger \u5bf9\u8c61\uff0c 6\u8868\u793asequence\u5bf9\u8c61\uff0c2\u8868\u793atable\u5bf9\u8c61\n-- \u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u8fd9\u91cc\u4e0d\u5c0f\u5fc3\u521b\u5efa\u4e86\u591a\u4e2aid\u81ea\u589e\u7684\u89e6\u53d1\u5668\uff0c\u90a3\u4e48\u4f1a\u4ee5\u6700\u540e\u4e00\u6b21\u6267\u884c\u7684\u89e6\u53d1\u5668\u7ed3\u679c\u4e3a\u51c6\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5220\u9664\u8868"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u5220\u9664\u8868\nDROP TABLE test_table;\n-- \u6e05\u9664\u8868\u6570\u636e\uff0c TRUNCATE \u8bed\u53e5\u6bd4 DELETE \u8bed\u53e5\u66f4\u5feb\uff0c\u56e0\u4e3a\u5b83\u4e0d\u4f1a\u8bb0\u5f55\u6bcf\u6b21\u5220\u9664\u7684\u884c\uff0c\u800c\u662f\u76f4\u63a5\u5220\u9664\u6574\u4e2a\u8868\u7684\u6570\u636e\u3002\u4f46\u662f\uff0cTRUNCATE \u8bed\u53e5\u65e0\u6cd5\u56de\u6eda\u64cd\u4f5c\uff0c\u800c DELETE \u8bed\u53e5\u53ef\u4ee5\u56de\u6eda\u3002\nDELETE FROM test_table;\nTRUNCATE TABLE test_table;\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u4fee\u6539\u8868\u7ed3\u6784"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u8868\u7ed3\u6784\u4fee\u6539\n-- \u6dfb\u52a0\u5217\uff08ADD\uff09 \nALTER TABLE table_name ADD (column_name data_type);\n-- \u5220\u9664\u5217\nALTER TABLE table_name DROP COLUMN column_name;\n-- \u4fee\u6539\u5217\u540d\nALTER TABLE table_name RENAME COLUMN old_column_name TO new_column_name;\n-- \u4fee\u6539\u5217\u7c7b\u578b\u4ee5\u53ca\u957f\u5ea6\nALTER TABLE table_name MODIFY (column_name data_type(size));\n-- \u4fee\u6539\u5b57\u6bb5\u6ce8\u91ca\nCOMMENT ON COLUMN table_name.column_name IS \\'New column comment\\';\n"})}),"\n",(0,s.jsx)(n.h3,{id:"oracle-12c\u6d4b\u8bd5\u73af\u5883\u5feb\u901f\u642d\u5efa",children:"oracle 12c\u6d4b\u8bd5\u73af\u5883\u5feb\u901f\u642d\u5efa"}),"\n",(0,s.jsx)(n.p,{children:"\u5b89\u88c5 \uff08\u63a8\u8350\u5b89\u88c512.2\u7248\u672c\uff09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"# \u4e0b\u8f7d oracle 12.1\n#\uff08\u5751\uff1a\u8868\u3001\u5b57\u6bb5\u3001\u7d22\u5f15\u540d\u3001\u89c6\u56fe\u540d\u547d\u540d\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7 30 \uff09\ndocker pull docker.io/truevoly/oracle-12c# \u4e0b\u8f7d oracle 12.2 \n# \uff08\u6807\u8bc6\u7b26\u7684\u957f\u5ea6\u652f\u6301 30 \u4ee5\u4e0a\u4e86\uff0c\u4e14\u6700\u5927\u4e3a 128 \u4e2a\u5b57\u7b26\uff09\ndocker pull registry.cn-hangzhou.aliyuncs.com/zhuyijun/oracle-12c\n# \u521b\u5efa\u6587\u4ef6\nmkdir -p /mymount/oracle-12/oradata\n# \u6388\u6743\uff0c\u4e0d\u6388\u6743\u4f1a\u5bfc\u81f4\u540e\u9762\u5b89\u88c5\u5931\u8d25\nchmod 777 /mymount/oracle-12/oradata# 12.1\n\ndocker run -d  \\\n  -p 1522:1521 \\\n  -v /mymount/oracle-12/oradata:/home/oracle/data_temp \\\n  -e oracle_allow_remote=true \\\n  --name orcle12c \\\n  truevoly/oracle-12c\n  \n# 12.2\n# -e ORACLE_CHARACTERSET=zhs16gbk \\\ndocker run  --name oracle12.2 -d \\\n  -p 1521:1521 -p 5500:5500 \\\n  -e ORACLE_SID=orcl \\\n  -e ORACLE_PDB=orclpdb1 \\\n  -e ORACLE_PWD=123456 \\\n  -v /mymount/oracle-12/oradata:/opt/oracle/oradata \\\n  registry.cn-hangzhou.aliyuncs.com/laowu/oracle:12.2.0.1.0 \n\n# \u8fde\u63a5\u6570\u636e\u5e93\u767b\u5f55 \u9ed8\u8ba4\u8d26\u53f7\u5bc6\u7801\uff1asystem/oracle\ndocker exec -it  oracle-12c  /bin/bash\nsqlplus system/oracle@localhost:1521/xe as sysdba\n\n# \u5efa\u8868\u7b49\u5176\u5b83\u64cd\u4f5c\u8bfe\u53c2\u8003oracle19c\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u5982\u679c\u8fde\u63a5\u62a5\u9519\uff1a\nOracle\u6570\u636e\u5e93\u62a5\u9519\uff1aOracle net admin error\n\u53bb\u4e0b\u8f7d ",(0,s.jsx)(n.a,{href:"https://www.oracle.com/database/technologies/instant-client/downloads.html",children:"https://www.oracle.com/database/technologies/instant-client/downloads.html"}),"\n\u4e0b\u8f7d\u540e\u89e3\u538b\uff0c\u914d\u7f6enavicat\u73af\u5883\uff1a\uff08\u9700\u8981\u91cd\u542fnavicat\u540e\u751f\u6548\uff09\n",(0,s.jsx)(n.code,{children:"\u5de5\u5177"})," - ",(0,s.jsx)(n.code,{children:"\u9009\u9879"})," - ",(0,s.jsx)(n.code,{children:"\u73af\u5883"})," - ",(0,s.jsx)(n.code,{children:"OCI\u73af\u5883"})," - ",(0,s.jsx)(n.code,{children:"OCI libiary oci.dll"}),"\u6dfb\u52a0\u5730\u5740"]}),"\n",(0,s.jsx)(n.h2,{id:"zhuyijunoracle-12c",children:(0,s.jsx)(n.a,{href:"https://hub.docker.com/r/zhuyijun/oracle-12c",children:"zhuyijun/oracle-12c"})}),"\n",(0,s.jsxs)(n.p,{children:["\u963f\u91cc\u4e91\u4ed3\u5e93\u5730\u5740: ",(0,s.jsx)(n.code,{children:"docker pull registry.cn-hangzhou.aliyuncs.com/zhuyijun/oracle-12c"})]}),"\n",(0,s.jsxs)(n.p,{children:["Orcale\u6570\u636e\u5e9312c\u300119c\n\u6570\u636e\u5e93\u7248\u672c\u4e3a",(0,s.jsx)(n.code,{children:"Orcale 12.2.0.1"})," ",(0,s.jsx)(n.code,{children:"Orcale19.3.0.0"})]}),"\n",(0,s.jsx)(n.h3,{id:"1\u4e0b\u8f7d\u955c\u50cf",children:"1\u3001\u4e0b\u8f7d\u955c\u50cf"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"docker pull zhuyijun/oracle-12c\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2\u542f\u52a8\u5bb9\u5668",children:"2\u3001\u542f\u52a8\u5bb9\u5668"}),"\n",(0,s.jsx)(n.h4,{id:"112c\u7248\u672c",children:"1\uff0912c\u7248\u672c"}),"\n",(0,s.jsx)(n.p,{children:"linux\u73af\u5883\u4e0bdocker\u542f\u52a8\u5bb9\u5668\u547d\u4ee4"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"docker run   --name myoracle  -p 1521:1521 -p 5500:5500 \\\n-e ORACLE_SID=orcl \\\n-e ORACLE_PDB=orclpdb1 \\\n-e ORACLE_PWD=123456 \\\n-e ORACLE_CHARACTERSET=al32utf8 \\\n-e ORACLE_BASE=/opt/oracle \\\n-e ORACLE_HOME=/opt/oracle/product/12.2.0.1/dbhome_1 \\\n-e PATH=/opt/oracle/product/12.2.0.1/dbhome_1/bin:/opt/oracle/product/12.2.0.1/dbhome_1/OPatch/:/usr/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\n-v /home/nicemoe/oradata:/opt/oracle/oradata \\\nzhuyijun/oracle-12c:latest\n"})}),"\n",(0,s.jsx)(n.p,{children:"windows\u73af\u5883\u4e0b\u542f\u52a8orcale\u5bb9\u5668\u547d\u4ee4"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"docker run   --name myoracle  -p 1521:1521 -p 5500:5500 `\n-e ORACLE_SID=orcl `\n-e ORACLE_PDB=orclpdb1 `\n-e ORACLE_PWD=123456 `\n-e ORACLE_CHARACTERSET=al32utf8 `\n-e ORACLE_BASE=/opt/oracle `\n-e ORACLE_HOME=/opt/oracle/product/12.2.0.1/dbhome_1 `\n-e PATH=/opt/oracle/product/12.2.0.1/dbhome_1/bin:/opt/oracle/product/12.2.0.1/dbhome_1/OPatch/:/usr/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin `\n-v /d/docker/data/oradata:/opt/oracle/oradata `\noracle-12c:latest\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u6ce8\u610f\u4f7f\u7528\u4e4b\u524d\u4fee\u6539",(0,s.jsx)(n.code,{children:"/home/nicemoe/oradata"}),"\u4e3a\u81ea\u5df1\u7684"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"/d/docker/data/oradata"}),"\u610f\u601d\u662f",(0,s.jsx)(n.code,{children:"D:/docker/data/oradata"}),"\u6587\u4ef6\u5939"]}),"\n",(0,s.jsx)(n.h4,{id:"219c\u7248\u672c",children:"2\uff0919c\u7248\u672c"}),"\n",(0,s.jsx)(n.p,{children:"linux\u73af\u5883\u4e0b\u542f\u52a8\u5bb9\u5668\u547d\u4ee4"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"docker run  --name myoracle  -p 1521:1521 -p 5500:5500 \\\n-e ORACLE_SID=orcl \\\n-e ORACLE_PDB=orclpdb1 \\\n-e ORACLE_PWD=123456 \\\n-e ORACLE_CHARACTERSET=zhs16gbk \\\n-e ORACLE_BASE=/opt/oracle \\\n-e ORACLE_HOME=/opt/oracle/product/12.2.0.1/dbhome_1 \\\n-e PATH=/opt/oracle/product/12.2.0.1/dbhome_1/bin:/opt/oracle/product/12.2.0.1/dbhome_1/OPatch/:/usr/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\n-v /home/nicemoe/oradata:/opt/oracle/oradata \\\nregistry.cn-hangzhou.aliyuncs.com/zhuyijun/oracle-12c:19c\n"})}),"\n",(0,s.jsx)(n.p,{children:"windows\u73af\u5883\u4e0b\u542f\u52a8orcale\u5bb9\u5668\u547d\u4ee4"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"docker run   --name myoracle  -p 1521:1521 -p 5500:5500 \\\n-e ORACLE_SID=orcl \\\n-e ORACLE_PDB=orclpdb1 \\\n-e ORACLE_PWD=123456 \\\n-e ORACLE_CHARACTERSET=zhs16gbk \\\n-e ORACLE_BASE=/opt/oracle \\\n-e ORACLE_HOME=/opt/oracle/product/12.2.0.1/dbhome_1 \\\n-e PATH=/opt/oracle/product/12.2.0.1/dbhome_1/bin:/opt/oracle/product/12.2.0.1/dbhome_1/OPatch/:/usr/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\n-v /d/docker/data/oradata:/opt/oracle/oradata \\\nregistry.cn-hangzhou.aliyuncs.com/zhuyijun/oracle-12c:19c\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u547d\u4ee4\u89e3\u91ca:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-d"}),": \u540e\u53f0\u8fd0\u884c\u5bb9\u5668\uff0c\u5e76\u8fd4\u56de\u5bb9\u5668ID\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-p"}),": \u6307\u5b9a\u7aef\u53e3\u6620\u5c04\uff0c\u683c\u5f0f\u4e3a\uff1a\u4e3b\u673a(\u5bbf\u4e3b)\u7aef\u53e3:\u5bb9\u5668\u7aef\u53e3"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"--name"}),": \u4e3a\u5bb9\u5668\u6307\u5b9a\u4e00\u4e2a\u540d\u79f0\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-e"}),"\uff1a\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-v"}),"\uff1a\u7ed1\u5b9a\u4e00\u4e2a\u5377 \u4f8b\u5b50\uff1a",(0,s.jsx)(n.code,{children:"/home/nicemoe/oradata:/opt/oracle/oradata"}),"    ",(0,s.jsx)(n.code,{children:"/home/nicemoe/oradata"}),"\u4e3a\u81ea\u5df1\u521b\u5efaorcale\u6570\u636e\u76ee\u5f55\uff0c\u9700\u8981\u5206\u914d\u6743\u9650"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3\u4fee\u6539\u5bc6\u7801",children:"3\u3001\u4fee\u6539\u5bc6\u7801"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"docker exec <container name> ./setPassword.sh <your password>\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4f8b\u5982\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"docker exec d38c6077ec85 ./setPassword.sh 123456\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4\u8fde\u63a5\u6570\u636e\u5e93",children:"4\u3001\u8fde\u63a5\u6570\u636e\u5e93"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sqlplus sys/<your password>@//localhost:1521/<your SID> as sysdba\nsqlplus system/<your password>@//localhost:1521/<your SID>\nsqlplus pdbadmin/<your password>@//localhost:1521/<Your PDB name>\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4f8b\u5b50:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sqlplus sys/123456@//localhost:1521/orcl as sysdba\nsqlplus system/123456@//localhost:1521/orcl\nsqlplus pdbadmin/123456@//localhost:1521/orclpdb1\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"5\u5bb9\u5668\u4e2d\u7684oracle\u6570\u636e\u5e93\u8fd8\u914d\u7f6e\u4e86oracle-enterprise-manager-express\u8981\u8bbf\u95eeoem-express\u8bf7\u542f\u52a8\u6d4f\u89c8\u5668\u5e76\u6309\u7167\u4ee5\u4e0burl\u8fdb\u884c\u64cd\u4f5c",children:["5\u3001\u5bb9\u5668\u4e2d\u7684Oracle\u6570\u636e\u5e93\u8fd8\u914d\u7f6e\u4e86",(0,s.jsx)(n.code,{children:"Oracle Enterprise Manager Express"}),"\u3002\u8981\u8bbf\u95ee",(0,s.jsx)(n.code,{children:"OEM Express"}),"\uff0c\u8bf7\u542f\u52a8\u6d4f\u89c8\u5668\u5e76\u6309\u7167\u4ee5\u4e0bURL\u8fdb\u884c\u64cd\u4f5c\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"https://localhost:5500/em/\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u7528\u6237\u540d"}),(0,s.jsx)(n.th,{children:"system/sys\u7b49"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u53e3\u4ee4"}),(0,s.jsx)(n.td,{children:"123456"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u5bb9\u5668\u540d"}),(0,s.jsx)(n.td,{children:"orclpdb1"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"\u82e5\u8981\u4ee5sysdba\u8eab\u4efd\u767b\u5f55:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u7528\u6237\u540d"}),(0,s.jsx)(n.th,{children:"sys"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u53e3\u4ee4"}),(0,s.jsx)(n.td,{children:"123456"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u5bb9\u5668\u540d"}),(0,s.jsx)(n.td,{children:"orclpdb1"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"# \u5207\u6362\u5230root\u8d26\u6237 \uff08\u5bc6\u7801\uff1ahelowin\uff09\nsu root\n\n# \u7f16\u8f91\u73af\u5883\u53d8\u91cf\nvim /etc/profile\n\nexport ORACLE_HOME=/home/oracle/app/oracle/product/11.2.0/dbhome_2\nexport ORACLE_SID=helowin\nexport PATH=$ORACLE_HOME/bin:$PATH\n\n# \u4f7f\u914d\u7f6e\u751f\u6548\nsource /etc/profile\n\n# \u521b\u5efa\u8f6f\u94fe\u63a5\nln -s $ORACLE_HOME/bin/sqlplus /usr/bin\n\n# \u5207\u6362\u5230oracle\u7528\u6237\uff0c\u767b\u5f55sqlplus\nsu - oracle\n\n# \u533f\u540d\u767b\u5f55\nsqlplus /nolog\n\n# dba\u8eab\u4efd\u767b\u5f55\nconn /as sysdba\n\nALTER USER system IDENTIFIED BY YOUR_PASSWORD;\nALTER USER sys IDENTIFIED BY YOUR_PASSWORD;\nALTER profile default limit PASSWORD_LIFE_TIME UNLIMITED;\n# \u5982\u679c\u4f60\u61d2\u5f97\u5199\u53ef\u4ee5\u76f4\u63a5\u590d\u5236\u4e0b\u9762\u7684\uff01\nALTER USER system IDENTIFIED BY system;\nALTER USER sys IDENTIFIED BY sys;\n\n# \u89e3\u9501\u7528\u6237\nALTER USER scott ACCOUNT UNLOCK;\nALTER USER scott IDENTIFIED BY scott;\n\n# \u521b\u5efa\u7528\u6237\uff08\u53ef\u9009\uff0c\u6839\u636e\u9700\u8981\uff09\n# \u7528\u4e00\u4e2a\u5177\u6709dba\u6743\u9650\u7684\u7528\u6237\u767b\u5f55\uff08sysdba)\uff0c\u7136\u540e\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5\nCREATE USER light IDENTIFIED BY light;\nGRANT connect,resource,dba TO light;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u5e38\u7528\u64cd\u4f5c",children:"\u5e38\u7528\u64cd\u4f5c"}),"\n",(0,s.jsx)(n.h3,{id:"\u6570\u636e\u5e93\u64cd\u4f5c",children:"\u6570\u636e\u5e93\u64cd\u4f5c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u67e5\u8be2\u53ef\u7528\u6570\u636e\u5e93\u540d\nSELECT instance_name FROM v$instance;\n\n-- \u67e5\u8be2\u53ef\u7528\u7528\u6237\u540d\nSHOW user;\n\n-- \u67e5\u8be2\u6570\u636e\u5e93\u5b9e\u4f8b\u7684\u540d\u79f0 \u4e5f\u5c31\u662foracle_sid\u503c\uff0c\u9ed8\u8ba4\u65f6xe\nSELECT name FROM v$database;\n\n-- \u67e5\u8be2oracle\u7684\u72b6\u6001\uff0c open\u8868\u793a\u6b63\u5e38\nSELECT status FROM v$instance;\n\n-- \u67e5\u770b\u6240\u6709\u7684\u8868\u7a7a\u95f4(\u6570\u636e\u5e93)\nSELECT name FROM v$tablespace;\n\n-- \u521b\u5efa\u8868\u7a7a\u95f4\n-- mkdir -p /home/oracle/escdb\n-- chmod 777 /home/oracle/escdb\n-- \u767b\u5f55\u6570\u636e\u5e93\nsqlplus sys/123456@localhost:1521/pdb as sysdb;\nCREATE TABLESPACE idm_spc DATAFILE '/opt/oracle/oradata/SID/PDB/idm_spc.dbf' \n  SIZE 100M AUTOEXTEND ON MAXSIZE 500M EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M;\n\n-- \u67e5\u8be2\u6240\u6709\u7528\u6237\u540d\nSELECT username FROM user_users;\n-- \u521b\u5efa\u7528\u6237\nCREATE USER IAM IDENTIFIED BY 123456 DEFAULT TABLESPACE idm_spc;\n-- \u5206\u914d\u89d2\u8272\nGRANT CONNECT,RESOURCE TO IAM;\n\n-- \u9000\u51fa\u540e\u4f7f\u7528\u65b0\u7528\u6237\u767b\u5f55\uff0c\u666e\u901a\u7528\u6237\u4e0d\u9700\u8981\u6307\u5b9a\u89d2\u8272\u7c7b\u578b\nsqlplus iam/123456@localhost:1521/pdb\n"})}),"\n",(0,s.jsx)(n.h2,{id:"springboot\u9879\u76ee\u4e2d\u8fde\u63a5oracle",children:"springBoot\u9879\u76ee\u4e2d\u8fde\u63a5oracle"}),"\n",(0,s.jsx)(n.h3,{id:"1-\u5173\u952e\u7684\u914d\u7f6e",children:"1. \u5173\u952e\u7684\u914d\u7f6e"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-properties",children:"spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\nspring.datasource.url=jdbc:oracle:thin:@//192.168.2.23:1521/\u4f60\u7684\u670d\u52a1\u540d\nspring.datasource.username=\u4f60\u7684\u7528\u6237\nspring.datasource.password=\u4f60\u7684\u5bc6\u7801\nspring.datasource.dialect=org.hibernate.dialect.Oracle12cDialect\nspring.datasource.hikari.driver-class-name=oracle.jdbc.OracleDriver\nspring.datasource.hikari.schema=\u4f60\u7684\u670d\u52a1\u540d\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-applicationyml",children:"2. application.yml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"server:\n  port: 8080\nspring:\n  datasource:\n    driver-class-name: oracle.jdbc.OracleDriver\n    url: jdbc:oracle:thin:@paravm:1521/ORCLPDB1\n    username: IAM\n    password: 123456\n#    driver-class-name: com.mysql.jdbc.Driver\n#    url: jdbc:mysql://vm:3306/whx?autoReconnect=true&autoReconnectForPools=true&allowMultiQueries=true&zeroDateTimeBehavior=convertToNull\n#    username: root\n#    password: mysql5.7\n\nmybatis-plus:  \n    mapper-locations: classpath*:mapper/**/*Mapper.xml\n    configuration:\n        log-impl: org.apache.ibatis.logging.stdout.StdOutImpl \n    global-config:  \n        db-config:      \n            # \u4e3b\u952e\u7b56\u7565   \n            id-type: auto\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"pom.xml"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>2.2.6.RELEASE</version>\n    </parent>\n\n    <groupId>com.example</groupId>\n    <artifactId>demo-temp</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <name>demo-temp</name>\n\n    <properties>\n        <java.version>1.8</java.version>\n    </properties>\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.projectlombok</groupId>\n            <artifactId>lombok</artifactId>\n            <optional>true</optional>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n        </dependency>\n\n        \x3c!-- https://mvnrepository.com/artifact/com.baomidou/mybatis-plus-boot-starter --\x3e\n        <dependency>\n            <groupId>com.baomidou</groupId>\n            <artifactId>mybatis-plus-boot-starter</artifactId>\n            <version>3.5.2</version>\n        </dependency>\n        <dependency>\n            <groupId>com.oracle.database.jdbc</groupId>\n            <artifactId>ojdbc8</artifactId>\n            <version>12.2.0.1</version>\n        </dependency>\n        \x3c!-- <dependency>\n            <groupId>mysql</groupId>\n            <artifactId>mysql-connector-java</artifactId>\n            <version>5.1.49</version>\n        </dependency> --\x3e\n        <dependency>\n            <groupId>cn.hutool</groupId>\n            <artifactId>hutool-all</artifactId>\n            <version>5.7.16</version>\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-compiler-plugin</artifactId>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n'})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(i,{...e})}):i(e)}}}]);