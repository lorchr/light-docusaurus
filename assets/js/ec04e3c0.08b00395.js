"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[4866],{46865:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>x,frontMatter:()=>i,metadata:()=>r,toc:()=>h});var s=l(85893),d=l(11151);const i={},c=void 0,r={id:"zh-cn/linux/common/Linux-Commands-2",title:"Linux-Commands-2",description:"\u867d\u7136\u5e73\u65f6\u5927\u90e8\u5206\u5de5\u4f5c\u90fd\u662f\u548cJava\u76f8\u5173\u7684\u5f00\u53d1, \u4f46\u662f\u6bcf\u5929\u90fd\u4f1a\u63a5\u89e6Linux\u7cfb\u7edf, \u5c24\u5176\u662f\u4f7f\u7528\u4e86Mac\u4e4b\u540e, \u6bcf\u5929\u90fd\u662f\u5de5\u4f5c\u5728\u9ed1\u8272\u80cc\u666f\u7684\u547d\u4ee4\u884c\u73af\u5883\u4e2d. \u81ea\u5df1\u8bb0\u5fc6\u529b\u4e0d\u597d, \u5f88\u591a\u6709\u7528\u7684Linux\u547d\u4ee4\u4e0d\u80fd\u5f88\u597d\u7684\u8bb0\u5fc6, \u73b0\u5728\u9010\u6e10\u603b\u7ed3\u4e00\u4e0b, \u4ee5\u4fbf\u540e\u7eed\u67e5\u770b.",source:"@site/docs/zh-cn/linux/common/2-Linux-Commands-2.md",sourceDirName:"zh-cn/linux/common",slug:"/zh-cn/linux/common/Linux-Commands-2",permalink:"/light-docusaurus/docs/zh-cn/linux/common/Linux-Commands-2",draft:!1,unlisted:!1,editUrl:"https://github.com/lorchr/light-docusaurus/tree/main/docs/zh-cn/linux/common/2-Linux-Commands-2.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"troch",previous:{title:"Linux-Commands-1",permalink:"/light-docusaurus/docs/zh-cn/linux/common/Linux-Commands-1"},next:{title:"Linux-Commands-3",permalink:"/light-docusaurus/docs/zh-cn/linux/common/Linux-Commands-3"}},a={},h=[{value:"\u57fa\u672c\u64cd\u4f5c",id:"\u57fa\u672c\u64cd\u4f5c",level:2},{value:"Linux\u5173\u673a,\u91cd\u542f",id:"linux\u5173\u673a\u91cd\u542f",level:3},{value:"\u67e5\u770b\u7cfb\u7edf,CPU\u4fe1\u606f",id:"\u67e5\u770b\u7cfb\u7edfcpu\u4fe1\u606f",level:3},{value:"\u5efa\u7acb\u8f6f\u8fde\u63a5",id:"\u5efa\u7acb\u8f6f\u8fde\u63a5",level:3},{value:"rpm\u76f8\u5173",id:"rpm\u76f8\u5173",level:3},{value:"sshkey",id:"sshkey",level:3},{value:"\u547d\u4ee4\u91cd\u547d\u540d",id:"\u547d\u4ee4\u91cd\u547d\u540d",level:3},{value:"\u540c\u6b65\u670d\u52a1\u5668\u65f6\u95f4",id:"\u540c\u6b65\u670d\u52a1\u5668\u65f6\u95f4",level:3},{value:"\u540e\u53f0\u8fd0\u884c\u547d\u4ee4",id:"\u540e\u53f0\u8fd0\u884c\u547d\u4ee4",level:3},{value:"\u5f3a\u5236\u6d3b\u52a8\u7528\u6237\u9000\u51fa",id:"\u5f3a\u5236\u6d3b\u52a8\u7528\u6237\u9000\u51fa",level:3},{value:"\u67e5\u770b\u547d\u4ee4\u8def\u5f84",id:"\u67e5\u770b\u547d\u4ee4\u8def\u5f84",level:3},{value:"\u67e5\u770b\u8fdb\u7a0b\u6240\u6709\u6253\u5f00\u6700\u5927fd\u6570",id:"\u67e5\u770b\u8fdb\u7a0b\u6240\u6709\u6253\u5f00\u6700\u5927fd\u6570",level:3},{value:"\u914d\u7f6edns",id:"\u914d\u7f6edns",level:3},{value:"nslookup,\u67e5\u770b\u57df\u540d\u8def\u7531\u8868",id:"nslookup\u67e5\u770b\u57df\u540d\u8def\u7531\u8868",level:3},{value:"last, \u6700\u8fd1\u767b\u5f55\u4fe1\u606f\u5217\u8868",id:"last-\u6700\u8fd1\u767b\u5f55\u4fe1\u606f\u5217\u8868",level:3},{value:"\u8bbe\u7f6e\u56fa\u5b9aip",id:"\u8bbe\u7f6e\u56fa\u5b9aip",level:3},{value:"\u67e5\u770b\u8fdb\u7a0b\u5185\u52a0\u8f7d\u7684\u73af\u5883\u53d8\u91cf",id:"\u67e5\u770b\u8fdb\u7a0b\u5185\u52a0\u8f7d\u7684\u73af\u5883\u53d8\u91cf",level:3},{value:"\u67e5\u770b\u8fdb\u7a0b\u6811\u627e\u5230\u670d\u52a1\u5668\u8fdb\u7a0b",id:"\u67e5\u770b\u8fdb\u7a0b\u6811\u627e\u5230\u670d\u52a1\u5668\u8fdb\u7a0b",level:3},{value:"\u67e5\u770b\u8fdb\u7a0b\u542f\u52a8\u8def\u5f84",id:"\u67e5\u770b\u8fdb\u7a0b\u542f\u52a8\u8def\u5f84",level:3},{value:"\u6dfb\u52a0\u7528\u6237, \u914d\u7f6esudo\u6743\u9650",id:"\u6dfb\u52a0\u7528\u6237-\u914d\u7f6esudo\u6743\u9650",level:3},{value:"\u5f3a\u5236\u5173\u95ed\u8fdb\u7a0b\u540d\u5305\u542bxxx\u7684\u6240\u6709\u8fdb\u7a0b",id:"\u5f3a\u5236\u5173\u95ed\u8fdb\u7a0b\u540d\u5305\u542bxxx\u7684\u6240\u6709\u8fdb\u7a0b",level:3},{value:"\u78c1\u76d8,\u6587\u4ef6,\u76ee\u5f55\u76f8\u5173\u64cd\u4f5c",id:"\u78c1\u76d8\u6587\u4ef6\u76ee\u5f55\u76f8\u5173\u64cd\u4f5c",level:2},{value:"vim\u64cd\u4f5c",id:"vim\u64cd\u4f5c",level:3},{value:"\u6253\u5f00\u53ea\u8bfb\u6587\u4ef6,\u4fee\u6539\u540e\u9700\u8981\u4fdd\u5b58\u65f6(\u4e0d\u7528\u5207\u6362\u7528\u6237\u5373\u53ef\u4fdd\u5b58\u7684\u65b9\u5f0f)",id:"\u6253\u5f00\u53ea\u8bfb\u6587\u4ef6\u4fee\u6539\u540e\u9700\u8981\u4fdd\u5b58\u65f6\u4e0d\u7528\u5207\u6362\u7528\u6237\u5373\u53ef\u4fdd\u5b58\u7684\u65b9\u5f0f",level:3},{value:"\u67e5\u770b\u78c1\u76d8, \u6587\u4ef6\u76ee\u5f55\u57fa\u672c\u4fe1\u606f",id:"\u67e5\u770b\u78c1\u76d8-\u6587\u4ef6\u76ee\u5f55\u57fa\u672c\u4fe1\u606f",level:3},{value:"wc\u547d\u4ee4",id:"wc\u547d\u4ee4",level:3},{value:"\u5e38\u7528\u538b\u7f29, \u89e3\u538b\u7f29\u547d\u4ee4",id:"\u5e38\u7528\u538b\u7f29-\u89e3\u538b\u7f29\u547d\u4ee4",level:2},{value:"\u538b\u7f29\u547d\u4ee4",id:"\u538b\u7f29\u547d\u4ee4",level:3},{value:"\u89e3\u538b\u7f29\u547d\u4ee4",id:"\u89e3\u538b\u7f29\u547d\u4ee4",level:3},{value:"\u53d8\u66f4\u6587\u4ef6\u6240\u5c5e\u7528\u6237, \u7528\u6237\u7ec4",id:"\u53d8\u66f4\u6587\u4ef6\u6240\u5c5e\u7528\u6237-\u7528\u6237\u7ec4",level:2},{value:"cp, scp, mkdir",id:"cp-scp-mkdir",level:2},{value:"\u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6",id:"\u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6",level:2},{value:"\u65e5\u5fd7\u8f93\u51fa\u7684\u5b57\u8282\u6570,\u53ef\u4ee5\u7528\u4f5c\u6027\u80fd\u6d4b\u8bd5",id:"\u65e5\u5fd7\u8f93\u51fa\u7684\u5b57\u8282\u6570\u53ef\u4ee5\u7528\u4f5c\u6027\u80fd\u6d4b\u8bd5",level:2},{value:"\u67e5\u770b, \u53bb\u9664\u7279\u6b8a\u5b57\u7b26",id:"\u67e5\u770b-\u53bb\u9664\u7279\u6b8a\u5b57\u7b26",level:2},{value:"\u5904\u7406\u56e0\u7cfb\u7edf\u539f\u56e0\u5f15\u8d77\u7684\u6587\u4ef6\u4e2d\u7279\u6b8a\u5b57\u7b26\u7684\u95ee\u9898",id:"\u5904\u7406\u56e0\u7cfb\u7edf\u539f\u56e0\u5f15\u8d77\u7684\u6587\u4ef6\u4e2d\u7279\u6b8a\u5b57\u7b26\u7684\u95ee\u9898",level:2},{value:"tee, \u91cd\u5b9a\u5411\u7684\u540c\u65f6\u8f93\u51fa\u5230\u5c4f\u5e55",id:"tee-\u91cd\u5b9a\u5411\u7684\u540c\u65f6\u8f93\u51fa\u5230\u5c4f\u5e55",level:2},{value:"\u68c0\u7d22\u76f8\u5173",id:"\u68c0\u7d22\u76f8\u5173",level:2},{value:"grep",id:"grep",level:3},{value:"awk",id:"awk",level:3},{value:"find\u68c0\u7d22\u547d\u4ee4",id:"find\u68c0\u7d22\u547d\u4ee4",level:3},{value:"\u7f51\u7edc\u76f8\u5173",id:"\u7f51\u7edc\u76f8\u5173",level:2},{value:"\u67e5\u770b\u4ec0\u4e48\u8fdb\u7a0b\u4f7f\u7528\u4e86\u8be5\u7aef\u53e3",id:"\u67e5\u770b\u4ec0\u4e48\u8fdb\u7a0b\u4f7f\u7528\u4e86\u8be5\u7aef\u53e3",level:3},{value:"\u83b7\u53d6\u672c\u673aip\u5730\u5740",id:"\u83b7\u53d6\u672c\u673aip\u5730\u5740",level:3},{value:"iptables",id:"iptables",level:3},{value:"nc\u547d\u4ee4, tcp\u8c03\u8bd5\u5229\u5668",id:"nc\u547d\u4ee4-tcp\u8c03\u8bd5\u5229\u5668",level:3},{value:"tcpdump",id:"tcpdump",level:3},{value:"\u8ddf\u8e2a\u7f51\u7edc\u8def\u7531\u8def\u5f84",id:"\u8ddf\u8e2a\u7f51\u7edc\u8def\u7531\u8def\u5f84",level:3},{value:"ss",id:"ss",level:2},{value:"netstat",id:"netstat",level:3},{value:"\u76d1\u63a7linux\u6027\u80fd\u547d\u4ee4",id:"\u76d1\u63a7linux\u6027\u80fd\u547d\u4ee4",level:2},{value:"top",id:"top",level:3},{value:"dmesg,\u67e5\u770b\u7cfb\u7edf\u65e5\u5fd7",id:"dmesg\u67e5\u770b\u7cfb\u7edf\u65e5\u5fd7",level:3},{value:"iostat,\u78c1\u76d8IO\u60c5\u51b5\u76d1\u63a7",id:"iostat\u78c1\u76d8io\u60c5\u51b5\u76d1\u63a7",level:3},{value:"free,\u5185\u5b58\u4f7f\u7528\u60c5\u51b5",id:"free\u5185\u5b58\u4f7f\u7528\u60c5\u51b5",level:3},{value:"sar,\u67e5\u770b\u7f51\u7edc\u541e\u5410\u72b6\u6001",id:"sar\u67e5\u770b\u7f51\u7edc\u541e\u5410\u72b6\u6001",level:3},{value:"vmstat, \u7ed9\u5b9a\u65f6\u95f4\u76d1\u63a7CPU\u4f7f\u7528\u7387, \u5185\u5b58\u4f7f\u7528, \u865a\u62df\u5185\u5b58\u4ea4\u4e92, IO\u8bfb\u5199",id:"vmstat-\u7ed9\u5b9a\u65f6\u95f4\u76d1\u63a7cpu\u4f7f\u7528\u7387-\u5185\u5b58\u4f7f\u7528-\u865a\u62df\u5185\u5b58\u4ea4\u4e92-io\u8bfb\u5199",level:3}];function t(n){const e={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.ah)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"\u867d\u7136\u5e73\u65f6\u5927\u90e8\u5206\u5de5\u4f5c\u90fd\u662f\u548cJava\u76f8\u5173\u7684\u5f00\u53d1, \u4f46\u662f\u6bcf\u5929\u90fd\u4f1a\u63a5\u89e6Linux\u7cfb\u7edf, \u5c24\u5176\u662f\u4f7f\u7528\u4e86Mac\u4e4b\u540e, \u6bcf\u5929\u90fd\u662f\u5de5\u4f5c\u5728\u9ed1\u8272\u80cc\u666f\u7684\u547d\u4ee4\u884c\u73af\u5883\u4e2d. \u81ea\u5df1\u8bb0\u5fc6\u529b\u4e0d\u597d, \u5f88\u591a\u6709\u7528\u7684Linux\u547d\u4ee4\u4e0d\u80fd\u5f88\u597d\u7684\u8bb0\u5fc6, \u73b0\u5728\u9010\u6e10\u603b\u7ed3\u4e00\u4e0b, \u4ee5\u4fbf\u540e\u7eed\u67e5\u770b."}),"\n",(0,s.jsx)(e.h2,{id:"\u57fa\u672c\u64cd\u4f5c",children:"\u57fa\u672c\u64cd\u4f5c"}),"\n",(0,s.jsx)(e.h3,{id:"linux\u5173\u673a\u91cd\u542f",children:"Linux\u5173\u673a,\u91cd\u542f"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u5173\u673a\nshutdown -h now\n\n# \u91cd\u542f\nshutdown -r now\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u67e5\u770b\u7cfb\u7edfcpu\u4fe1\u606f",children:"\u67e5\u770b\u7cfb\u7edf,CPU\u4fe1\u606f"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u67e5\u770b\u7cfb\u7edf\u5185\u6838\u4fe1\u606f\nuname -a\n\n# \u67e5\u770b\u7cfb\u7edf\u5185\u6838\u7248\u672c\ncat /proc/version\n\n# \u67e5\u770b\u5f53\u524d\u7528\u6237\u73af\u5883\u53d8\u91cf\nenv\n\ncat /proc/cpuinfo\n\n# \u67e5\u770b\u6709\u51e0\u4e2a\u903b\u8f91cpu, \u5305\u62eccpu\u578b\u53f7\ncat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c\n\n# \u67e5\u770b\u6709\u51e0\u9897cpu,\u6bcf\u9897\u5206\u522b\u662f\u51e0\u6838\ncat /proc/cpuinfo | grep physical | uniq -c\n\n# \u67e5\u770b\u5f53\u524dCPU\u8fd0\u884c\u572832bit\u8fd8\u662f64bit\u6a21\u5f0f\u4e0b, \u5982\u679c\u662f\u8fd0\u884c\u572832bit\u4e0b\u4e5f\u4e0d\u4ee3\u8868CPU\u4e0d\u652f\u630164bit\ngetconf LONG_BIT\n\n# \u7ed3\u679c\u5927\u4e8e0, \u8bf4\u660e\u652f\u630164bit\u8ba1\u7b97. lm\u6307long mode, \u652f\u6301lm\u5219\u662f64bit\ncat /proc/cpuinfo | grep flags | grep ' lm ' | wc -l\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u5efa\u7acb\u8f6f\u8fde\u63a5",children:"\u5efa\u7acb\u8f6f\u8fde\u63a5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"ln -s /usr/local/jdk1.8/ jdk\n"})}),"\n",(0,s.jsx)(e.h3,{id:"rpm\u76f8\u5173",children:"rpm\u76f8\u5173"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u67e5\u770b\u662f\u5426\u901a\u8fc7rpm\u5b89\u88c5\u4e86\u8be5\u8f6f\u4ef6\nrpm -qa | grep \u8f6f\u4ef6\u540d\n"})}),"\n",(0,s.jsx)(e.h3,{id:"sshkey",children:"sshkey"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u521b\u5efasshkey\nssh-keygen -t rsa -C your_email@example.com\n\n#id_rsa.pub \u7684\u5185\u5bb9\u62f7\u8d1d\u5230\u8981\u63a7\u5236\u7684\u670d\u52a1\u5668\u7684 home/username/.ssh/authorized_keys \u4e2d,\u5982\u679c\u6ca1\u6709\u5219\u65b0\u5efa(.ssh\u6743\u9650\u4e3a700, authorized_keys\u6743\u9650\u4e3a600)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u547d\u4ee4\u91cd\u547d\u540d",children:"\u547d\u4ee4\u91cd\u547d\u540d"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u5728\u5404\u4e2a\u7528\u6237\u7684.bash_profile\u4e2d\u6dfb\u52a0\u91cd\u547d\u540d\u914d\u7f6e\nalias ll='ls -alF'\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u540c\u6b65\u670d\u52a1\u5668\u65f6\u95f4",children:"\u540c\u6b65\u670d\u52a1\u5668\u65f6\u95f4"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"sudo ntpdate -u ntp.api.bz\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u540e\u53f0\u8fd0\u884c\u547d\u4ee4",children:"\u540e\u53f0\u8fd0\u884c\u547d\u4ee4"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u540e\u53f0\u8fd0\u884c,\u5e76\u4e14\u6709nohup.out\u8f93\u51fa\nnohup xxx &\n\n# \u540e\u53f0\u8fd0\u884c, \u4e0d\u8f93\u51fa\u4efb\u4f55\u65e5\u5fd7\nnohup xxx > /dev/null &\n\n# \u540e\u53f0\u8fd0\u884c, \u5e76\u5c06\u9519\u8bef\u4fe1\u606f\u505a\u6807\u51c6\u8f93\u51fa\u5230\u65e5\u5fd7\u4e2d \nnohup xxx >out.log 2>&1 &\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u5f3a\u5236\u6d3b\u52a8\u7528\u6237\u9000\u51fa",children:"\u5f3a\u5236\u6d3b\u52a8\u7528\u6237\u9000\u51fa"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u547d\u4ee4\u6765\u5b8c\u6210\u5f3a\u5236\u6d3b\u52a8\u7528\u6237\u9000\u51fa.\u5176\u4e2dTTY\u8868\u793a\u7ec8\u7aef\u540d\u79f0\npkill -kill -t [TTY]\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u67e5\u770b\u547d\u4ee4\u8def\u5f84",children:"\u67e5\u770b\u547d\u4ee4\u8def\u5f84"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"which <\u547d\u4ee4>\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u67e5\u770b\u8fdb\u7a0b\u6240\u6709\u6253\u5f00\u6700\u5927fd\u6570",children:"\u67e5\u770b\u8fdb\u7a0b\u6240\u6709\u6253\u5f00\u6700\u5927fd\u6570"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"ulimit -n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u914d\u7f6edns",children:"\u914d\u7f6edns"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"vim /etc/resolv.conf\n"})}),"\n",(0,s.jsx)(e.h3,{id:"nslookup\u67e5\u770b\u57df\u540d\u8def\u7531\u8868",children:"nslookup,\u67e5\u770b\u57df\u540d\u8def\u7531\u8868"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"nslookup google.com\n"})}),"\n",(0,s.jsx)(e.h3,{id:"last-\u6700\u8fd1\u767b\u5f55\u4fe1\u606f\u5217\u8868",children:"last, \u6700\u8fd1\u767b\u5f55\u4fe1\u606f\u5217\u8868"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u6700\u8fd1\u767b\u5f55\u76845\u4e2a\u8d26\u53f7\nlast -n 5\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u8bbe\u7f6e\u56fa\u5b9aip",children:"\u8bbe\u7f6e\u56fa\u5b9aip"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"ifconfig em1  192.168.5.177 netmask 255.255.255.0\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u67e5\u770b\u8fdb\u7a0b\u5185\u52a0\u8f7d\u7684\u73af\u5883\u53d8\u91cf",children:"\u67e5\u770b\u8fdb\u7a0b\u5185\u52a0\u8f7d\u7684\u73af\u5883\u53d8\u91cf"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u4e5f\u53ef\u4ee5\u53bb cd /proc \u76ee\u5f55\u4e0b, \u67e5\u770b\u8fdb\u7a0b\u5185\u5b58\u4e2d\u52a0\u8f7d\u7684\u4e1c\u897f\nps eww -p  XXXXX(\u8fdb\u7a0b\u53f7)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u67e5\u770b\u8fdb\u7a0b\u6811\u627e\u5230\u670d\u52a1\u5668\u8fdb\u7a0b",children:"\u67e5\u770b\u8fdb\u7a0b\u6811\u627e\u5230\u670d\u52a1\u5668\u8fdb\u7a0b"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"ps auwxf\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u67e5\u770b\u8fdb\u7a0b\u542f\u52a8\u8def\u5f84",children:"\u67e5\u770b\u8fdb\u7a0b\u542f\u52a8\u8def\u5f84"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"cd /proc/xxx(\u8fdb\u7a0b\u53f7)\nls -all\n# cwd\u5bf9\u5e94\u7684\u662f\u542f\u52a8\u8def\u5f84\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u6dfb\u52a0\u7528\u6237-\u914d\u7f6esudo\u6743\u9650",children:"\u6dfb\u52a0\u7528\u6237, \u914d\u7f6esudo\u6743\u9650"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u65b0\u589e\u7528\u6237\nuseradd \u7528\u6237\u540d\npasswd \u7528\u6237\u540d\n\n#\u589e\u52a0sudo\u6743\u9650\nvim /etc/sudoers\n# \u4fee\u6539\u6587\u4ef6\u91cc\u9762\u7684\n# root    ALL=(ALL)       ALL\n# \u7528\u6237\u540d ALL=(ALL)       ALL\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u5f3a\u5236\u5173\u95ed\u8fdb\u7a0b\u540d\u5305\u542bxxx\u7684\u6240\u6709\u8fdb\u7a0b",children:"\u5f3a\u5236\u5173\u95ed\u8fdb\u7a0b\u540d\u5305\u542bxxx\u7684\u6240\u6709\u8fdb\u7a0b"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"ps aux|grep xxx | grep -v grep | awk '{print $2}' | xargs kill -9\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u78c1\u76d8\u6587\u4ef6\u76ee\u5f55\u76f8\u5173\u64cd\u4f5c",children:"\u78c1\u76d8,\u6587\u4ef6,\u76ee\u5f55\u76f8\u5173\u64cd\u4f5c"}),"\n",(0,s.jsx)(e.h3,{id:"vim\u64cd\u4f5c",children:"vim\u64cd\u4f5c"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"#normal\u6a21\u5f0f\u4e0b g\u8868\u793a\u5168\u5c40, x\u8868\u793a\u67e5\u627e\u7684\u5185\u5bb9, y\u8868\u793a\u66ff\u6362\u540e\u7684\u5185\u5bb9\n:%s/x/y/g\n\n#normal\u6a21\u5f0f\u4e0b\n0  # \u5149\u6807\u79fb\u5230\u884c\u9996(\u6570\u5b570)\n$  # \u5149\u6807\u79fb\u81f3\u884c\u5c3e\nshift + g # \u8df3\u5230\u6587\u4ef6\u6700\u540e\ngg # \u8df3\u5230\u6587\u4ef6\u5934\n\n# \u663e\u793a\u884c\u53f7\n:set nu\n\n# \u53bb\u9664\u884c\u53f7\n:set nonu\n\n# \u68c0\u7d22\n/xxx(\u68c0\u7d22\u5185\u5bb9)  # \u4ece\u5934\u68c0\u7d22, \u6309n\u67e5\u627e\u4e0b\u4e00\u4e2a\n?xxx(\u68c0\u7d22\u5185\u5bb9)  # \u4ece\u5c3e\u90e8\u68c0\u7d22\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u6253\u5f00\u53ea\u8bfb\u6587\u4ef6\u4fee\u6539\u540e\u9700\u8981\u4fdd\u5b58\u65f6\u4e0d\u7528\u5207\u6362\u7528\u6237\u5373\u53ef\u4fdd\u5b58\u7684\u65b9\u5f0f",children:"\u6253\u5f00\u53ea\u8bfb\u6587\u4ef6,\u4fee\u6539\u540e\u9700\u8981\u4fdd\u5b58\u65f6(\u4e0d\u7528\u5207\u6362\u7528\u6237\u5373\u53ef\u4fdd\u5b58\u7684\u65b9\u5f0f)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u5728normal\u6a21\u5f0f\u4e0b\n:w !sudo tee %\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u67e5\u770b\u78c1\u76d8-\u6587\u4ef6\u76ee\u5f55\u57fa\u672c\u4fe1\u606f",children:"\u67e5\u770b\u78c1\u76d8, \u6587\u4ef6\u76ee\u5f55\u57fa\u672c\u4fe1\u606f"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u67e5\u770b\u78c1\u76d8\u6302\u8f7d\u60c5\u51b5\nmount\n\n# \u67e5\u770b\u78c1\u76d8\u5206\u533a\u4fe1\u606f\ndf\n\n# \u67e5\u770b\u76ee\u5f55\u53ca\u5b50\u76ee\u5f55\u5927\u5c0f\ndu -H -h\n\n# \u67e5\u770b\u5f53\u524d\u76ee\u5f55\u4e0b\u5404\u4e2a\u6587\u4ef6, \u6587\u4ef6\u5939\u5360\u4e86\u591a\u5c11\u7a7a\u95f4, \u4e0d\u4f1a\u9012\u5f52\ndu -sh *\n"})}),"\n",(0,s.jsx)(e.h3,{id:"wc\u547d\u4ee4",children:"wc\u547d\u4ee4"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u67e5\u770b\u6587\u4ef6\u91cc\u6709\u591a\u5c11\u884c\nwc -l filename\n\n# \u770b\u6587\u4ef6\u91cc\u6709\u591a\u5c11\u4e2aword\nwc -w filename\n\n# \u6587\u4ef6\u91cc\u6700\u957f\u7684\u90a3\u4e00\u884c\u662f\u591a\u5c11\u4e2a\u5b57\nwc -L filename\n\n# \u7edf\u8ba1\u5b57\u8282\u6570\nwc -c\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u5e38\u7528\u538b\u7f29-\u89e3\u538b\u7f29\u547d\u4ee4",children:"\u5e38\u7528\u538b\u7f29, \u89e3\u538b\u7f29\u547d\u4ee4"}),"\n",(0,s.jsx)(e.h3,{id:"\u538b\u7f29\u547d\u4ee4",children:"\u538b\u7f29\u547d\u4ee4"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"tar czvf xxx.tar \u538b\u7f29\u76ee\u5f55\n\nzip -r xxx.zip \u538b\u7f29\u76ee\u5f55\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u89e3\u538b\u7f29\u547d\u4ee4",children:"\u89e3\u538b\u7f29\u547d\u4ee4"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"tar zxvf xxx.tar\n# \u89e3\u538b\u5230\u6307\u5b9a\u6587\u4ef6\u5939\ntar zxvf xxx.tar -C /xxx/yyy/\n\nunzip xxx.zip\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u53d8\u66f4\u6587\u4ef6\u6240\u5c5e\u7528\u6237-\u7528\u6237\u7ec4",children:"\u53d8\u66f4\u6587\u4ef6\u6240\u5c5e\u7528\u6237, \u7528\u6237\u7ec4"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"chown eagleye.eagleye xxx.log\n"})}),"\n",(0,s.jsx)(e.h2,{id:"cp-scp-mkdir",children:"cp, scp, mkdir"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"#\u590d\u5236\ncp xxx.log\n\n# \u590d\u5236\u5e76\u5f3a\u5236\u8986\u76d6\u540c\u540d\u6587\u4ef6\ncp -f xxx.log\n\n# \u590d\u5236\u6587\u4ef6\u5939\ncp -r xxx(\u6e90\u6587\u4ef6\u5939) yyy(\u76ee\u6807\u6587\u4ef6\u5939)\n\n# \u8fdc\u7a0b\u590d\u5236\nscp -P ssh\u7aef\u53e3 username@10.10.10.101:/home/username/xxx /home/xxx\n\n# \u7ea7\u8054\u521b\u5efa\u76ee\u5f55\nmkdir -p /xxx/yyy/zzz\n\n# \u6279\u91cf\u521b\u5efa\u6587\u4ef6\u5939, \u4f1a\u5728test,main\u4e0b\u90fd\u521b\u5efajava, resources\u6587\u4ef6\u5939\nmkdir -p src/{test,main}/{java,resources}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6",children:"\u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"diff -u 1.txt 2.txt\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u65e5\u5fd7\u8f93\u51fa\u7684\u5b57\u8282\u6570\u53ef\u4ee5\u7528\u4f5c\u6027\u80fd\u6d4b\u8bd5",children:"\u65e5\u5fd7\u8f93\u51fa\u7684\u5b57\u8282\u6570,\u53ef\u4ee5\u7528\u4f5c\u6027\u80fd\u6d4b\u8bd5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u5982\u679c\u505a\u6027\u80fd\u6d4b\u8bd5, \u53ef\u4ee5\u6bcf\u6267\u884c\u4e00\u6b21, \u5f80\u65e5\u5fd7\u91cc\u9762\u8f93\u51fa \u201c.\u201d , \u8fd9\u6837\u65e5\u5fd7\u4e2d\u7684\u5b57\u8282\u6570\u5c31\u662f\u5b9e\u9645\u7684\u6027\u80fd\u6d4b\u8bd5\u8fd0\u884c\u7684\u6b21\u6570, \u8fd8\u53ef\u4ee5\u770b\u89c1\u5b9e\u65f6\u901f\u7387.\n\ntail -f xxx.log | pv -bt\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u67e5\u770b-\u53bb\u9664\u7279\u6b8a\u5b57\u7b26",children:"\u67e5\u770b, \u53bb\u9664\u7279\u6b8a\u5b57\u7b26"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u67e5\u770b\u7279\u6b8a\u5b57\u7b26\ncat -v xxx.sh\n\n# \u53bb\u9664\u7279\u6b8a\u5b57\u7b26\nsed -i 's/^M//g\u2019 env.sh  \u53bb\u9664\u6587\u4ef6\u7684\u7279\u6b8a\u5b57\u7b26, \u6bd4\u5982^M:  \u9700\u8981\u8fd9\u6837\u8f93\u5165: ctrl+v+enter\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u5904\u7406\u56e0\u7cfb\u7edf\u539f\u56e0\u5f15\u8d77\u7684\u6587\u4ef6\u4e2d\u7279\u6b8a\u5b57\u7b26\u7684\u95ee\u9898",children:"\u5904\u7406\u56e0\u7cfb\u7edf\u539f\u56e0\u5f15\u8d77\u7684\u6587\u4ef6\u4e2d\u7279\u6b8a\u5b57\u7b26\u7684\u95ee\u9898"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:'# \u53ef\u4ee5\u8f6c\u6362\u4e3a\u8be5\u7cfb\u7edf\u4e0b\u7684\u6587\u4ef6\u683c\u5f0f\ncat file.sh > file.sh_bak\n\n# \u5148\u5c06file.sh\u4e2d\u6587\u4ef6\u5185\u5bb9\u590d\u5236\u4e0b\u6765\u7136\u540e\u8fd0\u884c, \u7136\u540e\u7c98\u8d34\u5185\u5bb9, \u6700\u540ectrl + d \u4fdd\u5b58\u9000\u51fa\ncat > file1.sh\n\n# \u5728vim\u4e2d\u901a\u8fc7\u5982\u4e0b\u8bbe\u7f6e\u6587\u4ef6\u7f16\u7801\u548c\u6587\u4ef6\u683c\u5f0f\n:set fileencodings=utf-8 \uff0c\u7136\u540e w \uff08\u5b58\u76d8\uff09\u4e00\u4e0b\u5373\u53ef\u8f6c\u5316\u4e3a utf8 \u683c\u5f0f\uff0c\n:set fileformat=unix\n\n# \u5728mac\u4e0b\u4f7f\u7528dos2unix\u8fdb\u884c\u6587\u4ef6\u683c\u5f0f\u5316\nfind . -name "*.sh" | xargs dos2unix\n'})}),"\n",(0,s.jsx)(e.h2,{id:"tee-\u91cd\u5b9a\u5411\u7684\u540c\u65f6\u8f93\u51fa\u5230\u5c4f\u5e55",children:"tee, \u91cd\u5b9a\u5411\u7684\u540c\u65f6\u8f93\u51fa\u5230\u5c4f\u5e55"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"awk \u2018{print $0}\u2019 xxx.log | tee test.log\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u68c0\u7d22\u76f8\u5173",children:"\u68c0\u7d22\u76f8\u5173"}),"\n",(0,s.jsx)(e.h3,{id:"grep",children:"grep"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u53cd\u5411\u5339\u914d, \u67e5\u627e\u4e0d\u5305\u542bxxx\u7684\u5185\u5bb9\ngrep -v xxx\n\n# \u6392\u9664\u6240\u6709\u7a7a\u884c\ngrep -v '^/pre>\n\n# \u8fd4\u56de\u7ed3\u679c 2,\u5219\u8bf4\u660e\u7b2c\u4e8c\u884c\u662f\u7a7a\u884c\ngrep -n \u201c^$\u201d 111.txt    \n\n# \u67e5\u8be2\u4ee5abc\u5f00\u5934\u7684\u884c\ngrep -n \u201c^abc\u201d 111.txt \n\n# \u540c\u65f6\u5217\u51fa\u8be5\u8bcd\u8bed\u51fa\u73b0\u5728\u6587\u7ae0\u7684\u7b2c\u51e0\u884c\ngrep 'xxx' -n xxx.log\n\n# \u8ba1\u7b97\u4e00\u4e0b\u8be5\u5b57\u4e32\u51fa\u73b0\u7684\u6b21\u6570\ngrep 'xxx' -c xxx.log\n\n# \u6bd4\u5bf9\u7684\u65f6\u5019\uff0c\u4e0d\u8ba1\u8f83\u5927\u5c0f\u5199\u7684\u4e0d\u540c\ngrep 'xxx' -i xxx.log\n"})}),"\n",(0,s.jsx)(e.h3,{id:"awk",children:"awk"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u4ee5':' \u4e3a\u5206\u9694\u7b26,\u5982\u679c\u7b2c\u4e94\u57df\u6709user\u5219\u8f93\u51fa\u8be5\u884c\nawk -F ':' '{if ($5 ~ /user/) print $0}' /etc/passwd \n\n# \u7edf\u8ba1\u5355\u4e2a\u6587\u4ef6\u4e2d\u67d0\u4e2a\u5b57\u7b26\uff08\u4e32\uff09(\u4e2d\u6587\u65e0\u6548)\u51fa\u73b0\u7684\u6b21\u6570\nawk -v RS='character' 'END {print --NR}' xxx.txt\n"})}),"\n",(0,s.jsx)(e.h3,{id:"find\u68c0\u7d22\u547d\u4ee4",children:"find\u68c0\u7d22\u547d\u4ee4"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u5728\u76ee\u5f55\u4e0b\u627e\u540e\u7f00\u662f.mysql\u7684\u6587\u4ef6\nfind /home/eagleye -name '*.mysql' -print\n\n# \u4f1a\u4ece /usr \u76ee\u5f55\u5f00\u59cb\u5f80\u4e0b\u627e\uff0c\u627e\u6700\u8fd13\u5929\u4e4b\u5185\u5b58\u53d6\u8fc7\u7684\u6587\u4ef6\u3002\nfind /usr -atime 3 \u2013print\n\n# \u4f1a\u4ece /usr \u76ee\u5f55\u5f00\u59cb\u5f80\u4e0b\u627e\uff0c\u627e\u6700\u8fd15\u5929\u4e4b\u5185\u4fee\u6539\u8fc7\u7684\u6587\u4ef6\u3002\nfind /usr -ctime 5 \u2013print\n\n# \u4f1a\u4ece /doc \u76ee\u5f55\u5f00\u59cb\u5f80\u4e0b\u627e\uff0c\u627ejacky \u7684\u3001\u6587\u4ef6\u540d\u5f00\u5934\u662f j\u7684\u6587\u4ef6\u3002  \nfind /doc -user jacky -name 'j*' \u2013print\n\n# \u4f1a\u4ece /doc \u76ee\u5f55\u5f00\u59cb\u5f80\u4e0b\u627e\uff0c\u627e\u5bfb\u6587\u4ef6\u540d\u662f ja \u5f00\u5934\u6216\u8005 ma\u5f00\u5934\u7684\u6587\u4ef6\u3002\nfind /doc \\( -name 'ja*' -o- -name 'ma*' \\) \u2013print\n\n#  \u4f1a\u4ece /doc \u76ee\u5f55\u5f00\u59cb\u5f80\u4e0b\u627e\uff0c\u627e\u5230\u51e1\u662f\u6587\u4ef6\u540d\u7ed3\u5c3e\u4e3a bak\u7684\u6587\u4ef6\uff0c\u628a\u5b83\u5220\u9664\u6389\u3002-exec \u9009\u9879\u662f\u6267\u884c\u7684\u610f\u601d\uff0crm \u662f\u5220\u9664\u547d\u4ee4\uff0c{ } \u8868\u793a\u6587\u4ef6\u540d\uff0c\u201c\\;\u201d\u662f\u89c4\u5b9a\u7684\u547d\u4ee4\u7ed3\u5c3e\u3002 \nfind /doc -name '*bak' -exec rm {} \\;\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u7f51\u7edc\u76f8\u5173",children:"\u7f51\u7edc\u76f8\u5173"}),"\n",(0,s.jsx)(e.h3,{id:"\u67e5\u770b\u4ec0\u4e48\u8fdb\u7a0b\u4f7f\u7528\u4e86\u8be5\u7aef\u53e3",children:"\u67e5\u770b\u4ec0\u4e48\u8fdb\u7a0b\u4f7f\u7528\u4e86\u8be5\u7aef\u53e3"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"lsof -i:port\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u83b7\u53d6\u672c\u673aip\u5730\u5740",children:"\u83b7\u53d6\u672c\u673aip\u5730\u5740"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"/sbin/ifconfig -a|grep inet|grep -v 127.0.0.1|grep -v inet6|awk '{print $2}'|tr -d \"addr:\"\n"})}),"\n",(0,s.jsx)(e.h3,{id:"iptables",children:"iptables"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u67e5\u770biptables\u72b6\u6001\nservice iptables status\n\n# \u8981\u5c01\u505c\u4e00\u4e2aip\niptables -I INPUT -s ***.***.***.*** -j DROP\n\n# \u8981\u89e3\u5c01\u4e00\u4e2aIP\uff0c\u4f7f\u7528\u4e0b\u9762\u8fd9\u6761\u547d\u4ee4\uff1a\niptables -D INPUT -s ***.***.***.*** -j DROP\n\n\u5907\u6ce8: \u53c2\u6570-I\u662f\u8868\u793aInsert\uff08\u6dfb\u52a0\uff09\uff0c-D\u8868\u793aDelete\uff08\u5220\u9664\uff09\u3002\u540e\u9762\u8ddf\u7684\u662f\u89c4\u5219\uff0cINPUT\u8868\u793a\u5165\u7ad9\uff0c***.***.***.***\u8868\u793a\u8981\u5c01\u505c\u7684IP\uff0cDROP\u8868\u793a\u653e\u5f03\u8fde\u63a5\u3002\n\n#\u5f00\u542f9090\u7aef\u53e3\u7684\u8bbf\u95ee\n/sbin/iptables -I INPUT -p tcp --dport 9090 -j ACCEPT \n\n# \u9632\u706b\u5899\u5f00\u542f\u3001\u5173\u95ed\u3001\u91cd\u542f\n/etc/init.d/iptables status\n/etc/init.d/iptables start\n/etc/init.d/iptables stop\n/etc/init.d/iptables restart\n"})}),"\n",(0,s.jsx)(e.h3,{id:"nc\u547d\u4ee4-tcp\u8c03\u8bd5\u5229\u5668",children:"nc\u547d\u4ee4, tcp\u8c03\u8bd5\u5229\u5668"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"#\u7ed9\u67d0\u4e00\u4e2aendpoint\u53d1\u9001TCP\u8bf7\u6c42,\u5c31\u5c06data\u7684\u5185\u5bb9\u53d1\u9001\u5230\u5bf9\u7aef\nnc 192.168.0.11 8000 < data.txt\n\n#nc\u53ef\u4ee5\u5f53\u505a\u670d\u52a1\u5668\uff0c\u76d1\u542c\u67d0\u4e2a\u7aef\u53e3\u53f7,\u628a\u67d0\u4e00\u6b21\u8bf7\u6c42\u7684\u5185\u5bb9\u5b58\u50a8\u5230received_data\u91cc\nnc -l 8000 > received_data\n\n#\u4e0a\u8fb9\u53ea\u76d1\u542c\u4e00\u6b21\uff0c\u5982\u679c\u591a\u6b21\u53ef\u4ee5\u52a0\u4e0a-k\u53c2\u6570\nnc -lk 8000\n"})}),"\n",(0,s.jsx)(e.h3,{id:"tcpdump",children:"tcpdump"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# dump\u51fa\u672c\u673a12301\u7aef\u53e3\u7684tcp\u5305\ntcpdump -i em1 tcp port 12301 -s 1500 -w abc.pcap\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u8ddf\u8e2a\u7f51\u7edc\u8def\u7531\u8def\u5f84",children:"\u8ddf\u8e2a\u7f51\u7edc\u8def\u7531\u8def\u5f84"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# traceroute\u9ed8\u8ba4\u4f7f\u7528udp\u65b9\u5f0f, \u5982\u679c\u662f-I\u5219\u6539\u6210icmp\u65b9\u5f0f\ntraceroute -I www.163.com\n\n# \u4ecettl\u7b2c3\u8df3\u8ddf\u8e2a\ntraceroute -M 3 www.163.com  \n\n# \u52a0\u4e0a\u7aef\u53e3\u8ddf\u8e2a\ntraceroute -p 8080 192.168.10.11\n"})}),"\n",(0,s.jsx)(e.h2,{id:"ss",children:"ss"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# \u663e\u793a\u672c\u5730\u6253\u5f00\u7684\u6240\u6709\u7aef\u53e3\nss -l \n\n# \u663e\u793a\u6bcf\u4e2a\u8fdb\u7a0b\u5177\u4f53\u6253\u5f00\u7684socket\nss -pl \n\n# \u663e\u793a\u6240\u6709tcp socket\nss -t -a \n\n# \u663e\u793a\u6240\u6709\u7684UDP Socekt\nss -u -a \n\n# \u663e\u793a\u6240\u6709\u5df2\u5efa\u7acb\u7684SMTP\u8fde\u63a5\nss -o state established '( dport = :smtp or sport = :smtp )'  \n\n# \u663e\u793a\u6240\u6709\u5df2\u5efa\u7acb\u7684HTTP\u8fde\u63a5 \nss -o state established '( dport = :http or sport = :http )'  \n\n\u627e\u51fa\u6240\u6709\u8fde\u63a5X\u670d\u52a1\u5668\u7684\u8fdb\u7a0b\nss -x src /tmp/.X11-unix/*  \n\n\u5217\u51fa\u5f53\u524dsocket\u7edf\u8ba1\u4fe1\u606f\nss -s \n\n\u89e3\u91ca\uff1anetstat\u662f\u904d\u5386/proc\u4e0b\u9762\u6bcf\u4e2aPID\u76ee\u5f55\uff0css\u76f4\u63a5\u8bfb/proc/net\u4e0b\u9762\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\u6240\u4ee5ss\u6267\u884c\u7684\u65f6\u5019\u6d88\u8017\u8d44\u6e90\u4ee5\u53ca\u6d88\u8017\u7684\u65f6\u95f4\u90fd\u6bd4netstat\u5c11\u5f88\u591a\n"})}),"\n",(0,s.jsx)(e.h3,{id:"netstat",children:"netstat"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:'# \u8f93\u51fa\u6bcf\u4e2aip\u7684\u8fde\u63a5\u6570\uff0c\u4ee5\u53ca\u603b\u7684\u5404\u4e2a\u72b6\u6001\u7684\u8fde\u63a5\u6570\nnetstat -n | awk \'/^tcp/ {n=split($(NF-1),array,":");if(n<=2)++S[array[(1)]];else++S[array[(4)]];++s[$NF];++N} END {for(a in S){printf("%-20s %s\\n", a, S[a]);++I}printf("%-20s %s\\n","TOTAL_IP",I);for(a in s) printf("%-20s %s\\n",a, s[a]);printf("%-20s %s\\n","TOTAL_LINK",N);}\'\n\n# \u7edf\u8ba1\u6240\u6709\u8fde\u63a5\u72b6\u6001, \n# CLOSED\uff1a\u65e0\u8fde\u63a5\u662f\u6d3b\u52a8\u7684\u6216\u6b63\u5728\u8fdb\u884c\n# LISTEN\uff1a\u670d\u52a1\u5668\u5728\u7b49\u5f85\u8fdb\u5165\u547c\u53eb\n# SYN_RECV\uff1a\u4e00\u4e2a\u8fde\u63a5\u8bf7\u6c42\u5df2\u7ecf\u5230\u8fbe\uff0c\u7b49\u5f85\u786e\u8ba4\n# SYN_SENT\uff1a\u5e94\u7528\u5df2\u7ecf\u5f00\u59cb\uff0c\u6253\u5f00\u4e00\u4e2a\u8fde\u63a5\n# ESTABLISHED\uff1a\u6b63\u5e38\u6570\u636e\u4f20\u8f93\u72b6\u6001\n# FIN_WAIT1\uff1a\u5e94\u7528\u8bf4\u5b83\u5df2\u7ecf\u5b8c\u6210\n# FIN_WAIT2\uff1a\u53e6\u4e00\u8fb9\u5df2\u540c\u610f\u91ca\u653e\n# ITMED_WAIT\uff1a\u7b49\u5f85\u6240\u6709\u5206\u7ec4\u6b7b\u6389\n# CLOSING\uff1a\u4e24\u8fb9\u540c\u65f6\u5c1d\u8bd5\u5173\u95ed\n# TIME_WAIT\uff1a\u4e3b\u52a8\u5173\u95ed\u8fde\u63a5\u4e00\u7aef\u8fd8\u6ca1\u6709\u7b49\u5230\u53e6\u4e00\u7aef\u53cd\u9988\u671f\u95f4\u7684\u72b6\u6001\n# LAST_ACK\uff1a\u7b49\u5f85\u6240\u6709\u5206\u7ec4\u6b7b\u6389\nnetstat -n | awk \'/^tcp/ {++state[$NF]} END {for(key in state) print key,"\\t",state[key]}\'\n\n# \u67e5\u627e\u8f83\u591atime_wait\u8fde\u63a5\nnetstat -n|grep TIME_WAIT|awk \'{print $5}\'|sort|uniq -c|sort -rn|head -n20\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u76d1\u63a7linux\u6027\u80fd\u547d\u4ee4",children:"\u76d1\u63a7linux\u6027\u80fd\u547d\u4ee4"}),"\n",(0,s.jsx)(e.h3,{id:"top",children:"top"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"\u6309\u5927\u5199\u7684 F \u6216 O \u952e\uff0c\u7136\u540e\u6309 a-z \u53ef\u4ee5\u5c06\u8fdb\u7a0b\u6309\u7167\u76f8\u5e94\u7684\u5217\u8fdb\u884c\u6392\u5e8f, \u7136\u540e\u56de\u8f66\u3002\u800c\u5927\u5199\u7684 R \u952e\u53ef\u4ee5\u5c06\u5f53\u524d\u7684\u6392\u5e8f\u5012\u8f6c\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5217\u540d"}),(0,s.jsx)(e.th,{children:"\u542b\u4e49"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"PID"}),(0,s.jsx)(e.td,{children:"\u8fdb\u7a0bid"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"PPID"}),(0,s.jsx)(e.td,{children:"\u7236\u8fdb\u7a0bid"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"RUSER"}),(0,s.jsx)(e.td,{children:"Real user name"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"UID"}),(0,s.jsx)(e.td,{children:"\u8fdb\u7a0b\u6240\u6709\u8005\u7684\u7528\u6237id"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"USER"}),(0,s.jsx)(e.td,{children:"\u8fdb\u7a0b\u6240\u6709\u8005\u7684\u7528\u6237\u540d"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"GROUP"}),(0,s.jsx)(e.td,{children:"\u8fdb\u7a0b\u6240\u6709\u8005\u7684\u7ec4\u540d"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"TTY"}),(0,s.jsx)(e.td,{children:"\u542f\u52a8\u8fdb\u7a0b\u7684\u7ec8\u7aef\u540d\u3002\u4e0d\u662f\u4ece\u7ec8\u7aef\u542f\u52a8\u7684\u8fdb\u7a0b\u5219\u663e\u793a\u4e3a ?"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"PR"}),(0,s.jsx)(e.td,{children:"\u4f18\u5148\u7ea7"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"NI"}),(0,s.jsx)(e.td,{children:"nice\u503c\u3002\u8d1f\u503c\u8868\u793a\u9ad8\u4f18\u5148\u7ea7\uff0c\u6b63\u503c\u8868\u793a\u4f4e\u4f18\u5148\u7ea7"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"P"}),(0,s.jsx)(e.td,{children:"\u6700\u540e\u4f7f\u7528\u7684CPU\uff0c\u4ec5\u5728\u591aCPU\u73af\u5883\u4e0b\u6709\u610f\u4e49"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"%CPU"}),(0,s.jsx)(e.td,{children:"\u4e0a\u6b21\u66f4\u65b0\u5230\u73b0\u5728\u7684CPU\u65f6\u95f4\u5360\u7528\u767e\u5206\u6bd4"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"TIME"}),(0,s.jsx)(e.td,{children:"\u8fdb\u7a0b\u4f7f\u7528\u7684CPU\u65f6\u95f4\u603b\u8ba1\uff0c\u5355\u4f4d\u79d2"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"TIME+"}),(0,s.jsx)(e.td,{children:"\u8fdb\u7a0b\u4f7f\u7528\u7684CPU\u65f6\u95f4\u603b\u8ba1\uff0c\u5355\u4f4d1/100\u79d2"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"%MEM"}),(0,s.jsx)(e.td,{children:"\u8fdb\u7a0b\u4f7f\u7528\u7684\u7269\u7406\u5185\u5b58\u767e\u5206\u6bd4"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"VIRT"}),(0,s.jsx)(e.td,{children:"\u8fdb\u7a0b\u4f7f\u7528\u7684\u865a\u62df\u5185\u5b58\u603b\u91cf\uff0c\u5355\u4f4dkb\u3002VIRT=SWAP+RES"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"SWAP"}),(0,s.jsx)(e.td,{children:"\u8fdb\u7a0b\u4f7f\u7528\u7684\u865a\u62df\u5185\u5b58\u4e2d\uff0c\u88ab\u6362\u51fa\u7684\u5927\u5c0f\uff0c\u5355\u4f4dkb\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"RES"}),(0,s.jsx)(e.td,{children:"\u8fdb\u7a0b\u4f7f\u7528\u7684\u3001\u672a\u88ab\u6362\u51fa\u7684\u7269\u7406\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4dkb\u3002RES=CODE+DATA"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"CODE"}),(0,s.jsx)(e.td,{children:"\u53ef\u6267\u884c\u4ee3\u7801\u5360\u7528\u7684\u7269\u7406\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4dkb"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"DATA"}),(0,s.jsx)(e.td,{children:"\u53ef\u6267\u884c\u4ee3\u7801\u4ee5\u5916\u7684\u90e8\u5206(\u6570\u636e\u6bb5+\u6808)\u5360\u7528\u7684\u7269\u7406\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4dkb"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"SHR"}),(0,s.jsx)(e.td,{children:"\u5171\u4eab\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4dkb"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"nFLT"}),(0,s.jsx)(e.td,{children:"\u9875\u9762\u9519\u8bef\u6b21\u6570"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"nDRT"}),(0,s.jsx)(e.td,{children:"\u6700\u540e\u4e00\u6b21\u5199\u5165\u5230\u73b0\u5728\uff0c\u88ab\u4fee\u6539\u8fc7\u7684\u9875\u9762\u6570\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"S"}),(0,s.jsx)(e.td,{children:"\u8fdb\u7a0b\u72b6\u6001\u3002D=\u4e0d\u53ef\u4e2d\u65ad\u7684\u7761\u7720\u72b6\u6001,R=\u8fd0\u884c,S=\u7761\u7720,T=\u8ddf\u8e2a/\u505c\u6b62,Z=\u50f5\u5c38\u8fdb\u7a0b"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"COMMAND"}),(0,s.jsx)(e.td,{children:"\u547d\u4ee4\u540d/\u547d\u4ee4\u884c"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"WCHAN"}),(0,s.jsx)(e.td,{children:"\u82e5\u8be5\u8fdb\u7a0b\u5728\u7761\u7720\uff0c\u5219\u663e\u793a\u7761\u7720\u4e2d\u7684\u7cfb\u7edf\u51fd\u6570\u540d"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Flags"}),(0,s.jsx)(e.td,{children:"\u4efb\u52a1\u6807\u5fd7\uff0c\u53c2\u8003 sched.h"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"dmesg\u67e5\u770b\u7cfb\u7edf\u65e5\u5fd7",children:"dmesg,\u67e5\u770b\u7cfb\u7edf\u65e5\u5fd7"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"dmesg\n"})}),"\n",(0,s.jsx)(e.h3,{id:"iostat\u78c1\u76d8io\u60c5\u51b5\u76d1\u63a7",children:"iostat,\u78c1\u76d8IO\u60c5\u51b5\u76d1\u63a7"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"iostat -xz 1\n\n# r/s, w/s, rkB/s, wkB/s\uff1a\u5206\u522b\u8868\u793a\u6bcf\u79d2\u8bfb\u5199\u6b21\u6570\u548c\u6bcf\u79d2\u8bfb\u5199\u6570\u636e\u91cf\uff08\u5343\u5b57\u8282\uff09\u3002\u8bfb\u5199\u91cf\u8fc7\u5927\uff0c\u53ef\u80fd\u4f1a\u5f15\u8d77\u6027\u80fd\u95ee\u9898\u3002\n# await\uff1aIO\u64cd\u4f5c\u7684\u5e73\u5747\u7b49\u5f85\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\u6beb\u79d2\u3002\u8fd9\u662f\u5e94\u7528\u7a0b\u5e8f\u5728\u548c\u78c1\u76d8\u4ea4\u4e92\u65f6\uff0c\u9700\u8981\u6d88\u8017\u7684\u65f6\u95f4\uff0c\u5305\u62ecIO\u7b49\u5f85\u548c\u5b9e\u9645\u64cd\u4f5c\u7684\u8017\u65f6\u3002\u5982\u679c\u8fd9\u4e2a\u6570\u503c\u8fc7\u5927\uff0c\u53ef\u80fd\u662f\u786c\u4ef6\u8bbe\u5907\u9047\u5230\u4e86\u74f6\u9888\u6216\u8005\u51fa\u73b0\u6545\u969c\u3002\n# avgqu-sz\uff1a\u5411\u8bbe\u5907\u53d1\u51fa\u7684\u8bf7\u6c42\u5e73\u5747\u6570\u91cf\u3002\u5982\u679c\u8fd9\u4e2a\u6570\u503c\u5927\u4e8e1\uff0c\u53ef\u80fd\u662f\u786c\u4ef6\u8bbe\u5907\u5df2\u7ecf\u9971\u548c\uff08\u90e8\u5206\u524d\u7aef\u786c\u4ef6\u8bbe\u5907\u652f\u6301\u5e76\u884c\u5199\u5165\uff09\u3002\n# %util\uff1a\u8bbe\u5907\u5229\u7528\u7387\u3002\u8fd9\u4e2a\u6570\u503c\u8868\u793a\u8bbe\u5907\u7684\u7e41\u5fd9\u7a0b\u5ea6\uff0c\u7ecf\u9a8c\u503c\u662f\u5982\u679c\u8d85\u8fc760\uff0c\u53ef\u80fd\u4f1a\u5f71\u54cdIO\u6027\u80fd\uff08\u53ef\u4ee5\u53c2\u7167IO\u64cd\u4f5c\u5e73\u5747\u7b49\u5f85\u65f6\u95f4\uff09\u3002\u5982\u679c\u5230\u8fbe100%\uff0c\u8bf4\u660e\u786c\u4ef6\u8bbe\u5907\u5df2\u7ecf\u9971\u548c\u3002\n# \u5982\u679c\u663e\u793a\u7684\u662f\u903b\u8f91\u8bbe\u5907\u7684\u6570\u636e\uff0c\u90a3\u4e48\u8bbe\u5907\u5229\u7528\u7387\u4e0d\u4ee3\u8868\u540e\u7aef\u5b9e\u9645\u7684\u786c\u4ef6\u8bbe\u5907\u5df2\u7ecf\u9971\u548c\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5373\u4f7fIO\u6027\u80fd\u4e0d\u7406\u60f3\uff0c\u4e5f\u4e0d\u4e00\u5b9a\u610f\u5473\u8fd9\u5e94\u7528\u7a0b\u5e8f\u6027\u80fd\u4f1a\u4e0d\u597d\uff0c\u53ef\u4ee5\u5229\u7528\u8bf8\u5982\u9884\u8bfb\u53d6\u3001\u5199\u7f13\u5b58\u7b49\u7b56\u7565\u63d0\u5347\u5e94\u7528\u6027\u80fd\u3002\n"})}),"\n",(0,s.jsx)(e.h3,{id:"free\u5185\u5b58\u4f7f\u7528\u60c5\u51b5",children:"free,\u5185\u5b58\u4f7f\u7528\u60c5\u51b5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"free -m\n\neg:\n\n     total       used       free     shared    buffers     cached\nMem:          1002        769        232          0         62        421\n-/+ buffers/cache:          286        715\nSwap:          1153          0       1153\n\n\u7b2c\u4e00\u90e8\u5206Mem\u884c:\ntotal \u5185\u5b58\u603b\u6570: 1002M\nused \u5df2\u7ecf\u4f7f\u7528\u7684\u5185\u5b58\u6570: 769M\nfree \u7a7a\u95f2\u7684\u5185\u5b58\u6570: 232M\nshared \u5f53\u524d\u5df2\u7ecf\u5e9f\u5f03\u4e0d\u7528,\u603b\u662f0\nbuffers Buffer \u7f13\u5b58\u5185\u5b58\u6570: 62M\ncached Page \u7f13\u5b58\u5185\u5b58\u6570:421M\n\n\u5173\u7cfb\uff1atotal(1002M) = used(769M) + free(232M)\n\n\u7b2c\u4e8c\u90e8\u5206(-/+ buffers/cache):\n(-buffers/cache) used\u5185\u5b58\u6570\uff1a286M (\u6307\u7684\u7b2c\u4e00\u90e8\u5206Mem\u884c\u4e2d\u7684used \u2013 buffers \u2013 cached)\n(+buffers/cache) free\u5185\u5b58\u6570: 715M (\u6307\u7684\u7b2c\u4e00\u90e8\u5206Mem\u884c\u4e2d\u7684free + buffers + cached)\n\n\u53ef\u89c1-buffers/cache\u53cd\u6620\u7684\u662f\u88ab\u7a0b\u5e8f\u5b9e\u5b9e\u5728\u5728\u5403\u6389\u7684\u5185\u5b58,\u800c+buffers/cache\u53cd\u6620\u7684\u662f\u53ef\u4ee5\u632a\u7528\u7684\u5185\u5b58\u603b\u6570.\n\n\u7b2c\u4e09\u90e8\u5206\u662f\u6307\u4ea4\u6362\u5206\u533a\n"})}),"\n",(0,s.jsx)(e.h3,{id:"sar\u67e5\u770b\u7f51\u7edc\u541e\u5410\u72b6\u6001",children:"sar,\u67e5\u770b\u7f51\u7edc\u541e\u5410\u72b6\u6001"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# sar\u547d\u4ee4\u5728\u8fd9\u91cc\u53ef\u4ee5\u67e5\u770b\u7f51\u7edc\u8bbe\u5907\u7684\u541e\u5410\u7387\u3002\u5728\u6392\u67e5\u6027\u80fd\u95ee\u9898\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f51\u7edc\u8bbe\u5907\u7684\u541e\u5410\u91cf\uff0c\u5224\u65ad\u7f51\u7edc\u8bbe\u5907\u662f\u5426\u5df2\u7ecf\u9971\u548c\nsar -n DEV 1\n\n#\n# sar\u547d\u4ee4\u5728\u8fd9\u91cc\u7528\u4e8e\u67e5\u770bTCP\u8fde\u63a5\u72b6\u6001\uff0c\u5176\u4e2d\u5305\u62ec\uff1a\n# active/s\uff1a\u6bcf\u79d2\u672c\u5730\u53d1\u8d77\u7684TCP\u8fde\u63a5\u6570\uff0c\u65e2\u901a\u8fc7connect\u8c03\u7528\u521b\u5efa\u7684TCP\u8fde\u63a5\uff1b\n# passive/s\uff1a\u6bcf\u79d2\u8fdc\u7a0b\u53d1\u8d77\u7684TCP\u8fde\u63a5\u6570\uff0c\u5373\u901a\u8fc7accept\u8c03\u7528\u521b\u5efa\u7684TCP\u8fde\u63a5\uff1b\n# retrans/s\uff1a\u6bcf\u79d2TCP\u91cd\u4f20\u6570\u91cf\uff1b\n# TCP\u8fde\u63a5\u6570\u53ef\u4ee5\u7528\u6765\u5224\u65ad\u6027\u80fd\u95ee\u9898\u662f\u5426\u7531\u4e8e\u5efa\u7acb\u4e86\u8fc7\u591a\u7684\u8fde\u63a5\uff0c\u8fdb\u4e00\u6b65\u53ef\u4ee5\u5224\u65ad\u662f\u4e3b\u52a8\u53d1\u8d77\u7684\u8fde\u63a5\uff0c\u8fd8\u662f\u88ab\u52a8\u63a5\u53d7\u7684\u8fde\u63a5\u3002TCP\u91cd\u4f20\u53ef\u80fd\u662f\u56e0\u4e3a\u7f51\u7edc\u73af\u5883\u6076\u52a3\uff0c\u6216\u8005\u670d\u52a1\u5668\u538b\u529b\u8fc7\u5927\u5bfc\u81f4\u4e22\u5305\nsar -n TCP,ETCP 1\n"})}),"\n",(0,s.jsx)(e.h3,{id:"vmstat-\u7ed9\u5b9a\u65f6\u95f4\u76d1\u63a7cpu\u4f7f\u7528\u7387-\u5185\u5b58\u4f7f\u7528-\u865a\u62df\u5185\u5b58\u4ea4\u4e92-io\u8bfb\u5199",children:"vmstat, \u7ed9\u5b9a\u65f6\u95f4\u76d1\u63a7CPU\u4f7f\u7528\u7387, \u5185\u5b58\u4f7f\u7528, \u865a\u62df\u5185\u5b58\u4ea4\u4e92, IO\u8bfb\u5199"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"# 2\u8868\u793a\u6bcf2\u79d2\u91c7\u96c6\u4e00\u6b21\u72b6\u6001\u4fe1\u606f, 1\u8868\u793a\u53ea\u91c7\u96c6\u4e00\u6b21(\u5ffd\u7565\u65e2\u662f\u4e00\u76f4\u91c7\u96c6)\nvmstat 2 1\n\neg:\nr b swpd free buff cache si so bi bo in cs us sy id wa\n1 0 0 3499840 315836 3819660 0 0 0 1 2 0 0 0 100 0\n0 0 0 3499584 315836 3819660 0 0 0 0 88 158 0 0 100 0\n0 0 0 3499708 315836 3819660 0 0 0 2 86 162 0 0 100 0\n0 0 0 3499708 315836 3819660 0 0 0 10 81 151 0 0 100 0\n1 0 0 3499732 315836 3819660 0 0 0 2 83 154 0 0 100 0\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"r \u8868\u793a\u8fd0\u884c\u961f\u5217(\u5c31\u662f\u8bf4\u591a\u5c11\u4e2a\u8fdb\u7a0b\u771f\u7684\u5206\u914d\u5230CPU)\uff0c\u6211\u6d4b\u8bd5\u7684\u670d\u52a1\u5668\u76ee\u524dCPU\u6bd4\u8f83\u7a7a\u95f2\uff0c\u6ca1\u4ec0\u4e48\u7a0b\u5e8f\u5728\u8dd1\uff0c\u5f53\u8fd9\u4e2a\u503c\u8d85\u8fc7\u4e86CPU\u6570\u76ee\uff0c\u5c31\u4f1a\u51fa\u73b0CPU\u74f6\u9888\u4e86\u3002\u8fd9\u4e2a\u4e5f\u548ctop\u7684\u8d1f\u8f7d\u6709\u5173\u7cfb\uff0c\u4e00\u822c\u8d1f\u8f7d\u8d85\u8fc7\u4e863\u5c31\u6bd4\u8f83\u9ad8\uff0c\u8d85\u8fc7\u4e865\u5c31\u9ad8\uff0c\u8d85\u8fc7\u4e8610\u5c31\u4e0d\u6b63\u5e38\u4e86\uff0c\u670d\u52a1\u5668\u7684\u72b6\u6001\u5f88\u5371\u9669\u3002top\u7684\u8d1f\u8f7d\u7c7b\u4f3c\u6bcf\u79d2\u7684\u8fd0\u884c\u961f\u5217\u3002\u5982\u679c\u8fd0\u884c\u961f\u5217\u8fc7\u5927\uff0c\u8868\u793a\u4f60\u7684CPU\u5f88\u7e41\u5fd9\uff0c\u4e00\u822c\u4f1a\u9020\u6210CPU\u4f7f\u7528\u7387\u5f88\u9ad8\u3002"}),"\n",(0,s.jsx)(e.li,{children:"b \u8868\u793a\u963b\u585e\u7684\u8fdb\u7a0b,\u8fd9\u4e2a\u4e0d\u591a\u8bf4\uff0c\u8fdb\u7a0b\u963b\u585e\uff0c\u5927\u5bb6\u61c2\u7684\u3002"}),"\n",(0,s.jsx)(e.li,{children:"swpd \u865a\u62df\u5185\u5b58\u5df2\u4f7f\u7528\u7684\u5927\u5c0f\uff0c\u5982\u679c\u5927\u4e8e0\uff0c\u8868\u793a\u4f60\u7684\u673a\u5668\u7269\u7406\u5185\u5b58\u4e0d\u8db3\u4e86\uff0c\u5982\u679c\u4e0d\u662f\u7a0b\u5e8f\u5185\u5b58\u6cc4\u9732\u7684\u539f\u56e0\uff0c\u90a3\u4e48\u4f60\u8be5\u5347\u7ea7\u5185\u5b58\u4e86\u6216\u8005\u628a\u8017\u5185\u5b58\u7684\u4efb\u52a1\u8fc1\u79fb\u5230\u5176\u4ed6\u673a\u5668\u3002"}),"\n",(0,s.jsx)(e.li,{children:"free \u7a7a\u95f2\u7684\u7269\u7406\u5185\u5b58\u7684\u5927\u5c0f\uff0c\u6211\u7684\u673a\u5668\u5185\u5b58\u603b\u51718G\uff0c\u5269\u4f593415M\u3002"}),"\n",(0,s.jsx)(e.li,{children:"buff Linux/Unix\u7cfb\u7edf\u662f\u7528\u6765\u5b58\u50a8\uff0c\u76ee\u5f55\u91cc\u9762\u6709\u4ec0\u4e48\u5185\u5bb9\uff0c\u6743\u9650\u7b49\u7684\u7f13\u5b58\uff0c\u6211\u672c\u673a\u5927\u6982\u5360\u7528300\u591aM"}),"\n",(0,s.jsx)(e.li,{children:"cache cache\u76f4\u63a5\u7528\u6765\u8bb0\u5fc6\u6211\u4eec\u6253\u5f00\u7684\u6587\u4ef6,\u7ed9\u6587\u4ef6\u505a\u7f13\u51b2\uff0c\u6211\u672c\u673a\u5927\u6982\u5360\u7528300\u591aM(\u8fd9\u91cc\u662fLinux/Unix\u7684\u806a\u660e\u4e4b\u5904\uff0c\u628a\u7a7a\u95f2\u7684\u7269\u7406\u5185\u5b58\u7684\u4e00\u90e8\u5206\u62ff\u6765\u505a\u6587\u4ef6\u548c\u76ee\u5f55\u7684\u7f13\u5b58\uff0c\u662f\u4e3a\u4e86\u63d0\u9ad8 \u7a0b\u5e8f\u6267\u884c\u7684\u6027\u80fd\uff0c\u5f53\u7a0b\u5e8f\u4f7f\u7528\u5185\u5b58\u65f6\uff0cbuffer/cached\u4f1a\u5f88\u5feb\u5730\u88ab\u4f7f\u7528\u3002)"}),"\n",(0,s.jsx)(e.li,{children:"si \u6bcf\u79d2\u4ece\u78c1\u76d8\u8bfb\u5165\u865a\u62df\u5185\u5b58\u7684\u5927\u5c0f\uff0c\u5982\u679c\u8fd9\u4e2a\u503c\u5927\u4e8e0\uff0c\u8868\u793a\u7269\u7406\u5185\u5b58\u4e0d\u591f\u7528\u6216\u8005\u5185\u5b58\u6cc4\u9732\u4e86\uff0c\u8981\u67e5\u627e\u8017\u5185\u5b58\u8fdb\u7a0b\u89e3\u51b3\u6389\u3002\u6211\u7684\u673a\u5668\u5185\u5b58\u5145\u88d5\uff0c\u4e00\u5207\u6b63\u5e38\u3002"}),"\n",(0,s.jsx)(e.li,{children:"so \u6bcf\u79d2\u865a\u62df\u5185\u5b58\u5199\u5165\u78c1\u76d8\u7684\u5927\u5c0f\uff0c\u5982\u679c\u8fd9\u4e2a\u503c\u5927\u4e8e0\uff0c\u540c\u4e0a\u3002"}),"\n",(0,s.jsx)(e.li,{children:"bi \u5757\u8bbe\u5907\u6bcf\u79d2\u63a5\u6536\u7684\u5757\u6570\u91cf\uff0c\u8fd9\u91cc\u7684\u5757\u8bbe\u5907\u662f\u6307\u7cfb\u7edf\u4e0a\u6240\u6709\u7684\u78c1\u76d8\u548c\u5176\u4ed6\u5757\u8bbe\u5907\uff0c\u9ed8\u8ba4\u5757\u5927\u5c0f\u662f1024byte\uff0c\u6211\u672c\u673a\u4e0a\u6ca1\u4ec0\u4e48IO\u64cd\u4f5c\uff0c\u6240\u4ee5\u4e00\u76f4\u662f0\uff0c\u4f46\u662f\u6211\u66fe\u5728\u5904\u7406\u62f7\u8d1d\u5927\u91cf\u6570\u636e(2-3T)\u7684\u673a\u5668\u4e0a\u770b\u8fc7\u53ef\u4ee5\u8fbe\u5230140000/s\uff0c\u78c1\u76d8\u5199\u5165\u901f\u5ea6\u5dee\u4e0d\u591a140M\u6bcf\u79d2"}),"\n",(0,s.jsx)(e.li,{children:"bo \u5757\u8bbe\u5907\u6bcf\u79d2\u53d1\u9001\u7684\u5757\u6570\u91cf\uff0c\u4f8b\u5982\u6211\u4eec\u8bfb\u53d6\u6587\u4ef6\uff0cbo\u5c31\u8981\u5927\u4e8e0\u3002bi\u548cbo\u4e00\u822c\u90fd\u8981\u63a5\u8fd10\uff0c\u4e0d\u7136\u5c31\u662fIO\u8fc7\u4e8e\u9891\u7e41\uff0c\u9700\u8981\u8c03\u6574\u3002"}),"\n",(0,s.jsx)(e.li,{children:"in \u6bcf\u79d2CPU\u7684\u4e2d\u65ad\u6b21\u6570\uff0c\u5305\u62ec\u65f6\u95f4\u4e2d\u65ad"}),"\n",(0,s.jsx)(e.li,{children:"cs \u6bcf\u79d2\u4e0a\u4e0b\u6587\u5207\u6362\u6b21\u6570\uff0c\u4f8b\u5982\u6211\u4eec\u8c03\u7528\u7cfb\u7edf\u51fd\u6570\uff0c\u5c31\u8981\u8fdb\u884c\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u7ebf\u7a0b\u7684\u5207\u6362\uff0c\u4e5f\u8981\u8fdb\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u8fd9\u4e2a\u503c\u8981\u8d8a\u5c0f\u8d8a\u597d\uff0c\u592a\u5927\u4e86\uff0c\u8981\u8003\u8651\u8c03\u4f4e\u7ebf\u7a0b\u6216\u8005\u8fdb\u7a0b\u7684\u6570\u76ee,\u4f8b\u5982\u5728apache\u548cnginx\u8fd9\u79cdweb\u670d\u52a1\u5668\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u505a\u6027\u80fd\u6d4b\u8bd5\u65f6\u4f1a\u8fdb\u884c\u51e0\u5343\u5e76\u53d1\u751a\u81f3\u51e0\u4e07\u5e76\u53d1\u7684\u6d4b\u8bd5\uff0c\u9009\u62e9web\u670d\u52a1\u5668\u7684\u8fdb\u7a0b\u53ef\u4ee5\u7531\u8fdb\u7a0b\u6216\u8005\u7ebf\u7a0b\u7684\u5cf0\u503c\u4e00\u76f4\u4e0b\u8c03\uff0c\u538b\u6d4b\uff0c\u76f4\u5230cs\u5230\u4e00\u4e2a\u6bd4\u8f83\u5c0f\u7684\u503c\uff0c\u8fd9\u4e2a\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u6570\u5c31\u662f\u6bd4\u8f83\u5408\u9002\u7684\u503c\u4e86\u3002\u7cfb\u7edf\u8c03\u7528\u4e5f\u662f\uff0c\u6bcf\u6b21\u8c03\u7528\u7cfb\u7edf\u51fd\u6570\uff0c\u6211\u4eec\u7684\u4ee3\u7801\u5c31\u4f1a\u8fdb\u5165\u5185\u6838\u7a7a\u95f4\uff0c\u5bfc\u81f4\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u8fd9\u4e2a\u662f\u5f88\u8017\u8d44\u6e90\uff0c\u4e5f\u8981\u5c3d\u91cf\u907f\u514d\u9891\u7e41\u8c03\u7528\u7cfb\u7edf\u51fd\u6570\u3002\u4e0a\u4e0b\u6587\u5207\u6362\u6b21\u6570\u8fc7\u591a\u8868\u793a\u4f60\u7684CPU\u5927\u90e8\u5206\u6d6a\u8d39\u5728\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u5bfc\u81f4CPU\u5e72\u6b63\u7ecf\u4e8b\u7684\u65f6\u95f4\u5c11\u4e86\uff0cCPU\u6ca1\u6709\u5145\u5206\u5229\u7528\uff0c\u662f\u4e0d\u53ef\u53d6\u7684\u3002"}),"\n",(0,s.jsx)(e.li,{children:"us \u7528\u6237CPU\u65f6\u95f4\uff0c\u6211\u66fe\u7ecf\u5728\u4e00\u4e2a\u505a\u52a0\u5bc6\u89e3\u5bc6\u5f88\u9891\u7e41\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u53ef\u4ee5\u770b\u5230us\u63a5\u8fd1100,r\u8fd0\u884c\u961f\u5217\u8fbe\u523080(\u673a\u5668\u5728\u505a\u538b\u529b\u6d4b\u8bd5\uff0c\u6027\u80fd\u8868\u73b0\u4e0d\u4f73)\u3002"}),"\n",(0,s.jsx)(e.li,{children:"sy \u7cfb\u7edfCPU\u65f6\u95f4\uff0c\u5982\u679c\u592a\u9ad8\uff0c\u8868\u793a\u7cfb\u7edf\u8c03\u7528\u65f6\u95f4\u957f\uff0c\u4f8b\u5982\u662fIO\u64cd\u4f5c\u9891\u7e41\u3002"}),"\n",(0,s.jsx)(e.li,{children:"id \u7a7a\u95f2 CPU\u65f6\u95f4\uff0c\u4e00\u822c\u6765\u8bf4\uff0cid + us + sy = 100,\u4e00\u822c\u6211\u8ba4\u4e3aid\u662f\u7a7a\u95f2CPU\u4f7f\u7528\u7387\uff0cus\u662f\u7528\u6237CPU\u4f7f\u7528\u7387\uff0csy\u662f\u7cfb\u7edfCPU\u4f7f\u7528\u7387\u3002"}),"\n",(0,s.jsx)(e.li,{children:"wt \u7b49\u5f85IO CPU\u65f6\u95f4\u3002"}),"\n"]})]})}function x(n={}){const{wrapper:e}={...(0,d.ah)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(t,{...n})}):t(n)}},11151:(n,e,l)=>{l.d(e,{ah:()=>i});var s=l(67294);const d=s.createContext({});function i(n){const e=s.useContext(d);return s.useMemo((()=>"function"==typeof n?n(e):{...e,...n}),[e,n])}}}]);