"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[17104],{28453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>l});var t=o(96540);const r={},a=t.createContext(r);function i(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:n},e.children)}},33928:(e,n,o)=>{o.d(n,{A:()=>t});const t=o.p+"assets/images/38-3-2ab4fa84aa1fb8cdcfe7f754f01aa73b.webp"},35339:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"zh-cn/spring-boot/Auto-Switch-between-Schedule-And-XXL-Job","title":"Auto-Switch-between-Schedule-And-XXL-Job","description":"- \u5b9e\u73b0Spring\u5b9a\u65f6\u4efb\u52a1\u4e0eXXL-JOB\u7075\u6d3b\u5207\u6362","source":"@site/docs/zh-cn/spring-boot/38-Auto-Switch-between-Schedule-And-XXL-Job.md","sourceDirName":"zh-cn/spring-boot","slug":"/zh-cn/spring-boot/Auto-Switch-between-Schedule-And-XXL-Job","permalink":"/docs/zh-cn/spring-boot/Auto-Switch-between-Schedule-And-XXL-Job","draft":false,"unlisted":false,"editUrl":"https://github.com/lorchr/light-docusaurus/tree/main/docs/zh-cn/spring-boot/38-Auto-Switch-between-Schedule-And-XXL-Job.md","tags":[],"version":"current","sidebarPosition":38,"frontMatter":{},"sidebar":"troch","previous":{"title":"Spring-Boot-Dynamic-Load-Jar","permalink":"/docs/zh-cn/spring-boot/Spring-Boot-Dynamic-Load-Jar"},"next":{"title":"Spring-Boot-Plugable-Develop","permalink":"/docs/zh-cn/spring-boot/Spring-Boot-Plugable-Develop"}}');var r=o(74848),a=o(28453);const i={},l=void 0,s={},c=[{value:"\u80cc\u666f",id:"\u80cc\u666f",level:2},{value:"\u5206\u6790\u5e76\u5217\u51fa\u9700\u8981\u89e3\u51b3\u7684\u95ee\u9898\u601d\u8def",id:"\u5206\u6790\u5e76\u5217\u51fa\u9700\u8981\u89e3\u51b3\u7684\u95ee\u9898\u601d\u8def",level:2},{value:"\u5177\u4f53\u5b9e\u73b0",id:"\u5177\u4f53\u5b9e\u73b0",level:2},{value:"\u5224\u65ad\u662f\u5426\u542f\u7528XXl-JOB\u7684\u5b9e\u73b0\u65b9\u5f0f",id:"\u5224\u65ad\u662f\u5426\u542f\u7528xxl-job\u7684\u5b9e\u73b0\u65b9\u5f0f",level:3},{value:"\u626b\u63cf\u5e76\u8bfb\u53d6\u6ce8\u89e3\u503c",id:"\u626b\u63cf\u5e76\u8bfb\u53d6\u6ce8\u89e3\u503c",level:3},{value:"Spring\u4e2d\u7684@EventListener\u6ce8\u89e3",id:"spring\u4e2d\u7684eventlistener\u6ce8\u89e3",level:4},{value:"\u626b\u63cf\u5e76\u83b7\u53d6\u88ab@Scheduled\u6807\u8bb0\u7684\u65b9\u6cd5\u548c\u5bf9\u8c61",id:"\u626b\u63cf\u5e76\u83b7\u53d6\u88abscheduled\u6807\u8bb0\u7684\u65b9\u6cd5\u548c\u5bf9\u8c61",level:4},{value:"\u5173\u95edSpring\u81ea\u5e26\u7684\u5b9a\u65f6\u4efb\u52a1",id:"\u5173\u95edspring\u81ea\u5e26\u7684\u5b9a\u65f6\u4efb\u52a1",level:3},{value:"\u8bfb\u53d6\u6ce8\u89e3\u4fe1\u606f\u5e76\u5c06\u4efb\u52a1\u81ea\u52a8\u6ce8\u518c\u5230XXl-JOB",id:"\u8bfb\u53d6\u6ce8\u89e3\u4fe1\u606f\u5e76\u5c06\u4efb\u52a1\u81ea\u52a8\u6ce8\u518c\u5230xxl-job",level:3},{value:"\u6ce8\u518cJobHandler",id:"\u6ce8\u518cjobhandler",level:4},{value:"\u81ea\u52a8\u5411\u8c03\u5ea6\u4e2d\u5fc3\u6ce8\u518c\u6267\u884c\u5668\u548c\u5bf9\u5e94\u7684\u4efb\u52a1\u4fe1\u606f",id:"\u81ea\u52a8\u5411\u8c03\u5ea6\u4e2d\u5fc3\u6ce8\u518c\u6267\u884c\u5668\u548c\u5bf9\u5e94\u7684\u4efb\u52a1\u4fe1\u606f",level:4},{value:"\u5c06\u5b9a\u65f6\u4efb\u52a1\u4e2d\u7684<code>log.info()</code>\u65e5\u5fd7\u8f93\u51fa\u4e00\u4efd\u5230XXL-JOB\u7684\u5728\u7ebf\u65e5\u5fd7\u4e0a",id:"\u5c06\u5b9a\u65f6\u4efb\u52a1\u4e2d\u7684loginfo\u65e5\u5fd7\u8f93\u51fa\u4e00\u4efd\u5230xxl-job\u7684\u5728\u7ebf\u65e5\u5fd7\u4e0a",level:3},{value:"\u7b2c\u4e09\u65b9\u5e94\u7528\u96c6\u6210Starter\u4f7f\u7528",id:"\u7b2c\u4e09\u65b9\u5e94\u7528\u96c6\u6210starter\u4f7f\u7528",level:3},{value:"\u5728POM\u6587\u4ef6\u4e2d\u5f15\u5165Starter\u4f9d\u8d56",id:"\u5728pom\u6587\u4ef6\u4e2d\u5f15\u5165starter\u4f9d\u8d56",level:4},{value:"SpringBoor\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0XXL-JOB\u7684\u914d\u7f6e",id:"springboor\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0xxl-job\u7684\u914d\u7f6e",level:4},{value:"XXL-JOB\u6267\u884c\u5668\u7ec4\u4ef6\u914d\u7f6e",id:"xxl-job\u6267\u884c\u5668\u7ec4\u4ef6\u914d\u7f6e",level:4},{value:"\u4f7f\u7528SpringBoot\u81ea\u5e26\u7684@Scheduled\u6ce8\u89e3\u5f00\u53d1\u5b9a\u65f6\u4efb\u52a1",id:"\u4f7f\u7528springboot\u81ea\u5e26\u7684scheduled\u6ce8\u89e3\u5f00\u53d1\u5b9a\u65f6\u4efb\u52a1",level:4},{value:"\u542f\u52a8\u9879\u76ee\u9a8c\u8bc1",id:"\u542f\u52a8\u9879\u76ee\u9a8c\u8bc1",level:4},{value:"\u5b9e\u73b0\u8fc7\u7a0b\u4e2d\u601d\u8003\u7684\u51e0\u4e2a\u95ee\u9898",id:"\u5b9e\u73b0\u8fc7\u7a0b\u4e2d\u601d\u8003\u7684\u51e0\u4e2a\u95ee\u9898",level:2},{value:"\u662f\u5426\u5b9e\u73b0\u4efb\u52a1\u4fe1\u606f\u7684\u66f4\u65b0",id:"\u662f\u5426\u5b9e\u73b0\u4efb\u52a1\u4fe1\u606f\u7684\u66f4\u65b0",level:3},{value:"\u662f\u5426\u91c7\u7528\u4fee\u6539\u6570\u636e\u5e93\u6570\u636e\u7684\u65b9\u5f0f\u5b9e\u73b0\u4efb\u52a1\u7684\u6ce8\u518c",id:"\u662f\u5426\u91c7\u7528\u4fee\u6539\u6570\u636e\u5e93\u6570\u636e\u7684\u65b9\u5f0f\u5b9e\u73b0\u4efb\u52a1\u7684\u6ce8\u518c",level:3},{value:"\u662f\u5426\u5728\u81ea\u52a8\u88c5\u914d\u7c7b\u4e0a\u52a0\u4e0a@Scheduled",id:"\u662f\u5426\u5728\u81ea\u52a8\u88c5\u914d\u7c7b\u4e0a\u52a0\u4e0ascheduled",level:3},{value:"\u63d0\u4f9b\u7684Starter\u662f\u5426\u52a0\u4e0aXXL-Job\u7684\u4f9d\u8d56",id:"\u63d0\u4f9b\u7684starter\u662f\u5426\u52a0\u4e0axxl-job\u7684\u4f9d\u8d56",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2},{value:"\u9879\u76ee\u5730\u5740",id:"\u9879\u76ee\u5730\u5740",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7247810665241755703",children:"\u5b9e\u73b0Spring\u5b9a\u65f6\u4efb\u52a1\u4e0eXXL-JOB\u7075\u6d3b\u5207\u6362"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://mp.weixin.qq.com/s/U1EF8sBZJWCNfQVtAcJz4g",children:"Spring\u5b9a\u65f6\u4efb\u52a1\u4e0eXXL-JOB\u7075\u6d3b\u5207\u6362"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u80cc\u666f",children:"\u80cc\u666f"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u4f7f\u7528XXL\u2014JOB\u7684\u5b9e\u73b0\u5b9a\u65f6\u4efb\u52a1\u8fc7\u7a0b\u4e2d\uff0c\u6709\u65f6\u5019\u53ef\u80fd\u7531\u4e8e\u90e8\u7f72\u73af\u5883\u7684\u8981\u6c42\uff0c\u5c31\u53ea\u80fd\u7528Spring\u81ea\u5e26\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u6240\u4ee5\u4e3a\u4e86\u901a\u7528\u6027\u548c\u7075\u6d3b\u6027\uff0c\u7a81\u53d1\u5947\u60f3\u5730\u770b\u770b\u80fd\u4e0d\u80fd\u5b9e\u73b0\u5728\u4e0d\u4fee\u6539\u539f\u672cSpring\u5b9a\u65f6\u4efb\u52a1\u4ee3\u7801\u7684\u524d\u63d0\u4e0b\uff0c\u901a\u8fc7\u914d\u7f6e\u7075\u6d3b\u63a7\u5236\u5b9a\u65f6\u4efb\u52a1\u5177\u4f53\u7684\u5b9e\u73b0\uff0c\u540c\u65f6\u4efb\u52a1\u7684\u65e5\u5fd7\u7684\u7ba1\u7406\u4e5f\u8981\u540c\u6b65\u8fdb\u884c\u5207\u6362\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u5206\u6790\u5e76\u5217\u51fa\u9700\u8981\u89e3\u51b3\u7684\u95ee\u9898\u601d\u8def",children:"\u5206\u6790\u5e76\u5217\u51fa\u9700\u8981\u89e3\u51b3\u7684\u95ee\u9898\u601d\u8def"}),"\n",(0,r.jsx)(n.p,{children:"\u6839\u636e\u9700\u6c42\u80cc\u666f\u53ef\u4ee5\u521d\u6b65\u5206\u6790\u5b9e\u73b0\u7684\u5927\u81f4\u65b9\u5411\u548c\u5b9e\u73b0\u6d41\u7a0b\u3002\u5b9e\u73b0\u7684\u601d\u8def\u5176\u5b9e\u4e0d\u590d\u6742\uff0c\u91cd\u70b9\u5728\u4e8e\u5982\u4f55\u5177\u4f53\u53bb\u5b9e\u73b0\u843d\u5730\u3002"}),"\n",(0,r.jsx)(n.mermaid,{value:"flowchart TD;\n%% https://mermaid.live/edit\n\n    A[\u5e94\u7528\u542f\u52a8];\n    B{\u662f\u5426\u542f\u7528XXl-JOB\u7684\u5b9e\u73b0\u65b9\u5f0f};\n    C[\u626b\u63cf\u5e76\u8bfb\u53d6\u6ce8\u89e3\u503c];\n    D[\u4e0d\u505a\u4fee\u6539,\u4f7f\u7528Spring\u7684\u5b9e\u73b0];\n    E[\u5173\u95edSpring\u81ea\u5e26\u7684\u5b9a\u65f6\u4efb\u52a1];\n    F[\u8bfb\u53d6\u6ce8\u89e3\u4fe1\u606f\u5e76\u5c06\u4efb\u52a1\u81ea\u52a8\u6ce8\u518c\u5230XXl-JOB];\n    G[\u5c06\u5b9a\u65f6\u4efb\u52a1\u4e2d\u7684log.info\u65e5\u5fd7\u8f93\u51fa\u4e00\u4efd\u5230XXL-JOB\u7684\u5728\u7ebf\u65e5\u5fd7\u4e0a];\n    H[\u5e94\u7528\u542f\u52a8\u7ed3\u675f];\n\n    A --\x3e B;\n    B --\x3e|\u662f| C;\n    B --\x3e|\u5426| D;\n    C --\x3e|\u6210\u529f| E;\n    E --\x3e|\u5931\u8d25| F;\n    F --\x3e G;\n    G --\x3e H;\n    D --\x3e H;"}),"\n",(0,r.jsx)(n.h2,{id:"\u5177\u4f53\u5b9e\u73b0",children:"\u5177\u4f53\u5b9e\u73b0"}),"\n",(0,r.jsx)(n.h3,{id:"\u5224\u65ad\u662f\u5426\u542f\u7528xxl-job\u7684\u5b9e\u73b0\u65b9\u5f0f",children:"\u5224\u65ad\u662f\u5426\u542f\u7528XXl-JOB\u7684\u5b9e\u73b0\u65b9\u5f0f"}),"\n",(0,r.jsx)(n.p,{children:"\u548c\u5927\u591a\u6570\u7b2c\u4e09\u65b9starter\u5305\u4e00\u6837\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528SpringBoot\u7684\u81ea\u52a8\u88c5\u914d\uff0c\u8bfb\u53d6\u914d\u7f6e\u4e2d\u7684\u67d0\u4e2a\u5c5e\u6027\u503c\uff0c\u4f5c\u4e3a\u662f\u5426\u88c5\u914d\u6211\u4eec\u5199\u7684\u7c7b\u3002\u7279\u522b\u6ce8\u610f\u7684\u662fSpringBoot\u4e0d\u540c\u7248\u672c\u7684\u914d\u7f6e\u65b9\u5f0f\u6709\u6240\u4e0d\u540c\u3002\u81ea\u52a8\u88c5\u914d\u7c7b\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'/**\n * \u81ea\u52a8\u88c5\u914d\u7c7b\n *\n * @author Teoan\n * @since 2023/04/18 10:18\n */\n@Configuration\n@ConditionalOnProperty(name = "xxl.job.enable",havingValue = "true")\n@ComponentScan("com.teoan.job.auto.core")\npublic class XxlJobAutoConfiguration {\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u91cc\u6211\u4eec\u6839\u636e",(0,r.jsx)(n.code,{children:"xxl.job.enable"})," \u7684\u503c\uff0c\u51b3\u5b9a\u662f\u5426\u542f\u7528XXl-JOB\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u5982\u679c",(0,r.jsx)(n.code,{children:"xxl.job.enable"})," \u4e3a",(0,r.jsx)(n.code,{children:"false"}),"\uff0c\u5219\u5c31\u4ec0\u4e48\u90fd\u4e0d\u88c5\u914d\u4e0d\u4fee\u6539\u5b9e\u73b0\u65b9\u5f0f\uff0c\u9ed8\u8ba4\u5c31\u662fSpring\u81ea\u5e26\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u626b\u63cf\u5e76\u8bfb\u53d6\u6ce8\u89e3\u503c",children:"\u626b\u63cf\u5e76\u8bfb\u53d6\u6ce8\u89e3\u503c"}),"\n",(0,r.jsx)(n.p,{children:"\u719f\u6089SpringBoot\u7684\u7684\u670b\u53cb\u90fd\u5e94\u8be5\u77e5\u9053\uff0cSpringBoot\u542f\u52a8\u7684\u65f6\u5019\uff0c\u4f1a\u53bb\u626b\u63cf\u76ee\u6807\u6ce8\u89e3\uff0c\u7136\u540e\u53bb\u505a\u5bf9\u5e94\u7684\u521d\u59cb\u5316\u64cd\u4f5c\uff0c\u6bd4\u5982@Service\uff0c@Component\u5c31\u662f\u4f7f\u88ab\u626b\u63cf\u5230\u5e76\u5c06\u5bf9\u5e94\u7684\u7c7b\u6ce8\u5165\u5230Spring\u5bb9\u5668\u4e2d\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u6309\u7167\u76f8\u540c\u7684\u601d\u8def\uff0c\u53ef\u4ee5\u5728\u5e94\u7528\u542f\u52a8\u5c31\u7eea\u4e4b\u540e\uff0c\u626b\u63cf@Scheduled\u6ce8\u89e3\uff0c\u5bf9\u5176\u8fdb\u884c\u5bf9\u5e94\u7684\u64cd\u4f5c\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"spring\u4e2d\u7684eventlistener\u6ce8\u89e3",children:"Spring\u4e2d\u7684@EventListener\u6ce8\u89e3"}),"\n",(0,r.jsxs)(n.p,{children:["Spring\u4e2d\u4f7f\u7528",(0,r.jsx)(n.code,{children:"@EventListener"}),"\u6807\u8bb0\u67d0\u4e2a\u65b9\u6cd5\u4e3a\u5e94\u7528\u76d1\u542c\u4e8b\u4ef6\u7684\u5904\u7406\u903b\u8f91\uff0c\u8fd8\u80fd\u914d\u5408\u5f02\u6b65\u6ce8\u89e3",(0,r.jsx)(n.code,{children:"@Async"}),"\u5b9e\u73b0\u5f02\u6b65\u89e6\u53d1\uff0c",(0,r.jsx)(n.code,{children:"@EventListener"}),"\u901a\u8fc7\u4f20\u503c\u7684\u65b9\u5f0f\u8bbe\u7f6e\u9700\u8981\u88ab\u76d1\u542c\u7684\u4e8b\u4ef6\u7c7b\u578b\uff0c\u6bd4\u5982\u5e94\u7528\u542f\u52a8\u65f6\u3001\u5e94\u7528\u5c31\u7eea\u65f6\u3001\u542f\u52a8\u5931\u8d25\u65f6\u7b49\uff0c\u5177\u4f53\u6709\u54ea\u4e9b\u76d1\u542c\u7684\u4e8b\u4ef6\uff0c\u53ef\u4ee5\u53c2\u8003Spring\u6e90\u7801\u5305",(0,r.jsx)(n.code,{children:"org.springframework.boot.context.event"}),"\u3002\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528Spring\u63d0\u4f9b\u7684\u76d1\u542c\u6ce8\u89e3\uff0c\u5728\u5e94\u7528\u542f\u52a8\u5c31\u7eea\u540e\uff0c\u626b\u63cf\u5bf9\u5e94\u6ce8\u89e3\uff0c\u53bb\u5b9e\u73b0\u6211\u4eec\u7684\u4ee3\u7801\u903b\u8f91\uff0c\u540c\u65f6\u4e3a\u4e86\u4e0d\u5f71\u54cd\u7a0b\u5e8f\u7684\u6b63\u5e38\u542f\u52a8\u901f\u5ea6\uff0c\u4f7f\u7528\u5f02\u6b65\u6267\u884c\u7684\u65b9\u5f0f\u3002\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"@Component\n@Slf4j\npublic class JobAutoRegister {\n    @EventListener(ApplicationReadyEvent.class)\n    @Async\n    public void onApplicationEvent(ApplicationReadyEvent event) {\n        // \u6267\u884c\u626b\u63cf\u6ce8\u89e3\uff0c\u81ea\u52a8\u6ce8\u518cxxl-job\u4efb\u52a1\u903b\u8f91\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u626b\u63cf\u5e76\u83b7\u53d6\u88abscheduled\u6807\u8bb0\u7684\u65b9\u6cd5\u548c\u5bf9\u8c61",children:"\u626b\u63cf\u5e76\u83b7\u53d6\u88ab@Scheduled\u6807\u8bb0\u7684\u65b9\u6cd5\u548c\u5bf9\u8c61"}),"\n",(0,r.jsxs)(n.p,{children:["\u6211\u4eec\u77e5\u9053\uff0c\u4f7f\u7528",(0,r.jsx)(n.code,{children:"@Scheduled"}),"\u6ce8\u89e3\u5bf9\u5e94\u7684\u5bf9\u8c61\uff0c\u5fc5\u987b\u662f\u88abSpring\u6240\u6258\u7ba1\u7684\u7c7b\uff0c\u5b9a\u65f6\u4efb\u52a1\u624d\u4f1a\u751f\u6548\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u626b\u63cf\u88ab",(0,r.jsx)(n.code,{children:"@Component"}),"\u6807\u8bb0\u7684\u7c7b\uff0c\u518d\u5b9a\u4f4d",(0,r.jsx)(n.code,{children:"@Scheduled"}),"\u6ce8\u89e3\uff0c\u83b7\u53d6\u5bf9\u5e94\u7684\u503c\u3001\u5bf9\u8c61\u3001\u65b9\u6cd5\u7b49\u4fe1\u606f\u3002\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"private void addJobInfo() {\n        List<Object> beanList = applicationContext.getBeansWithAnnotation(Component.class).values().stream().toList();\n        beanList.forEach(bean -> {\n            Map<Method, Scheduled> annotatedMethods = MethodIntrospector.selectMethods(bean.getClass(),\n                    (MethodIntrospector.MetadataLookup<Scheduled>) method -> AnnotatedElementUtils.findMergedAnnotation(method, Scheduled.class));\n            annotatedMethods.forEach((k, v) -> {\n                // \u505c\u6b62Spring\u81ea\u5e26\u7684\u5b9a\u65f6\u4efb\u52a1\n\n                // \u81ea\u52a8\u6ce8\u518c\u5230xxl-job\u4efb\u52a1 \n\n                // \u6ce8\u518cxxl-job\u7684\u4efb\u52a1\n\n            });\n        });\n    }\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u5173\u95edspring\u81ea\u5e26\u7684\u5b9a\u65f6\u4efb\u52a1",children:"\u5173\u95edSpring\u81ea\u5e26\u7684\u5b9a\u65f6\u4efb\u52a1"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ScheduledAnnotationBeanPostProcessor"}),"\u7c7b\u662f\u4e00\u4e2aSpring\u6846\u67b6\u7684\u7c7b\uff0c\u7528\u4e8e\u5904\u7406",(0,r.jsx)(n.code,{children:"@Scheduled"}),"\u6ce8\u89e3\uff0c\u5b9e\u73b0\u5b9a\u65f6\u4efb\u52a1\u7684\u529f\u80fd\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u7c7b\uff0c\u5bf9Spring\u4e2d\u7684\u5b9a\u65f6\u4efb\u52a1\u8fdb\u884c\u4e00\u5b9a\u7684\u64cd\u4f5c\u3002\u901a\u8fc7\u9605\u8bfbSpring\u6e90\u7801\uff0c\u53d1\u73b0",(0,r.jsx)(n.code,{children:"ScheduledAnnotationBeanPostProcessor"}),"\u6709\u8fd9\u4e48\u4e00\u4e2a\u65b9\u6cd5",(0,r.jsx)(n.code,{children:"postProcessBeforeDestruction"}),"\uff0c \u8be5\u65b9\u6cd5\u5b9e\u73b0",(0,r.jsx)(n.code,{children:"DestructionAwareBeanPostProcessor"}),"\u63a5\u53e3\uff0c\u7528\u4e8e\u9500\u6bc1\u4e00\u4e2a",(0,r.jsx)(n.code,{children:"Bean"}),"\u7684\u524d\u7f6e\u64cd\u4f5c\uff0c\u800c\u5728",(0,r.jsx)(n.code,{children:"ScheduledAnnotationBeanPostProcessor"}),"\u7c7b\u4e2d\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u7684\u5b9e\u73b0\u662f\u53d6\u6d88\u67d0\u4e2a",(0,r.jsx)(n.code,{children:"Bean"}),"\u4e2d\u7684\u6240\u6709\u5b9a\u65f6\u4efb\u52a1\u3002\u5177\u4f53\u53ef\u4ee5\u770b\u4e00\u4e0b\u8fd9\u4e2a\u65b9\u6cd5\u7684\u6e90\u7801\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"@Override\n  public void postProcessBeforeDestruction(Object bean, String beanName) {\n    Set<ScheduledTask> tasks;\n    synchronized (this.scheduledTasks) {\n      tasks = this.scheduledTasks.remove(bean);\n    }\n    if (tasks != null) {\n      for (ScheduledTask task : tasks) {\n        task.cancel();\n      }\n    }\n  }\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7531\u4e8e\u6211\u4eec\u4e0a\u4e00\u6b65\u5df2\u7ecf\u626b\u63cf\u83b7\u53d6\u5230\u88ab",(0,r.jsx)(n.code,{children:"@Scheduled"}),"\u6ce8\u89e3\u6807\u8bb0\u8fc7\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u65b9\u6cd5\u5bf9\u8c61\uff0c\u83b7\u53d6\u5230\u5bf9\u5e94\u7684",(0,r.jsx)(n.code,{children:"Bean"}),"\uff0c\u5c06",(0,r.jsx)(n.code,{children:"Bean"}),"\u4f5c\u4e3a\u5165\u53c2\u4f20\u5165",(0,r.jsx)(n.code,{children:"postProcessBeforeDestruction"}),"\u65b9\u6cd5\u4e2d\uff0c\u5173\u95edSpring\u81ea\u5e26\u7684\u5b9a\u65f6\u4efb\u52a1\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'/**\n     * \u505c\u6b62Spring\u81ea\u5e26\u7684\u5b9a\u65f6\u6ce8\u89e3\n     *\n     * @param clazz \u5e26\u6709\u5b9a\u65f6\u6ce8\u89e3\u7684\u7c7b\n     */\n    private void stopScheduled(Class<?> clazz) {\n        ScheduledAnnotationBeanPostProcessor processor = (ScheduledAnnotationBeanPostProcessor) applicationContext\n                .getBean("org.springframework.context.annotation.internalScheduledAnnotationProcessor");\n        processor.postProcessBeforeDestruction(applicationContext.getBean(clazz), "");\n    }\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u8bfb\u53d6\u6ce8\u89e3\u4fe1\u606f\u5e76\u5c06\u4efb\u52a1\u81ea\u52a8\u6ce8\u518c\u5230xxl-job",children:"\u8bfb\u53d6\u6ce8\u89e3\u4fe1\u606f\u5e76\u5c06\u4efb\u52a1\u81ea\u52a8\u6ce8\u518c\u5230XXl-JOB"}),"\n",(0,r.jsxs)(n.p,{children:["\u6709\u4f7f\u7528\u8fc7XXL-JOB\u7684\u5c0f\u4f19\u4f34\u90fd\u6e05\u695a\uff0c\u5728\u4f7f\u7528\u65b9\u6cd5\u6a21\u5f0f\u65f6\uff0c\u9664\u4e86\u4f7f\u7528\u6ce8\u89e3\u6807\u8bb0\u5b9a\u65f6\u4efb\u52a1\u7684\u65b9\u6cd5\uff0c\u8fd8\u9700\u8981\u5728\u8c03\u5ea6\u4e2d\u5fc3\u4e0a\u8fdb\u884c\u4efb\u52a1\u7684\u914d\u7f6e\uff0c\u5b9a\u65f6\u4efb\u52a1\u624d\u4f1a\u751f\u6548\u3002\u76ee\u524d\u6211\u4eec\u5df2\u7ecf\u83b7\u53d6\u5230 ",(0,r.jsx)(n.code,{children:"@Scheduled"})," \u6ce8\u89e3\u7684\u4fe1\u606f\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06 ",(0,r.jsx)(n.code,{children:"@Scheduled"})," \u6240\u5e26\u7684\u4fe1\u606f\u8f6c\u6362\u4e3a\u5bf9\u5e94XXL-JOB\u4e0a\u5bf9\u5e94\u7684\u4efb\u52a1\u7c7b\u578b\uff0c\u5728\u542f\u52a8\u7684\u65f6\u5019\u81ea\u52a8\u5730\u6ce8\u518c\u5230\u8c03\u5ea6\u4e2d\u5fc3\uff0c\u7b80\u5316XXl-JOB\u4efb\u52a1\u8c03\u5ea6\u7684\u4f7f\u7528\u914d\u7f6e\u6b65\u9aa4\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"\u6ce8\u518cjobhandler",children:"\u6ce8\u518cJobHandler"}),"\n",(0,r.jsxs)(n.p,{children:["\u7ffb\u770bXXl-JOB\u4e2d\u5173\u4e8e ",(0,r.jsx)(n.code,{children:"@XxlJob"})," \u7684\u6e90\u7801\uff0c\u53d1\u73b0\u4f1a\u5c06",(0,r.jsx)(n.code,{children:"@XxlJob"}),"\u6240\u6807\u8bb0\u7684\u65b9\u6cd5\uff0c\u5411\u8c03\u5ea6\u4e2d\u5fc3\u6ce8\u518c\u4e00\u4e2a",(0,r.jsx)(n.code,{children:"MethodJobHandler"}),"\u7c7b\u578b\u7684",(0,r.jsx)(n.code,{children:"JobHandler"}),"\uff0c\u8868\u793a\u65b9\u6cd5\u6a21\u5f0f\u5bf9\u5e94\u7684\u5904\u7406\u5668\u3002\u5165\u53e3\u4ee3\u7801\u53ca\u4f4d\u7f6e\u5982\u4e0b"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"com.xxl.job.core.executor.impl.XxlJobSpringExecutor#initJobHandlerMethodRepository"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'protected void registJobHandler(XxlJob xxlJob, Object bean, Method executeMethod){\n        if (xxlJob == null) {\n            return;\n        }\n\n        String name = xxlJob.value();\n        //make and simplify the variables since they\'ll be called several times later\n        Class<?> clazz = bean.getClass();\n        String methodName = executeMethod.getName();\n        if (name.trim().length() == 0) {\n            throw new RuntimeException("xxl-job method-jobhandler name invalid, for[" + clazz + "#" + methodName + "] .");\n        }\n        if (loadJobHandler(name) != null) {\n            throw new RuntimeException("xxl-job jobhandler[" + name + "] naming conflicts.");\n        }\n\n        // execute method\n        /*if (!(method.getParameterTypes().length == 1 && method.getParameterTypes()[0].isAssignableFrom(String.class))) {\n            throw new RuntimeException("xxl-job method-jobhandler param-classtype invalid, for[" + bean.getClass() + "#" + method.getName() + "] , " +\n                    "The correct method format like \\" public ReturnT<String> execute(String param) \\" .");\n        }\n        if (!method.getReturnType().isAssignableFrom(ReturnT.class)) {\n            throw new RuntimeException("xxl-job method-jobhandler return-classtype invalid, for[" + bean.getClass() + "#" + method.getName() + "] , " +\n                    "The correct method format like \\" public ReturnT<String> execute(String param) \\" .");\n        }*/\n\n        executeMethod.setAccessible(true);\n\n        // init and destroy\n        Method initMethod = null;\n        Method destroyMethod = null;\n\n        if (xxlJob.init().trim().length() > 0) {\n            try {\n                initMethod = clazz.getDeclaredMethod(xxlJob.init());\n                initMethod.setAccessible(true);\n            } catch (NoSuchMethodException e) {\n                throw new RuntimeException("xxl-job method-jobhandler initMethod invalid, for[" + clazz + "#" + methodName + "] .");\n            }\n        }\n        if (xxlJob.destroy().trim().length() > 0) {\n            try {\n                destroyMethod = clazz.getDeclaredMethod(xxlJob.destroy());\n                destroyMethod.setAccessible(true);\n            } catch (NoSuchMethodException e) {\n                throw new RuntimeException("xxl-job method-jobhandler destroyMethod invalid, for[" + clazz + "#" + methodName + "] .");\n            }\n        }\n\n        // \u6838\u5fc3\u65b9\u6cd5\n        registJobHandler(name, new MethodJobHandler(bean, executeMethod, initMethod, destroyMethod));\n\n    }\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u6211\u4eec\u53ef\u4ee5\u53c2\u8003\u6e90\u7801\uff0c\u5c06\u88ab ",(0,r.jsx)(n.code,{children:"@Scheduled"})," \u6807\u8bb0\u7684\u65b9\u6cd5\uff0c\u4ee5\u540c\u6837\u7684\u65b9\u5f0f\uff0c\u6ce8\u518c\u5230\u8c03\u5ea6\u4e2d\u5fc3\u4e2d\u53bb\u3002\u4ece\u800c\u5b9e\u73b0 ",(0,r.jsx)(n.code,{children:"@XxlJob"})," \u540c\u6837\u7684\u6548\u679c\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"/**\n     * \u6ce8\u518c\u4efb\u52a1\u5230xxl-job\u4e0a\n     *\n     * @param handlerName   JobHandler\u540d\u79f0\n     * @param executeMethod \u6267\u884c\u5b9a\u65f6\u4efb\u52a1\u7684\u65b9\u6cd5\n     */\n    private void registJobHandler(String handlerName, Method executeMethod) {\n        executeMethod.setAccessible(true);\n        // xxl-job\u521d\u59cb\u5316\u548c\u9500\u6bc1\u65b9\u6cd5\u5bf9\u8c61\uff0c\u540e\u7eed\u6709\u9700\u8981\u518d\u8d4b\u503c\n        Method initMethod = null;\n        Method destroyMethod = null;\n        //\u83b7\u53d6\u65b9\u6cd5\u7684Bean\u5bf9\u8c61\n        Object bean = applicationContext.getBean(executeMethod.getDeclaringClass());\n        XxlJobExecutor.registJobHandler(handlerName, new MethodJobHandler(bean, executeMethod, initMethod, destroyMethod));\n    }\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u81ea\u52a8\u5411\u8c03\u5ea6\u4e2d\u5fc3\u6ce8\u518c\u6267\u884c\u5668\u548c\u5bf9\u5e94\u7684\u4efb\u52a1\u4fe1\u606f",children:"\u81ea\u52a8\u5411\u8c03\u5ea6\u4e2d\u5fc3\u6ce8\u518c\u6267\u884c\u5668\u548c\u5bf9\u5e94\u7684\u4efb\u52a1\u4fe1\u606f"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u6ce8\u518c\u6267\u884c\u5668"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"XXL-JOB\u6ca1\u6709\u50cfPowerJob\u4e00\u6837\uff0c\u63d0\u4f9b\u7c7b\u4f3cpowerjob-client\u7684OpenAPI\u63a5\u53e3\uff0c\u4f46\u662f\u95ee\u9898\u4e0d\u5927\uff0c\u6839\u636eXXL-JOB\u7684\u6e90\u7801\uff0c\u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u5b9e\u73b0\u4e00\u4e2a\uff0c\u5c06\u83b7\u53d6token\uff0c\u6dfb\u52a0\u6267\u884c\u5668\u4fe1\u606f\uff0c\u6dfb\u52a0\u4efb\u52a1\u4fe1\u606f\u7b49\u5305\u88c5\u4e3aservice\u3002\u5177\u4f53\u4ee3\u7801\u53ef\u4ee5\u67e5\u770b\u6587\u7ae0\u540e\u7684github\u5730\u5740\uff0c\u8fd9\u91cc\u7b80\u5355\u8d34\u51fa\u5411\u8c03\u5ea6\u4e2d\u5fc3\u6ce8\u518c\u6267\u884c\u5668\u7684\u4ee3\u7801\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'public boolean autoRegisterGroup() {\n        String url = adminAddresses + "/jobgroup/save";\n        HttpRequest httpRequest = HttpRequest.post(url)\n                .form("appname", appName)\n                .form("title", title);\n\n        httpRequest.form("addressType", addressType);\n        if (addressType.equals(1)) {\n            if (Strings.isBlank(addressList)) {\n                throw new RuntimeException("\u624b\u52a8\u5f55\u5165\u6a21\u5f0f\u4e0b,\u6267\u884c\u5668\u5730\u5740\u5217\u8868\u4e0d\u80fd\u4e3a\u7a7a");\n            }\n            httpRequest.form("addressList", addressList);\n        }\n\n        HttpResponse response = httpRequest.cookie(jobLoginService.getCookie())\n                .execute();\n        Object code = JSONUtil.parse(response.body()).getByPath("code");\n        if(!code.equals(200)){\n            log.error(">>>>>>>>>>> xxl-job auto register group fail!msg[{}]",JSONUtil.parse(response.body()).getByPath("msg"));\n            return false;\n        }\n        return true;\n    }\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"\u6dfb\u52a0\u5bf9\u5e94\u4efb\u52a1\u4fe1\u606f"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u540c\u6837\u7684\uff0c\u6dfb\u52a0\u4efb\u52a1\u4fe1\u606f\u7684\u903b\u8f91\u4e5f\u5305\u88c5\u4e3a\u4e00\u4e2aservice\u3002\u8003\u8651\u5230\u53ef\u80fd\u91cd\u590d\u6ce8\u518c\u7684\u95ee\u9898\uff0c\u8fd9\u91cc\u9700\u8981\u5224\u65ad\u6ce8\u518c\u7684\u4efb\u52a1\u662f\u5426\u5df2\u5b58\u5728\u5728\u8c03\u5ea6\u4e2d\u5fc3\u4e2d\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'private void addJobInfo() {\n        List<XxlJobGroup> jobGroups = jobGroupService.getJobGroup();\n        XxlJobGroup xxlJobGroup = jobGroups.get(0);\n        List<Object> beanList = applicationContext.getBeansWithAnnotation(Component.class).values().stream().toList();\n        beanList.forEach(bean -> {\n            Map<Method, Scheduled> annotatedMethods = MethodIntrospector.selectMethods(bean.getClass(),\n                    (MethodIntrospector.MetadataLookup<Scheduled>) method -> AnnotatedElementUtils.findMergedAnnotation(method, Scheduled.class));\n            annotatedMethods.forEach((k, v) -> {\n                // \u505c\u6b62Spring\u81ea\u5e26\u7684\u5b9a\u65f6\u4efb\u52a1\n                stopScheduled(k.getDeclaringClass());\n                // \u81ea\u52a8\u6ce8\u518c\u5230xxl-job \u6682\u5b9aHandle\u540d\u79f0\u89c4\u5219beanName#MethodName\n                String handlerName = StringUtils.joinWith("#", k.getDeclaringClass().getName(), k.getName());\n                // \u6ce8\u518cxxl-job\u7684\u4efb\u52a1\n                registJobHandler(handlerName, k);\n                //\u56e0\u4e3a\u662f\u6a21\u7cca\u67e5\u8be2\uff0c\u9700\u8981\u518d\u8fc7\u6ee4\u4e00\u6b21\n                Optional<XxlJobInfo> first = jobInfoService.getJobInfo(xxlJobGroup.getId(), handlerName).stream()\n                        .filter(xxlJobInfo -> xxlJobInfo.getExecutorHandler().equals(handlerName))\n                        .findFirst();\n                XxlJobInfo xxlJobInfo = createXxlJobInfo(xxlJobGroup, v, handlerName);\n                if (first.isEmpty()) {\n                    Integer jobInfoId = jobInfoService.addJobInfo(xxlJobInfo);\n                    if (ObjectUtils.isNotEmpty(jobInfoId)) {\n                        log.info(">>>>>>>>>>> xxl-job auto add jobInfo success! JobInfoId[{}] JobInfo[{}]", jobInfoId,\n                                JSONUtil.toJsonStr(xxlJobInfo));\n                    }\n                }\n            });\n        });\n    }\n'})}),"\n",(0,r.jsxs)(n.h3,{id:"\u5c06\u5b9a\u65f6\u4efb\u52a1\u4e2d\u7684loginfo\u65e5\u5fd7\u8f93\u51fa\u4e00\u4efd\u5230xxl-job\u7684\u5728\u7ebf\u65e5\u5fd7\u4e0a",children:["\u5c06\u5b9a\u65f6\u4efb\u52a1\u4e2d\u7684",(0,r.jsx)(n.code,{children:"log.info()"}),"\u65e5\u5fd7\u8f93\u51fa\u4e00\u4efd\u5230XXL-JOB\u7684\u5728\u7ebf\u65e5\u5fd7\u4e0a"]}),"\n",(0,r.jsxs)(n.p,{children:["XXl-JOB\u4e2d\u63d0\u4f9b\u4e86",(0,r.jsx)(n.code,{children:"XxlJobHelper"}),"\u7c7b\uff0c\u7528\u4e8e\u5c06\u4efb\u52a1\u4e2d\u7684\u65e5\u5fd7\u8f93\u51fa\u5230\u8c03\u5ea6\u4e2d\u5fc3\uff0c\u65b9\u4fbf\u5728\u8c03\u5ea6\u4e2d\u5fc3\u4e0a\u8fdb\u884c\u67e5\u770b\u3002\u800c lombok \u751f\u6210\u7684",(0,r.jsx)(n.code,{children:"log.info()"}),"\u4f9d\u8d56\u4e8eSlf4j\u65e5\u5fd7\u95e8\u9762\u3002\u800c\u6211\u4eec\u77e5\u9053\uff0cSpringBoot\u9ed8\u8ba4Slf4j\u7684\u5b9e\u73b0\u662fLogback\uff0cLogback\u4e2d\u63d0\u4f9b\u7c7b\u81ea\u5b9a\u4e49Appender\u7684\u63a5\u53e3\uff0c\u7528\u4e8e\u81ea\u5b9a\u4e49\u65e5\u5fd7\u4fe1\u606f\u7684\u5904\u7406\u903b\u8f91\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u81ea\u5b9a\u4e49\u7684Appender\u4e2d\u5c06\u65e5\u5fd7\u6253\u5370\u5230XXl-JOB\u4e2d\u7684\u8c03\u5ea6\u4e2d\u5fc3\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"/**\n * @author Teoan\n * @description \u5904\u7406\u65e5\u5fd7\u4e8b\u4ef6\n * @since 2023/04/11 15:17\n */\n@Component\npublic class XxlJobLogAppender extends AppenderBase<ILoggingEvent> {\n\n    @Override\n    protected void append(ILoggingEvent iLoggingEvent) {\n        if (XxlJobHelper.getJobId() == -1) {\n            return;\n        }\n        if (Level.ERROR.equals(iLoggingEvent.getLevel())) {\n            ThrowableProxy throwableProxy = (ThrowableProxy) iLoggingEvent.getThrowableProxy();\n            if (throwableProxy != null) {\n                XxlJobHelper.log(throwableProxy.getThrowable());\n            } else {\n                XxlJobHelper.log(iLoggingEvent.getMessage());\n            }\n        } else {\n            XxlJobHelper.log(iLoggingEvent.getMessage());\n        }\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u7b2c\u4e09\u65b9\u5e94\u7528\u96c6\u6210starter\u4f7f\u7528",children:"\u7b2c\u4e09\u65b9\u5e94\u7528\u96c6\u6210Starter\u4f7f\u7528"}),"\n",(0,r.jsx)(n.p,{children:"\u4e3a\u4e86\u8ba9\u4f7f\u7528\u65b9\u66f4\u52a0\u65b9\u4fbf\u7684\u96c6\u6210\u4f7f\u7528\uff0c\u51cf\u5c11\u5176\u4ed6\u4f9d\u8d56\u7684\u914d\u7f6e\uff0c\u4ee5\u4e0a\u7684\u5b9e\u73b0\u5c01\u88c5\u4e3a\u4e00\u4e2aStarter\uff0c\u4f7f\u7528\u8d77\u6765\u5c06\u975e\u5e38\u7684\u65b9\u4fbf\uff0c\u5177\u4f53\u7684\u4f7f\u7528\u6b65\u9aa4\u5982\u4e0b\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"\u5728pom\u6587\u4ef6\u4e2d\u5f15\u5165starter\u4f9d\u8d56",children:"\u5728POM\u6587\u4ef6\u4e2d\u5f15\u5165Starter\u4f9d\u8d56"}),"\n",(0,r.jsx)(n.p,{children:"\u63d0\u4f9b\u7684Starter\u5bf9XXL-JOB\u6ca1\u6709\u5f3a\u4f9d\u8d56\uff0c\u6240\u4ee5\u4f7f\u7528\u65b9\u8fd8\u5f97\u5f15\u5165XXL-JOB\u7684\u4f9d\u8d56"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"\x3c!-- xxl-job-core --\x3e\n    <dependency>\n        <groupId>com.xuxueli</groupId>\n        <artifactId>xxl-job-core</artifactId>\n        <version>${xxl-job.version}</version>\n    </dependency>\n    <dependency>\n        <groupId>com.teoan</groupId>\n        <artifactId>xxl-job-auto-spring-boot-starter</artifactId>\n        <version>${project.version}</version>\n    </dependency>\n"})}),"\n",(0,r.jsx)(n.h4,{id:"springboor\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0xxl-job\u7684\u914d\u7f6e",children:"SpringBoor\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0XXL-JOB\u7684\u914d\u7f6e"}),"\n",(0,r.jsx)(n.p,{children:"\u9664\u4e86\u914d\u7f6eXXL-JOB\u7684\u57fa\u672c\u914d\u7f6e\uff0c\u8fd8\u9700\u8981\u914d\u7f6e\u6211\u4eec\u81ea\u5b9a\u4e49\u5b9e\u73b0\u529f\u80fd\u6240\u9700\u8981\u7684\u914d\u7f6e\u9879\uff0c\u5177\u4f53\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"server:\n  port: 8080\nspring:\n  application:\n    name: xxlJobAuto\nxxl:\n  job:\n    # \u81ea\u52a8\u6ce8\u518c\u81ea\u5b9a\u4e49\u65b0\u589e\u914d\u7f6e\u9879 \u662f\u5426\u4f7f\u7528Xxl\u5b9e\u73b0\u5b9a\u65f6\u4efb\u52a1\n    enable: true\n    accessToken: \n    admin:\n      addresses: http://localhost:8080/xxl-job-admin\n      # \u4ee5\u4e0badmin\u914d\u7f6e\u4e3a\u81ea\u52a8\u6ce8\u518c\u81ea\u5b9a\u4e49\u65b0\u589e\u914d\u7f6e\u9879\uff0c\u5fc5\u987b\u9879\n      username: admin                         #admin \u7528\u6237\u540d\n      password: password                      #admin \u5bc6\u7801\n    executor:\n      appname: ${spring.application.name}\n      ip: \n      address:\n      logpath: \n      logretentiondays: 3\n      port: 0\n      # \u4ee5\u4e0bexecutor\u914d\u7f6e\u4e3a\u81ea\u52a8\u6ce8\u518c\u81ea\u5b9a\u4e49\u65b0\u589e\u914d\u7f6e\u9879\uff0c\u53ef\u9009\n      addressList:    #\u5728addressType\u4e3a1\u7684\u60c5\u51b5\u4e0b\uff0c\u624b\u52a8\u5f55\u5165\u6267\u884c\u5668\u5730\u5740\u5217\u8868\uff0c\u591a\u5730\u5740\u9017\u53f7\u5206\u9694\n      addressType: 0      #\u6267\u884c\u5668\u5730\u5740\u7c7b\u578b\uff1a0=\u81ea\u52a8\u6ce8\u518c\u30011=\u624b\u52a8\u5f55\u5165\uff0c\u9ed8\u8ba4\u4e3a0\n      title: ${spring.application.name}    #\u6267\u884c\u5668\u540d\u79f0\n"})}),"\n",(0,r.jsx)(n.h4,{id:"xxl-job\u6267\u884c\u5668\u7ec4\u4ef6\u914d\u7f6e",children:"XXL-JOB\u6267\u884c\u5668\u7ec4\u4ef6\u914d\u7f6e"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u4e2a\u662fXXL-JOB\u6267\u884c\u5668\u6240\u9700\u8981\u7684\u914d\u7f6e\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Configuration\n@Slf4j\npublic class XxlJobConfig {\n\n    @Value("${xxl.job.admin.addresses}")\n    private String adminAddresses;\n\n    @Value("${xxl.job.accessToken}")\n    private String accessToken;\n\n    @Value("${xxl.job.executor.appname}")\n    private String appname;\n\n    @Value("${xxl.job.executor.address}")\n    private String address;\n\n    @Value("${xxl.job.executor.ip}")\n    private String ip;\n\n    @Value("${xxl.job.executor.port}")\n    private int port;\n\n    @Value("${xxl.job.executor.logpath}")\n    private String logPath;\n\n    @Value("${xxl.job.executor.logretentiondays}")\n    private int logRetentionDays;\n\n\n    @Bean\n    public XxlJobSpringExecutor xxlJobExecutor() {\n        log.info(">>>>>>>>>>> xxl-job config init.");\n        XxlJobSpringExecutor xxlJobSpringExecutor = new XxlJobSpringExecutor();\n        xxlJobSpringExecutor.setAdminAddresses(adminAddresses);\n        xxlJobSpringExecutor.setAppname(appname);\n        xxlJobSpringExecutor.setAddress(address);\n        xxlJobSpringExecutor.setIp(ip);\n        xxlJobSpringExecutor.setPort(port);\n        xxlJobSpringExecutor.setAccessToken(accessToken);\n        xxlJobSpringExecutor.setLogPath(logPath);\n        xxlJobSpringExecutor.setLogRetentionDays(logRetentionDays);\n\n        return xxlJobSpringExecutor;\n    }\n\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u4f7f\u7528springboot\u81ea\u5e26\u7684scheduled\u6ce8\u89e3\u5f00\u53d1\u5b9a\u65f6\u4efb\u52a1",children:"\u4f7f\u7528SpringBoot\u81ea\u5e26\u7684@Scheduled\u6ce8\u89e3\u5f00\u53d1\u5b9a\u65f6\u4efb\u52a1"}),"\n",(0,r.jsx)(n.p,{children:"\u65b0\u5efa\u4e00\u4e2aJob\u7c7b\u6a21\u62df\u4f7f\u7528\u5b9a\u65f6\u4efb\u52a1\u7684\u573a\u666f\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'/**\n * @author Teoan\n * @since 2023/04/19 10:14\n */\n@Slf4j\n@Component\npublic class XxlJobAutoSamplesJob {\n\n    @Scheduled(fixedRate = 10000)\n    public void samplesJob(){\n        log.info("samplesJob executor success!");\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u542f\u52a8\u9879\u76ee\u9a8c\u8bc1",children:"\u542f\u52a8\u9879\u76ee\u9a8c\u8bc1"}),"\n",(0,r.jsxs)(n.p,{children:["\u5148\u5c06\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684",(0,r.jsx)(n.code,{children:"xxl.job.enable"}),"\u8bbe\u7f6e\u4e3a",(0,r.jsx)(n.code,{children:"false"}),"\uff0c\u4f7f\u7528Spring\u9ed8\u8ba4\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.5)\n\n2023-05-07 15:46:19.633 [main] INFO  com.teoan.job.auto.samples.XxlJobAutoApplication - Starting XxlJobAutoApplication using Java 17.0.6 with PID 28253 (/Users/teoan/Project/xxl-job-auto/xxl-job-auto-spring-boot-samples/target/classes started by teoan in /Users/teoan/Project/xxl-job-auto)\n2023-05-07 15:46:19.645 [main] INFO  com.teoan.job.auto.samples.XxlJobAutoApplication - No active profile set, falling back to 1 default profile: \"default\"\n2023-05-07 15:46:21.083 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)\n2023-05-07 15:46:21.091 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler [\"http-nio-8080\"]\n2023-05-07 15:46:21.092 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]\n2023-05-07 15:46:21.092 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.7]\n2023-05-07 15:46:21.179 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext\n2023-05-07 15:46:21.179 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1295 ms\n2023-05-07 15:46:21.367 [main] INFO  com.teoan.job.auto.samples.config.XxlJobConfig - >>>>>>>>>>> xxl-job config init.\n2023-05-07 15:46:21.797 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'\n2023-05-07 15:46:21.954 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler [\"http-nio-8080\"]\n2023-05-07 15:46:21.969 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''\n2023-05-07 15:46:21.998 [scheduling-1] INFO  c.teoan.job.auto.samples.job.XxlJobAutoSamplesJob - samplesJob executor success!\n2023-05-07 15:46:22.000 [main] INFO  com.teoan.job.auto.samples.XxlJobAutoApplication - Started XxlJobAutoApplication in 3.014 seconds (process running for 3.887)\n2023-05-07 15:46:22.020 [Thread-4] INFO  com.xxl.job.core.server.EmbedServer - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999\n2023-05-07 15:46:22.397 [RMI TCP Connection(2)-192.168.123.139] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-05-07 15:46:22.399 [RMI TCP Connection(2)-192.168.123.139] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'\n2023-05-07 15:46:22.402 [RMI TCP Connection(2)-192.168.123.139] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms\n2023-05-07 15:47:31.997 [scheduling-1] INFO  c.teoan.job.auto.samples.job.XxlJobAutoSamplesJob - samplesJob executor success!\n2023-05-07 15:47:41.997 [scheduling-1] INFO  c.teoan.job.auto.samples.job.XxlJobAutoSamplesJob - samplesJob executor success!\n2023-05-07 15:47:51.996 [scheduling-1] INFO  c.teoan.job.auto.samples.job.XxlJobAutoSamplesJob - samplesJob executor success!\n2023-05-07 15:48:01.994 [scheduling-1] INFO  c.teoan.job.auto.samples.job.XxlJobAutoSamplesJob - samplesJob executor success!\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u55ef\uff0c\u6ca1\u5565\u6bdb\u75c5\u3002scheduling-1 \u7528\u7684\u5565Spring\u81ea\u5e26\u7684scheduling\u7ebf\u7a0b\u6c60\u53bb\u6267\u884c\u5b9a\u65f6\u4efb\u52a1\u3002\u63a5\u4e0b\u6765\u5c06\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684",(0,r.jsx)(n.code,{children:"xxl.job.enable"}),"\u8bbe\u7f6e\u4e3a",(0,r.jsx)(n.code,{children:"true"}),"\uff0c\u518d\u770b\u770b\u65e5\u5fd7\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'  .   ____          _            __ _ _\n /\\\\ / ___\'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | \'_ | \'_| | \'_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  \'  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.5)\n\n2023-05-07 15:56:50.011 [main] INFO  com.teoan.job.auto.samples.XxlJobAutoApplication - Starting XxlJobAutoApplication using Java 17.0.6 with PID 30937 (/Users/teoan/Project/xxl-job-auto/xxl-job-auto-spring-boot-samples/target/classes started by teoan in /Users/teoan/Project/xxl-job-auto)\n2023-05-07 15:56:50.025 [main] INFO  com.teoan.job.auto.samples.XxlJobAutoApplication - No active profile set, falling back to 1 default profile: "default"\n2023-05-07 15:56:51.538 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)\n2023-05-07 15:56:51.548 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]\n2023-05-07 15:56:51.549 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]\n2023-05-07 15:56:51.549 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.7]\n2023-05-07 15:56:51.642 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext\n2023-05-07 15:56:51.642 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1351 ms\n2023-05-07 15:56:51.835 [main] INFO  com.teoan.job.auto.samples.config.XxlJobConfig - >>>>>>>>>>> xxl-job config init.\n2023-05-07 15:56:52.282 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path \'/actuator\'\n2023-05-07 15:56:52.444 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]\n2023-05-07 15:56:52.457 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path \'\'\n2023-05-07 15:56:52.477 [scheduling-1] INFO  c.teoan.job.auto.samples.job.XxlJobAutoSamplesJob - samplesJob executor success!\n2023-05-07 15:56:52.480 [main] INFO  com.teoan.job.auto.samples.XxlJobAutoApplication - Started XxlJobAutoApplication in 3.118 seconds (process running for 3.86)\n2023-05-07 15:56:52.515 [Thread-4] INFO  com.xxl.job.core.server.EmbedServer - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999\n2023-05-07 15:56:52.712 [RMI TCP Connection(3)-192.168.123.139] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet \'dispatcherServlet\'\n2023-05-07 15:56:52.714 [RMI TCP Connection(3)-192.168.123.139] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet \'dispatcherServlet\'\n2023-05-07 15:56:52.715 [RMI TCP Connection(3)-192.168.123.139] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms\n2023-05-07 15:56:53.145 [main] INFO  com.teoan.job.auto.core.JobAutoRegister - >>>>>>>>>>> xxl-job auto register group success!\n2023-05-07 15:56:53.490 [main] INFO  com.xxl.job.core.executor.XxlJobExecutor - >>>>>>>>>>> xxl-job register jobhandler success, name:com.teoan.job.auto.samples.job.XxlJobAutoSamplesJob#samplesJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@223cbf0d[class com.teoan.job.auto.samples.job.XxlJobAutoSamplesJob#samplesJob]\n2023-05-07 15:56:53.647 [main] INFO  com.teoan.job.auto.core.JobAutoRegister - >>>>>>>>>>> xxl-job auto add jobInfo success! JobInfoId[11085] JobInfo[{"id":0,"jobGroup":2080,"jobDesc":"com.teoan.job.auto.samples.job.XxlJobAutoSamplesJob#samplesJob","author":"JobAutoRegister","scheduleType":"FIX_RATE","scheduleConf":"10","misfireStrategy":"DO_NOTHING","executorRouteStrategy":"FIRST","executorHandler":"com.teoan.job.auto.samples.job.XxlJobAutoSamplesJob#samplesJob","executorBlockStrategy":"SERIAL_EXECUTION","executorTimeout":0,"executorFailRetryCount":0,"glueType":"BEAN","glueRemark":"GLUE\u4ee3\u7801\u521d\u59cb\u5316","triggerStatus":1,"triggerLastTime":0,"triggerNextTime":0}]\n2023-05-07 15:56:53.650 [main] INFO  com.teoan.job.auto.core.JobAutoRegister - >>>>>>>>>>> xxl-job auto register success\n2023-05-07 15:57:24.538 [xxl-job, EmbedServer bizThreadPool-123827075] INFO  com.xxl.job.core.executor.XxlJobExecutor - >>>>>>>>>>> xxl-job regist JobThread success, jobId:11085, handler:com.xxl.job.core.handler.impl.MethodJobHandler@223cbf0d[class com.teoan.job.auto.samples.job.XxlJobAutoSamplesJob#samplesJob]\n2023-05-07 15:57:24.540 [xxl-job, JobThread-11085-1683446244537] INFO  c.teoan.job.auto.samples.job.XxlJobAutoSamplesJob - samplesJob executor success!\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u65e5\u5fd7\u770b\u8d77\u6765\u6ca1\u5565\u95ee\u9898\uff0c\u6ce8\u518c\u6267\u884c\u5668\u548c\u6ce8\u518c\u4efb\u52a1\u4fe1\u606f\u7684\u76f8\u5173\u65e5\u5fd7\u90fd\u6253\u5370\u4e86\u51fa\u6765\uff0c\u5b9a\u65f6\u4efb\u52a1\u7684\u6267\u884c\u65e5\u5fd7\u4e5f\u6709\u4e86\u3002\u6211\u4eec\u4e0a\u8c03\u5ea6\u4e2d\u5fc3\u770b\u770b\u3002"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"img",src:o(35530).A+"",width:"1512",height:"217"}),"\n",(0,r.jsx)(n.img,{alt:"img",src:o(68171).A+"",width:"1512",height:"197"}),"\n",(0,r.jsx)(n.img,{alt:"img",src:o(33928).A+"",width:"1165",height:"315"})]}),"\n",(0,r.jsx)(n.p,{children:"\u55ef\uff0c\u7b26\u5408\u9884\u671f\uff0c\u6267\u884c\u5668\u548c\u4efb\u52a1\u8be6\u60c5\u90fd\u81ea\u52a8\u6dfb\u52a0\u5230\u8c03\u5ea6\u4e2d\u5fc3\u4e86\uff0c\u4efb\u52a1\u4e2d\u5fc3\u7684\u65e5\u5fd7\u4e5f\u80fd\u5728\u8c03\u5ea6\u4e2d\u5fc3\u4e2d\u67e5\u770b\u4e86\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u5b9e\u73b0\u8fc7\u7a0b\u4e2d\u601d\u8003\u7684\u51e0\u4e2a\u95ee\u9898",children:"\u5b9e\u73b0\u8fc7\u7a0b\u4e2d\u601d\u8003\u7684\u51e0\u4e2a\u95ee\u9898"}),"\n",(0,r.jsx)(n.h3,{id:"\u662f\u5426\u5b9e\u73b0\u4efb\u52a1\u4fe1\u606f\u7684\u66f4\u65b0",children:"\u662f\u5426\u5b9e\u73b0\u4efb\u52a1\u4fe1\u606f\u7684\u66f4\u65b0"}),"\n",(0,r.jsx)(n.p,{children:"\u4e00\u5f00\u59cb\u60f3\u7740\u662f\u5426\u9700\u8981\u76d1\u542c\u6ce8\u89e3\u4e0a\u503c\u7684\u53d8\u5316\uff0c\u5bf9\u5e94\u5730\u53bb\u66f4\u65b0XXL-JOB\u4e0a\u7684\u4efb\u52a1\u4fe1\u606f\uff0c\u5982\u7ecf\u5e38\u9700\u8981\u6539\u53d8\u7684\u5b9a\u65f6\u4efb\u52a1\u7684\u95f4\u9699\u65f6\u95f4\u6216\u8005corn\u8868\u8fbe\u5f0f\uff0c\u540e\u6765\u8fd8\u662f\u51b3\u5b9a\u4e0d\u5b9e\u73b0\u4e86\uff0c\u8003\u8651\u5230\u5927\u591a\u6570\u573a\u666f\u4e0b\uff0c\u81ea\u52a8\u6ce8\u518c\u4efb\u52a1\u53ea\u662f\u4f5c\u4e3a\u5e94\u7528\u542f\u52a8\u7684\u521d\u59cb\u5316\u5de5\u4f5c\uff0c\u540e\u7eed\u9700\u8981\u8c03\u6574\u8fd8\u662f\u5f97\u4e0a\u8c03\u5ea6\u4e2d\u5fc3\u8fdb\u884c\u64cd\u4f5c\uff0c\u6240\u4ee5\u4efb\u52a1\u7684\u914d\u7f6e\u5c31\u4e0d\u80fd\u4e00\u76f4\u4ee5\u6ce8\u89e3\u4e0a\u914d\u7f6e\u4e3a\u51c6\u4e86\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u662f\u5426\u91c7\u7528\u4fee\u6539\u6570\u636e\u5e93\u6570\u636e\u7684\u65b9\u5f0f\u5b9e\u73b0\u4efb\u52a1\u7684\u6ce8\u518c",children:"\u662f\u5426\u91c7\u7528\u4fee\u6539\u6570\u636e\u5e93\u6570\u636e\u7684\u65b9\u5f0f\u5b9e\u73b0\u4efb\u52a1\u7684\u6ce8\u518c"}),"\n",(0,r.jsx)(n.p,{children:"\u81ea\u52a8\u6ce8\u518c\u4efb\u52a1\u548c\u6267\u884c\u5668\u4fe1\u606f\uff0c\u5176\u5b9e\u53ef\u4ee5\u76f4\u63a5\u5229\u7528ORM\u64cd\u4f5c\u6570\u636e\u5e93\u53bb\u5b9e\u73b0\u3002\u4e0d\u8fc7\u5982\u679cXXL-JOB\u7684\u6570\u636e\u5e93\u548c\u5f53\u524d\u5e94\u7528\u4e0d\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u5c31\u9700\u8981\u914d\u7f6e\u591a\u4e2a\u6570\u636e\u6e90\u4e86\uff0c\u76f8\u5bf9\u6bd4\u8f83\u9ebb\u70e6\uff0c\u5bf9\u4e8e\u7b2c\u4e09\u65b9\u4f7f\u7528\u8005\u6765\u8bf4\uff0c\u4e5f\u4f1a\u591a\u51fa\u4e00\u4e9b\u914d\u7f6e\u3002\u603b\u4f53\u770b\u8d77\u6765\u4e0d\u591f\u4f18\u96c5\uff0c\u6700\u540e\u8fd8\u662f\u91c7\u7528\u8bfb\u53d6\u8c03\u5ea6\u4e2d\u5fc3\u5730\u5740\uff0c\u5229\u7528http\u5de5\u5177\u8c03\u7528API\u7684\u65b9\u5f0f\u53bb\u5b9e\u73b0\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u662f\u5426\u5728\u81ea\u52a8\u88c5\u914d\u7c7b\u4e0a\u52a0\u4e0ascheduled",children:"\u662f\u5426\u5728\u81ea\u52a8\u88c5\u914d\u7c7b\u4e0a\u52a0\u4e0a@Scheduled"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u63d0\u4f9b\u7684\u81ea\u52a8\u88c5\u914d\u7c7b\u4e2d\uff0c\u5176\u5b9e\u53ef\u4ee5\u5e2e\u4f7f\u7528\u8005\u9ed8\u8ba4\u52a0\u4e0a @Scheduled \u5f00\u542fSpringBoot\u7684\u81ea\u52a8\u4efb\u52a1\uff0c\u4f46\u662f\u4e3a\u4e86\u5c3d\u91cf\u4e0d\u5f71\u54cd\u6b63\u5e38\u7684\u5f00\u53d1\u914d\u7f6e\uff0c\u5f00\u5934\u8bf4\u5230\u7684\u5c3d\u91cf\u8ba9\u7528\u6237\u65e0\u611f\u77e5\uff0c\u6240\u4ee5\u8fd9\u4e2a @Scheduled \u8fd8\u662f\u9700\u8981starter\u7684\u4f7f\u7528\u65b9\u81ea\u5df1\u53bb\u914d\u7f6e\uff0c\u7136\u540e\u8d70\u9ed8\u8ba4\u5b9e\u73b0\u7684\u5b9a\u65f6\u4efb\u52a1\u5f00\u53d1\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u63d0\u4f9b\u7684starter\u662f\u5426\u52a0\u4e0axxl-job\u7684\u4f9d\u8d56",children:"\u63d0\u4f9b\u7684Starter\u662f\u5426\u52a0\u4e0aXXL-Job\u7684\u4f9d\u8d56"}),"\n",(0,r.jsx)(n.p,{children:"\u63d0\u4f9b\u7684strarter\u5305\u53ea\u662f\u4f5c\u4e3a\u589e\u5f3a\u529f\u80fd\u7684\u5b58\u5728\uff0c\u6240\u4ee5\u662f\u53ef\u9009\u7684\uff0c\u4e0d\u5e94\u8be5\u8026\u5408XXL-JOB\u7684\u6838\u5fc3\u4f9d\u8d56\uff0c\u5c31\u50cfHutool\u4e2dPOI\u5de5\u5177\u4e00\u6837\uff0c\u672c\u8eab\u5e76\u4e0d\u4f9d\u8d56POI\u7684\u6838\u5fc3\u4f9d\u8d56\uff0c\u4f5c\u4e3aStrarter\u5305\uff0c\u5e94\u8be5\u53ea\u63d0\u4f9b\u81ea\u5df1\u7684\u6838\u5fc3\u529f\u80fd\u5c31\u884c\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,r.jsx)(n.p,{children:"\u7b2c\u4e00\u6b21\u6839\u636e\u81ea\u5df1\u7684\u7a81\u53d1\u5947\u60f3\uff0c\u5bf9\u4e2d\u95f4\u4ef6\u8fdb\u884c\u4e8c\u6b21\u5f00\u53d1\uff0c\u4e86\u89e3\u4e86XXL-JOB\u7684\u5177\u4f53\u5b9e\u73b0\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e5f\u95f4\u63a5\u953b\u70bc\u4e86\u81ea\u5df1\u9605\u8bfb\u5f00\u6e90\u4ee3\u7801\u7684\u80fd\u529b\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u9879\u76ee\u5730\u5740",children:"\u9879\u76ee\u5730\u5740"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/Teoan/xxl-job-auto",children:"xxl-job-auto"})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},35530:(e,n,o)=>{o.d(n,{A:()=>t});const t=o.p+"assets/images/38-1-7664c43575e75306b2d259c5d494aadf.webp"},68171:(e,n,o)=>{o.d(n,{A:()=>t});const t=o.p+"assets/images/38-2-0dff7a55ffa78f79f28b7b7b8ac0d4e1.webp"}}]);