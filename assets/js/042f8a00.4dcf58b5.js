"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[48494],{28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>d});var s=r(96540);const i={},t=s.createContext(i);function l(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(t.Provider,{value:n},e.children)}},81382:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"zh-cn/devenv/Maven-Mvnd","title":"Maven-Mvnd","description":"- Maven Github","source":"@site/docs/zh-cn/devenv/3-Maven-Mvnd.md","sourceDirName":"zh-cn/devenv","slug":"/zh-cn/devenv/Maven-Mvnd","permalink":"/docs/zh-cn/devenv/Maven-Mvnd","draft":false,"unlisted":false,"editUrl":"https://github.com/lorchr/light-docusaurus/tree/main/docs/zh-cn/devenv/3-Maven-Mvnd.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"troch","previous":{"title":"IDEA","permalink":"/docs/zh-cn/devenv/IDEA"},"next":{"title":"Docker-Mysql","permalink":"/docs/zh-cn/devenv/Docker-Mysql"}}');var i=r(74848),t=r(28453);const l={},d=void 0,c={},o=[{value:"1. Maven",id:"1-maven",level:2},{value:"1. \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf",id:"1-\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf",level:3},{value:"2. \u8bbe\u7f6eMaven\u914d\u7f6e\u6587\u4ef6 <code>conf\\settings.xml</code>",id:"2-\u8bbe\u7f6emaven\u914d\u7f6e\u6587\u4ef6-confsettingsxml",level:3},{value:"3. \u5e38\u7528\u547d\u4ee4",id:"3-\u5e38\u7528\u547d\u4ee4",level:3},{value:"4. \u9879\u76ee\u7248\u672c\u63a7\u5236",id:"4-\u9879\u76ee\u7248\u672c\u63a7\u5236",level:3},{value:"2. Mvnd",id:"2-mvnd",level:2},{value:"1. \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf",id:"1-\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf-1",level:3},{value:"2. \u8bbe\u7f6eMaven\u914d\u7f6e\u6587\u4ef6\u5730\u5740 <code>conf\\mvnd.properties</code>",id:"2-\u8bbe\u7f6emaven\u914d\u7f6e\u6587\u4ef6\u5730\u5740-confmvndproperties",level:3},{value:"3. \u5e38\u7528\u547d\u4ee4",id:"3-\u5e38\u7528\u547d\u4ee4-1",level:3},{value:"3. Windows\u5207\u6362JDK\u7248\u672c",id:"3-windows\u5207\u6362jdk\u7248\u672c",level:2}];function a(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/maven",children:"Maven Github"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://maven.apache.org/download.cgi",children:"Maven Download"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/maven-mvnd",children:"Mvnd Github"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://downloads.apache.org/maven/mvnd/",children:"Mvnd Download"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"1-maven",children:"1. Maven"}),"\n",(0,i.jsx)(n.h3,{id:"1-\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf",children:"1. \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bat",children:"MVN_HOME=D:\\\\Develop\\\\apache-maven\nPATH=%MVN_HOME%\\bin\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"2-\u8bbe\u7f6emaven\u914d\u7f6e\u6587\u4ef6-confsettingsxml",children:["2. \u8bbe\u7f6eMaven\u914d\u7f6e\u6587\u4ef6 ",(0,i.jsx)(n.code,{children:"conf\\settings.xml"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<localRepository>D:\\Develop\\repository</localRepository>\n\n<servers>\n    \x3c!--\n    <server>\n        <id>deploymentRepo</id>\n        <username>repouser</username>\n        <password>repopwd</password>\n    </server>\n    <server>\n        <id>siteServer</id>\n        <privateKey>/path/to/private/key</privateKey>\n        <passphrase>optional; leave empty if not used.</passphrase>\n    </server>\n    --\x3e\n</servers>\n<mirrors>\n    <mirror>\n        <id>Aliyun-Central</id>\n        <mirrorOf>central</mirrorOf>\n        <name>Aliyun public</name>\n        <url>https://maven.aliyun.com/repository/public</url>\n    </mirror> \n</mirrors>\n<profiles>\n    <profile>\n        <id>jdk-17</id>\n        <properties>\n            <maven.compiler.source>17</maven.compiler.source>\n            <maven.compiler.target>17</maven.compiler.target>\n            <maven.compiler.compilerVersion>17</maven.compiler.compilerVersion>\n        </properties>\n    </profile>\n    <profile>    \n    <id>java-8</id>    \n    <activation>    \n        <activeByDefault>true</activeByDefault>    \n        <jdk>1.8</jdk>    \n    </activation>\n    <properties>    \n        <maven.compiler.source>1.8</maven.compiler.source>    \n        <maven.compiler.target>1.8</maven.compiler.target>    \n        <maven.compiler.compilerVersion>1.8</maven.compiler.compilerVersion>    \n    </properties>    \n    </profile>\n    <profile>\n    <id>aliyun</id>\n    <repositories>\n        <repository>\n        <id>aliyun.public</id>\n        <url>https://maven.aliyun.com/repository/public</url>\n        </repository>\n        <repository>\n            <id>jitpack.io</id>\n            <url>https://jitpack.io</url>\n        </repository>\n    </repositories>\n    </profile>\n</profiles>\n\n<activeProfiles>\n    <activeProfile>aliyun</activeProfile>\n</activeProfiles>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-\u5e38\u7528\u547d\u4ee4",children:"3. \u5e38\u7528\u547d\u4ee4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"# \u67e5\u770b\u7248\u672c\nmvn -v\n\n# \u6253\u5305\nmvn clean -U -Dmaven.test.skip=true package\n\n# \u6253\u5305\u5b89\u88c5\u5230\u672c\u5730\nmvn clean package -T 1C -Dmaven.test.skip=true  -Dmaven.compile.fork=true\n\n# \u90e8\u7f72\nmvn deploy\n\n# \u90e8\u7f72\u5355\u4e2ajar\nmvn deploy:deploy-file -DgroupId=<group-id> \\\n-DartifactId=<artifact-id> \\\n-Dversion=<version> \\\n-Dpackaging=<type-of-packaging> \\\n-Dfile=<path-to-file> \\\n-DrepositoryId=<id-to-map-on-server-section-of-settings.xml> \\\n-Durl=<url-of-the-repository-to-deploy>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-\u9879\u76ee\u7248\u672c\u63a7\u5236",children:"4. \u9879\u76ee\u7248\u672c\u63a7\u5236"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'# \u8bbe\u7f6e\u65b0\u7248\u672c\u53f7\nmvn versions:set -DnewVersion="1.1.0-SNAPSHOT"\n\n# \u56de\u9000\u5230\u65e7\u7248\u672c\u53f7\nmvn versions:revert\n\n# \u786e\u8ba4\u63d0\u4ea4\u65b0\u7248\u672c\u53f7\nmvn versions:commit\n'})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u53c2\u6570"}),(0,i.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"}),(0,i.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"allowSnapshots"}),(0,i.jsx)(n.td,{children:"false"}),(0,i.jsx)(n.td,{children:"\u662f\u5426\u66f4\u65b0-snapshot\u5feb\u7167\u7248"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"artifactld"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"${project.artifactld}"})}),(0,i.jsx)(n.td,{children:"\u6307\u5b9aartifactld"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"generateBackupPoms"}),(0,i.jsx)(n.td,{children:"true"}),(0,i.jsx)(n.td,{children:"\u662f\u5426\u751f\u6210\u5907\u4efd\u6587\u4ef6\u7528\u4e8e\u56de\u9000\u7248\u672c\u53f7"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"groupld"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"${project.groupld}"})}),(0,i.jsx)(n.td,{children:"\u6307\u5b9agroupld"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"newVersion"}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:"\u8bbe\u7f6e\u7684\u65b0\u7248\u672c\u53f7"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"nextSnapshot"}),(0,i.jsx)(n.td,{children:"false"}),(0,i.jsx)(n.td,{children:"\u66f4\u65b0\u7248\u672c\u53f7\u4e3a\u4e0b\u4e00\u4e2a\u5feb\u7167\u7248\u672c\u53f7"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"oldVersion"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"${project.version}"})}),(0,i.jsx)(n.td,{children:'\u6307\u5b9a\u9700\u8981\u66f4\u65b0\u7684\u7248\u672c\u53f7\u53ef\u4ee5\u4f7f\u7528\u7f3a\u7701"*'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"processAllModules"}),(0,i.jsx)(n.td,{children:"false"}),(0,i.jsx)(n.td,{children:"\u662f\u5426\u66f4\u65b0\u76ee\u5f55\u4e0b\u6240\u6709\u6a21\u5757\u65e0\u8bba\u662f\u5426\u58f0\u660e\u7236\u5b50\u8282\u70b9"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"processDependencies"}),(0,i.jsx)(n.td,{children:"true"}),(0,i.jsx)(n.td,{children:"\u662f\u5426\u66f4\u65b0\u4f9d\u8d56\u5176\u7684\u7248\u672c\u53f7"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"processParent"}),(0,i.jsx)(n.td,{children:"true"}),(0,i.jsx)(n.td,{children:"\u662f\u5426\u66f4\u65b0\u7236\u8282\u70b9\u7684\u7248\u672c\u53f7"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"processPlugins"}),(0,i.jsx)(n.td,{children:"true"}),(0,i.jsx)(n.td,{children:"\u662f\u5426\u66f4\u65b0\u63d2\u4ef6\u4e2d\u7684\u7248\u672c\u53f7"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"processProject"}),(0,i.jsx)(n.td,{children:"true"}),(0,i.jsx)(n.td,{children:"\u662f\u5426\u66f4\u65b0\u6a21\u5757\u81ea\u8eab\u7684\u7248\u672c\u53f7"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"removeSnapshot"}),(0,i.jsx)(n.td,{children:"false"}),(0,i.jsx)(n.td,{children:"\u79fb\u9664snapshot\u5feb\u7167\u7248\u672c\uff0c\u4f7f\u4e4b\u4e3arelease\u7a33\u5b9a\u7248"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"updateMatchingVersions"}),(0,i.jsx)(n.td,{children:"true"}),(0,i.jsx)(n.td,{children:"\u662f\u5426\u66f4\u65b0\u5728\u5b50\u6a21\u5757\u4e2d\u663e\u5f0f\u6307\u5b9a\u7684\u5339\u914d\u7248\u672c(\u5982/\u9879\u76ee\u7248\u672c)"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"2-mvnd",children:"2. Mvnd"}),"\n",(0,i.jsx)(n.h3,{id:"1-\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf-1",children:"1. \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bat",children:"MVND_HOME=D:\\\\Develop\\\\apache-mvnd\nPATH=%MVND_HOME%\\bin\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"2-\u8bbe\u7f6emaven\u914d\u7f6e\u6587\u4ef6\u5730\u5740-confmvndproperties",children:["2. \u8bbe\u7f6eMaven\u914d\u7f6e\u6587\u4ef6\u5730\u5740 ",(0,i.jsx)(n.code,{children:"conf\\mvnd.properties"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-properties",children:"maven.settings=D:\\\\Develop\\\\apache-maven\\\\conf\\\\settings.xml\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-\u5e38\u7528\u547d\u4ee4-1",children:"3. \u5e38\u7528\u547d\u4ee4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'echo %JAVA_HOME%\njava -version\nset PATH "D:\\Develop\\Java\\jdk-17\\bin";%PATH%\nset JAVA_HOME "D:\\Develop\\Java\\jdk-17"\n\n# \u67e5\u770b\u7248\u672c\nmvnd -v\n\n# \u6253\u5305\nmvnd -Dmaven.compiler.release=8 compile             # \u6307\u5b9ajdk\u7248\u672c\nmvnd clean -U -Dmaven.test.skip=true package        # \u5e76\u884c\nmvnd clean -U -Dmaven.test.skip=true package -T1    # \u4e32\u884c\n\n# \u6253\u5305\u5b89\u88c5\u5230\u672c\u5730\nmvnd clean install -Dquickly\n'})}),"\n",(0,i.jsx)(n.h2,{id:"3-windows\u5207\u6362jdk\u7248\u672c",children:"3. Windows\u5207\u6362JDK\u7248\u672c"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://stackoverflow.com/questions/26993101/switching-between-different-jdk-versions-in-windows",children:"https://stackoverflow.com/questions/26993101/switching-between-different-jdk-versions-in-windows"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bat",metastring:"jenv.bat",children:'@echo off\nsetlocal\n\nif "%~1" == "17" (\n    REM \u5207\u6362\u5230\u9009\u62e9\u7684 JDK \u7248\u672c\n    set "JAVA_HOME=D:\\Develop\\Java\\jdk-17"\n) else if "%~1" == "11" (\n    set "JAVA_HOME=D:\\Develop\\Java\\jdk-11"\n) else if "%~1" == "8" (\n    set "JAVA_HOME=D:\\Develop\\Java\\jdk1.8"\n) else (\n    @echo on\n    echo "================================"\n    echo "Error No JDK Path For %~1"\n    echo "================================"\n    exit /b 1\n)\n\nREM \u68c0\u67e5\u7ba1\u7406\u5458\u6743\u9650\nnet session >nul 2>&1\nif %errorLevel% == 0 (\n    REM \u7ba1\u7406\u5458\u6743\u9650\uff1a\u66f4\u65b0\u7cfb\u7edf\u73af\u5883\u53d8\u91cf PATH \u6765\u5207\u6362 JDK \u7248\u672c setx /?\n    setx Path "%JAVA_HOME%\\bin;%Path%" /M\n) else (\n    REM \u975e\u7ba1\u7406\u5458\u6743\u9650\uff1a\u4e34\u65f6\u5207\u6362\n    set "Path=%JAVA_HOME%\\bin;%Path%"\n)\n\n@echo on\necho JAVA_HOME %JAVA_HOME%\njava -version\n\nendlocal\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ps1",metastring:"jenv.ps1",children:'If($args[0] -eq "17")\n{\n    $env:JAVA_HOME = \'D:\\Develop\\Java\\jdk-17\'\n} ElseIf($args[0] -eq "11")\n{\n    $env:JAVA_HOME = \'D:\\Develop\\Java\\jdk-11\'\n} ElseIf($args[0] -eq "8")\n{\n    $env:JAVA_HOME = \'D:\\Develop\\Java\\jdk1.8\'\n} Else \n{\n   echo "================================"\n   echo "Error No JDK Path For $args[0]"\n   echo "================================"\n   exit /b 1\n}\n$env:Path = $env:JAVA_HOME+\'\\bin;\'+$env:Path\n\necho "JAVA_HOME $JAVA_HOME"\njava -version\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);