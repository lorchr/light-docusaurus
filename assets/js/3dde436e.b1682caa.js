"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[55103],{10383:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>a});var i=n(74848),c=n(28453);const l={},d=void 0,r={id:"zh-cn/active-directory/Install-ApacheDS",title:"Install-ApacheDS",description:"- ApacheDS\u5b89\u88c5 [ LDAP\u548cKerberos ] \u914d\u7f6e",source:"@site/docs/zh-cn/active-directory/9-Install-ApacheDS.md",sourceDirName:"zh-cn/active-directory",slug:"/zh-cn/active-directory/Install-ApacheDS",permalink:"/docs/zh-cn/active-directory/Install-ApacheDS",draft:!1,unlisted:!1,editUrl:"https://github.com/lorchr/light-docusaurus/tree/main/docs/zh-cn/active-directory/9-Install-ApacheDS.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{},sidebar:"troch",previous:{title:"Spring-Boot-Login-With-ADDS",permalink:"/docs/zh-cn/active-directory/Spring-Boot-Login-With-ADDS"},next:{title:"Database",permalink:"/docs/category/database"}},t={},a=[{value:"\u4e00 .\u524d\u8a00",id:"\u4e00-\u524d\u8a00",level:2},{value:"1.1. \u5b89\u88c5\u5305",id:"11-\u5b89\u88c5\u5305",level:3},{value:"1.2. \u540d\u8bcd\u542b\u4e49",id:"12-\u540d\u8bcd\u542b\u4e49",level:3},{value:"\u4e8c .\u5b89\u88c5apacheDS",id:"\u4e8c-\u5b89\u88c5apacheds",level:2},{value:"2.1. \u5b89\u88c5ApacheDS",id:"21-\u5b89\u88c5apacheds",level:3},{value:"2.2. \u5b89\u88c5Apache Directory Studio",id:"22-\u5b89\u88c5apache-directory-studio",level:3},{value:"2.3. \u914d\u7f6e\u8fde\u63a5",id:"23-\u914d\u7f6e\u8fde\u63a5",level:3},{value:"2.4. \u8bbe\u7f6e\u5206\u533a",id:"24-\u8bbe\u7f6e\u5206\u533a",level:3},{value:"2.5. \u6dfb\u52a0\u7ec4",id:"25-\u6dfb\u52a0\u7ec4",level:3},{value:"\u4e09 .\u4fee\u6539\u914d\u7f6e",id:"\u4e09-\u4fee\u6539\u914d\u7f6e",level:2},{value:"3.1. linux\u7528\u6237schema",id:"31-linux\u7528\u6237schema",level:3},{value:"3.2. \u6dfb\u52a0\u6d4b\u8bd5\u7ec4",id:"32-\u6dfb\u52a0\u6d4b\u8bd5\u7ec4",level:3},{value:"3.3. \u6dfb\u52a0\u7528\u6237",id:"33-\u6dfb\u52a0\u7528\u6237",level:3},{value:"3.4. \u4fee\u6539\u7528\u6237\u5bc6\u7801",id:"34-\u4fee\u6539\u7528\u6237\u5bc6\u7801",level:3},{value:"\u56db .LDAP\u7528\u6237\u540c\u6b65",id:"\u56db-ldap\u7528\u6237\u540c\u6b65",level:2},{value:"4.1. \u5b89\u88c5LDAP client",id:"41-\u5b89\u88c5ldap-client",level:3},{value:"4.2. \u914d\u7f6eLDAP client",id:"42-\u914d\u7f6eldap-client",level:3},{value:"4.3. \u91cd\u542f\u670d\u52a1nslcd",id:"43-\u91cd\u542f\u670d\u52a1nslcd",level:3},{value:"4.4. \u9a8c\u8bc1",id:"44-\u9a8c\u8bc1",level:3},{value:"\u4e94 .Kerberos\u540c\u6b65",id:"\u4e94-kerberos\u540c\u6b65",level:2},{value:"5.1. \u4fee\u6539ApacheDS \u914d\u7f6e\uff0c\u5f00\u542fKerberos KDC",id:"51-\u4fee\u6539apacheds-\u914d\u7f6e\u5f00\u542fkerberos-kdc",level:3},{value:"5.2. \u5b89\u88c5Kerberos client",id:"52-\u5b89\u88c5kerberos-client",level:3},{value:"5.3. \u4fee\u6539kerberos\u914d\u7f6e\u6587\u4ef6",id:"53-\u4fee\u6539kerberos\u914d\u7f6e\u6587\u4ef6",level:3},{value:"5.4. \u6dfb\u52a0Kerberos\u8ba4\u8bc1\u7528\u6237",id:"54-\u6dfb\u52a0kerberos\u8ba4\u8bc1\u7528\u6237",level:3},{value:"5.5. kerberos \u9a8c\u8bc1",id:"55-kerberos-\u9a8c\u8bc1",level:3},{value:"5.6. kerberos \u5bfc\u51fakeytab\u6587\u4ef6",id:"56-kerberos-\u5bfc\u51fakeytab\u6587\u4ef6",level:3},{value:"5.7. \u9a8c\u8bc1keytab\u6587\u4ef6",id:"57-\u9a8c\u8bc1keytab\u6587\u4ef6",level:3},{value:"\u516d .linux\u4e0ekerberos\u7528\u6237\u7edf\u4e00",id:"\u516d-linux\u4e0ekerberos\u7528\u6237\u7edf\u4e00",level:2},{value:"\u4e03 .\u53c2\u8003",id:"\u4e03-\u53c2\u8003",level:2}];function o(e){const s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://blog.csdn.net/zhanglong_4444/article/details/114900046",children:"ApacheDS\u5b89\u88c5 [ LDAP\u548cKerberos ] \u914d\u7f6e"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://blog.csdn.net/wanglei_storage/article/details/105392025",children:"apacheDS ldap \u5b89\u88c5\uff0c\u914d\u7f6e\uff0c\u589e\u5220\u67e5\u8be5\u53ca\u5907\u4efd\u6062\u590d"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://blog.csdn.net/qq_24186017/article/details/114583734",children:"\uff08\u8d85\u8be6\u7ec6\u56fe\u6587\uff09apacheDS\u5b89\u88c5\u4e0eLDAP/kerberos\u914d\u7f6e"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.cnblogs.com/yinzhengjie/p/10765503.html",children:"\u5feb\u901f\u642d\u5efaKerberos\u670d\u52a1\u7aef\u53ca\u5165\u95e8\u4f7f\u7528"})}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"\u4e00-\u524d\u8a00",children:"\u4e00 .\u524d\u8a00"}),"\n",(0,i.jsx)(s.h3,{id:"11-\u5b89\u88c5\u5305",children:"1.1. \u5b89\u88c5\u5305"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"\u7ec4\u4ef6"}),(0,i.jsx)(s.th,{children:"\u4e0b\u8f7d\u5730\u5740"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"JDK 17"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://openjdk.org/projects/jdk/17/",children:"https://openjdk.org/projects/jdk/17/"})})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"ApacheDS"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"http://directory.apache.org/apacheds/downloads.html",children:"http://directory.apache.org/apacheds/downloads.html"})})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Apache Directory Studio"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://directory.apache.org/studio/downloads.html",children:"https://directory.apache.org/studio/downloads.html"})})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"\u767e\u5ea6\u4e91\u76d8"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://pan.baidu.com/s/1GkFwUOhuMBdqZY8jx1p8Kg?password=4s3h",children:"https://pan.baidu.com/s/1GkFwUOhuMBdqZY8jx1p8Kg?password=4s3h"})})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"12-\u540d\u8bcd\u542b\u4e49",children:"1.2. \u540d\u8bcd\u542b\u4e49"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"\u540d\u8bcd"}),(0,i.jsx)(s.th,{children:"\u5168\u79f0"}),(0,i.jsx)(s.th,{children:"\u542b\u4e49"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"CN"}),(0,i.jsx)(s.td,{children:"Common Name"}),(0,i.jsx)(s.td,{children:"\u4e3a\u7528\u6237\u540d\u6216\u670d\u52a1\u5668\u540d\uff0c\u6700\u957f\u53ef\u4ee5\u523080\u4e2a\u5b57\u7b26\uff0c\u53ef\u4ee5\u4e3a\u4e2d\u6587\uff1b"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"OU"}),(0,i.jsx)(s.td,{children:"Organization Unit"}),(0,i.jsx)(s.td,{children:"\u4e3a\u7ec4\u7ec7\u5355\u5143\uff0c\u6700\u591a\u53ef\u4ee5\u6709\u56db\u7ea7\uff0c\u6bcf\u7ea7\u6700\u957f32\u4e2a\u5b57\u7b26\uff0c\u53ef\u4ee5\u4e3a\u4e2d\u6587\uff1b"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"DC"}),(0,i.jsx)(s.td,{children:"Domain Component"}),(0,i.jsx)(s.td,{children:"\u57df\u7ec4\u4ef6"})]})]})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"LDAP \u76ee\u5f55\u7c7b\u4f3c\u4e8e\u6587\u4ef6\u7cfb\u7edf\u76ee\u5f55\u3002 \n\u4e0b\u5217\u76ee\u5f55\uff1a \nDC=redmond,DC=wa,DC=microsoft,DC=com       \n\u5982\u679c\u6211\u4eec\u7c7b\u6bd4\u6587\u4ef6\u7cfb\u7edf\u7684\u8bdd\uff0c\u53ef\u88ab\u770b\u4f5c\u5982\u4e0b\u6587\u4ef6\u8def\u5f84:    \nCom\\Microsoft\\Wa\\Redmond   \n\n\u4f8b\u5982\uff1aCN=test,OU=developer,DC=domainname,DC=com \n\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\n cn=test \u53ef\u80fd\u4ee3\u8868\u4e00\u4e2a\u7528\u6237\u540d\uff0c\n ou=developer \u4ee3\u8868\u4e00\u4e2a active directory \u4e2d\u7684\u7ec4\u7ec7\u5355\u4f4d\u3002\n\n\u8fd9\u53e5\u8bdd\u7684\u542b\u4e49\u53ef\u80fd\u5c31\u662f\u8bf4\u660e :\ntest \u8fd9\u4e2a\u5bf9\u8c61\u5904\u5728domainname.com \u57df\u7684 developer \u7ec4\u7ec7\u5355\u5143\u4e2d\u3002\n"})}),"\n",(0,i.jsx)(s.h2,{id:"\u4e8c-\u5b89\u88c5apacheds",children:"\u4e8c .\u5b89\u88c5apacheDS"}),"\n",(0,i.jsx)(s.h3,{id:"21-\u5b89\u88c5apacheds",children:"2.1. \u5b89\u88c5ApacheDS"}),"\n",(0,i.jsx)(s.p,{children:"\u8bbe\u7f6e\u5b89\u88c5\u76ee\u5f55\uff0c\u8bbe\u7f6eJDK\u4f4d\u7f6e"}),"\n",(0,i.jsx)(s.h3,{id:"22-\u5b89\u88c5apache-directory-studio",children:"2.2. \u5b89\u88c5Apache Directory Studio"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"\u6ce8\u610f\uff1a"})," Apache Directory Studio \u5b89\u88c5\u6709\u70b9\u5751, \u8981\u6c42JDK\u5fc5\u987b\u4e3a11\u4ee5\u4e0a. \u9700\u8981\u4fee\u6539 ",(0,i.jsx)(s.code,{children:"ApacheDirectoryStudio.ini"})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ini",children:"-startup\nplugins/org.eclipse.equinox.launcher_1.6.0.v20200915-1508.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.2.0.v20200915-1442\n/studio-rcp/resources/icons/linux/studio.xpm\n###\n#Uncomment_to_configure_the_language\n#https://directory.apache.org/studio/faqs.html#how-to-set-the-language-of-studio\n#-nl\n#en\n###\n#Uncomment_to_configure_Java_version_to_use\n#https://directory.apache.org/studio/faqs.html#how-to-set-the-java-vm-to-use\n#-vm\n#/usr/lib/jvm/java-11-openjdk/bin/java\n-vm\nD:/Develop/jdk/jdk-17/bin/java\n-vmargs\n-Dosgi.requiredJavaVersion=11\n###\n#Uncomment_to_configure_heap_memory\n#https://directory.apache.org/studio/faqs.html#how-to-increase-the-heap-memory\n#-Xms1g\n#-Xmx2g\n"})}),"\n",(0,i.jsx)(s.h3,{id:"23-\u914d\u7f6e\u8fde\u63a5",children:"2.3. \u914d\u7f6e\u8fde\u63a5"}),"\n",(0,i.jsx)(s.p,{children:"\u521b\u5efa\u8fde\u63a5\uff0c\u8bbe\u7f6e\u8fde\u63a5\u4fe1\u606f\uff0c\u9ed8\u8ba4\u7aef\u53e3\u4e3a: 10389"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(91369).A+"",width:"650",height:"761"})}),"\n",(0,i.jsx)(s.p,{children:"\u70b9\u51fbNext\uff0c\u8bbe\u7f6e\u7528\u6237\u4fe1\u606f"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(26226).A+"",width:"650",height:"761"})}),"\n",(0,i.jsx)(s.p,{children:"\u9ed8\u8ba4\u8d26\u53f7"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["user\uff1a",(0,i.jsx)(s.code,{children:"uid=admin,ou=system"})]}),"\n",(0,i.jsxs)(s.li,{children:["password\uff1a",(0,i.jsx)(s.code,{children:"secret"})]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u70b9\u51fbFinish\u4fdd\u5b58\u5373\u53ef"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(91579).A+"",width:"1920",height:"1039"})}),"\n",(0,i.jsx)(s.h3,{id:"24-\u8bbe\u7f6e\u5206\u533a",children:"2.4. \u8bbe\u7f6e\u5206\u533a"}),"\n",(0,i.jsxs)(s.p,{children:["\u53f3\u51fb\u65b0\u5efa\u7684\u8fde\u63a5\u540d\u79f0",(0,i.jsx)(s.code,{children:"ApacheDS"}),"\uff0c\u9009\u62e9 ",(0,i.jsx)(s.code,{children:"Open Configuration"}),"\uff0c\u5207\u6362\u5230",(0,i.jsx)(s.code,{children:"Partitions"}),"\u9875\u7b7e\n",(0,i.jsx)(s.img,{alt:"img",src:n(81636).A+"",width:"1920",height:"1039"})]}),"\n",(0,i.jsx)(s.p,{children:"\u70b9\u51fbAdd"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(24141).A+"",width:"1074",height:"694"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"ID: light"}),"\n",(0,i.jsx)(s.li,{children:"Suffix: dc=light,dc=com"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Ctrl+S\u4fdd\u5b58, \u91cd\u542fApacheDS"}),"\n",(0,i.jsx)(s.h3,{id:"25-\u6dfb\u52a0\u7ec4",children:"2.5. \u6dfb\u52a0\u7ec4"}),"\n",(0,i.jsxs)(s.p,{children:["\u53f3\u952e\u70b9\u51fb\u65b0\u5efa\u7684 ",(0,i.jsx)(s.code,{children:"Partition"})," - ",(0,i.jsx)(s.code,{children:"New"})," - ",(0,i.jsx)(s.code,{children:"New Entry"}),"\n",(0,i.jsx)(s.img,{alt:"img",src:n(17110).A+"",width:"1113",height:"740"})]}),"\n",(0,i.jsxs)(s.p,{children:["\u70b9\u51fb ",(0,i.jsx)(s.code,{children:"Next"}),"\n",(0,i.jsx)(s.img,{alt:"img",src:n(95199).A+"",width:"612",height:"610"})]}),"\n",(0,i.jsxs)(s.p,{children:["\u9009\u62e9",(0,i.jsx)(s.code,{children:"organizationUnit"}),"\u70b9\u51fb",(0,i.jsx)(s.code,{children:"Add"}),"\n",(0,i.jsx)(s.img,{alt:"img",src:n(88648).A+"",width:"612",height:"610"})]}),"\n",(0,i.jsxs)(s.p,{children:["\u70b9\u51fb ",(0,i.jsx)(s.code,{children:"Next"}),"\n",(0,i.jsx)(s.img,{alt:"img",src:n(28593).A+"",width:"612",height:"610"})]}),"\n",(0,i.jsxs)(s.p,{children:["\u586b\u5165RDN\u4fe1\u606f ",(0,i.jsx)(s.code,{children:"ou"})," = ",(0,i.jsx)(s.code,{children:"Group"}),"\uff0c\u70b9\u51fb",(0,i.jsx)(s.code,{children:"Next"}),"\n",(0,i.jsx)(s.img,{alt:"img",src:n(33965).A+"",width:"612",height:"610"})]}),"\n",(0,i.jsxs)(s.p,{children:["\u70b9\u51fb",(0,i.jsx)(s.code,{children:"Finish"}),"\n",(0,i.jsx)(s.img,{alt:"img",src:n(7812).A+"",width:"612",height:"610"})]}),"\n",(0,i.jsx)(s.h2,{id:"\u4e09-\u4fee\u6539\u914d\u7f6e",children:"\u4e09 .\u4fee\u6539\u914d\u7f6e"}),"\n",(0,i.jsx)(s.h3,{id:"31-linux\u7528\u6237schema",children:"3.1. linux\u7528\u6237schema"}),"\n",(0,i.jsxs)(s.p,{children:["\u5237\u65b0 ",(0,i.jsx)(s.code,{children:"ou=schema"})]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(21375).A+"",width:"936",height:"731"})}),"\n",(0,i.jsxs)(s.p,{children:["\u5c06",(0,i.jsx)(s.code,{children:"cn=nis"}),"\u7684\u5c5e\u6027",(0,i.jsx)(s.code,{children:"m-disabled"}),"\u914d\u7f6e\u4fee\u6539\u4e3a",(0,i.jsx)(s.code,{children:"False"}),"\uff0c\u4fee\u6539\u4e4b\u540e\u5c31\u53ef\u4ee5\u6709",(0,i.jsx)(s.code,{children:"posixAccount"}),"\u3001",(0,i.jsx)(s.code,{children:"posixGroup"}),"\u76f8\u5173\u5c5e\u6027\u3002"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(43286).A+"",width:"1041",height:"782"})}),"\n",(0,i.jsx)(s.h3,{id:"32-\u6dfb\u52a0\u6d4b\u8bd5\u7ec4",children:"3.2. \u6dfb\u52a0\u6d4b\u8bd5\u7ec4"}),"\n",(0,i.jsxs)(s.p,{children:["\u65ad\u5f00\u8fde\u63a5\uff0c\u91cd\u65b0\u5237\u65b0\n",(0,i.jsx)(s.img,{alt:"img",src:n(17545).A+"",width:"595",height:"771"})]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(62720).A+"",width:"1061",height:"836"})}),"\n",(0,i.jsxs)(s.p,{children:["\u6dfb\u52a0\u7ec4\uff0c\u53f3\u952e\u70b9\u51fb\u65b0\u5efa\u7684 ",(0,i.jsx)(s.code,{children:"ou=Group"})," - ",(0,i.jsx)(s.code,{children:"New"})," - ",(0,i.jsx)(s.code,{children:"New Entry"}),"\n",(0,i.jsx)(s.img,{alt:"img",src:n(17755).A+"",width:"844",height:"833"})]}),"\n",(0,i.jsxs)(s.p,{children:["\u70b9\u51fb",(0,i.jsx)(s.code,{children:"Next"}),"\n",(0,i.jsx)(s.img,{alt:"img",src:n(52402).A+"",width:"612",height:"610"})]}),"\n",(0,i.jsxs)(s.p,{children:["\u641c\u7d22",(0,i.jsx)(s.code,{children:"po"}),"\uff0c\u5982\u679c\u6ca1\u6709\u503c\u53ef\u4ee5\u5237\u65b0\u4e00\u4e0b\n",(0,i.jsx)(s.img,{alt:"img",src:n(4405).A+"",width:"612",height:"610"})]}),"\n",(0,i.jsxs)(s.p,{children:["\u9009\u62e9 ",(0,i.jsx)(s.code,{children:"posixGroup"}),"\uff0c\u70b9\u51fb",(0,i.jsx)(s.code,{children:"Add"}),"\n",(0,i.jsx)(s.img,{alt:"img",src:n(21516).A+"",width:"612",height:"610"})]}),"\n",(0,i.jsxs)(s.p,{children:["\u586b\u5165RDN\u4fe1\u606f ",(0,i.jsx)(s.code,{children:"cn"})," = ",(0,i.jsx)(s.code,{children:"test"}),"\uff0c\u70b9\u51fb",(0,i.jsx)(s.code,{children:"Next"}),"\n",(0,i.jsx)(s.img,{alt:"img",src:n(12072).A+"",width:"612",height:"610"})]}),"\n",(0,i.jsxs)(s.p,{children:["\u70b9\u51fb",(0,i.jsx)(s.code,{children:"Finish"}),"\n",(0,i.jsx)(s.img,{alt:"img",src:n(26289).A+"",width:"612",height:"610"})]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(96122).A+"",width:"999",height:"602"})}),"\n",(0,i.jsx)(s.h3,{id:"33-\u6dfb\u52a0\u7528\u6237",children:"3.3. \u6dfb\u52a0\u7528\u6237"}),"\n",(0,i.jsx)(s.p,{children:"\u521b\u5efatest.ldif\u6587\u4ef6"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ldif",children:"dn: uid=test,ou=Group,dc=light,dc=com\nuid: test\ncn: test\nobjectClass: account\nobjectClass: posixAccount\nobjectClass: top\nobjectClass: shadowAccount\nuserPassword: {crypt}!!\nshadowLastChange: 18663\nshadowMin: 0\nshadowMax: 99999\nshadowWarning: 7\nloginShell: /bin/bash\nuidNumber: 1000\ngidNumber: 0\nhomeDirectory: /home/test\n"})}),"\n",(0,i.jsx)(s.p,{children:"\u9009\u62e9\u521a\u521b\u5efa\u7684\u6587\u4ef6\u5bfc\u5165\u7528\u6237"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(97347).A+"",width:"953",height:"691"})}),"\n",(0,i.jsxs)(s.p,{children:["\u5982\u679c\u8981\u8986\u76d6\u4e4b\u524d\u7684\uff0c\u53ef\u4ee5\u52fe\u9009 ",(0,i.jsx)(s.code,{children:"Overwrite existing logfile"}),"\n",(0,i.jsx)(s.img,{alt:"img",src:n(83532).A+"",width:"612",height:"525"})]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(52629).A+"",width:"984",height:"771"})}),"\n",(0,i.jsx)(s.h3,{id:"34-\u4fee\u6539\u7528\u6237\u5bc6\u7801",children:"3.4. \u4fee\u6539\u7528\u6237\u5bc6\u7801"}),"\n",(0,i.jsxs)(s.p,{children:["\u53cc\u51fb\u4fee\u6539\u7528\u6237\u5bc6\u7801\uff0c\u5c06\u5bc6\u7801\u6539\u4e3a",(0,i.jsx)(s.code,{children:"test"}),"\n",(0,i.jsx)(s.img,{alt:"img",src:n(85278).A+"",width:"994",height:"677"})]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(3591).A+"",width:"804",height:"615"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(43008).A+"",width:"980",height:"772"})}),"\n",(0,i.jsx)(s.h2,{id:"\u56db-ldap\u7528\u6237\u540c\u6b65",children:"\u56db .LDAP\u7528\u6237\u540c\u6b65"}),"\n",(0,i.jsx)(s.h3,{id:"41-\u5b89\u88c5ldap-client",children:"4.1. \u5b89\u88c5LDAP client"}),"\n",(0,i.jsx)(s.p,{children:"\u524d\u7f6e\u73af\u5883\u5904\u7406"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"\u5173\u95edSELinux"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"[root@localhost ~]# setenforce 0\nsetenforce: SELinux is disabled\n[root@localhost ~]# sed -i 's#SELINUX=enforcing#SELINUX=disabled#g' /etc/selinux/config \n[root@localhost ~]# grep SELINUX=disabled /etc/selinux/config\nSELINUX=disabled\n"})}),"\n",(0,i.jsxs)(s.ol,{start:"2",children:["\n",(0,i.jsx)(s.li,{children:"\u5173\u95ediptables"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"\u67e5\u770b\u9632\u706b\u5899\u72b6\u6001\nfirewall-cmd --state\n\u505c\u6b62firewall\nsystemctl stop firewalld.service\n\u7981\u6b62firewall\u5f00\u673a\u542f\u52a8\nsystemctl disable firewalld.service\n"})}),"\n",(0,i.jsxs)(s.ol,{start:"3",children:["\n",(0,i.jsx)(s.li,{children:"\u5728\u9700\u8981\u540c\u6b65\u7684\u7269\u7406\u673a\u4e0a\u6267\u884c\u5b89\u88c5\u6307\u4ee4"}),"\n"]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"yum install nss-pam-ldapd openldap-clients openldap -y"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"42-\u914d\u7f6eldap-client",children:"4.2. \u914d\u7f6eLDAP client"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"\u6dfb\u52a0client\u670d\u52a1\u5668\u5230LDAP\u670d\u52a1,\u6ce8\u610fIP"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:'[root@localhost ~]# authconfig --enablemkhomedir --disableldaptls --enableldap --enableldapauth --ldapserver="192.168.101.30:10389" --ldapbasedn="dc=yss,dc=com" --update\n\ngetsebool:  SELinux is disabled\n[root@localhost ~]#\n'})}),"\n",(0,i.jsx)(s.p,{children:"\u8fd9\u4e2a\u6307\u4ee4\u4fee\u6539\u4e86/etc/nsswitch.conf \u4ee5\u53ca/etc/openldap/ldap.conf\u6587\u4ef6"}),"\n",(0,i.jsxs)(s.ol,{start:"2",children:["\n",(0,i.jsx)(s.li,{children:"/etc/nsswitch.conf"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:'[root@localhost ~]# cat /etc/nsswitch.conf  |egrep -v "^#|^$"\npasswd:     files sss ldap\nshadow:     files sss ldap\ngroup:      files sss ldap\nhosts:      files dns myhostname\nbootparams: nisplus [NOTFOUND=return] files\nethers:     files\nnetmasks:   files\nnetworks:   files\nprotocols:  files\nrpc:        files\nservices:   files sss\nnetgroup:   files sss ldap\npublickey:  nisplus\nautomount:  files ldap\naliases:    files nisplus\n[root@localhost ~]#\n\n'})}),"\n",(0,i.jsxs)(s.ol,{start:"3",children:["\n",(0,i.jsx)(s.li,{children:"/etc/pam.d/system-auth"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"[root@localhost ~]# cat /etc/pam.d/system-auth\n#%PAM-1.0\n# This file is auto-generated.\n# User changes will be destroyed the next time authconfig is run.\nauth        required      pam_env.so\nauth        required      pam_faildelay.so delay=2000000\nauth        sufficient    pam_unix.so nullok try_first_pass\nauth        requisite     pam_succeed_if.so uid >= 1000 quiet_success\nauth        sufficient    pam_ldap.so use_first_pass\nauth        required      pam_deny.so\n\naccount     required      pam_unix.so broken_shadow\naccount     sufficient    pam_localuser.so\naccount     sufficient    pam_succeed_if.so uid < 1000 quiet\naccount     [default=bad success=ok user_unknown=ignore] pam_ldap.so\naccount     required      pam_permit.so\n\npassword    requisite     pam_pwquality.so try_first_pass local_users_only retry=3 authtok_type=\npassword    sufficient    pam_unix.so sha512 shadow nullok try_first_pass use_authtok\npassword    sufficient    pam_ldap.so use_authtok\npassword    required      pam_deny.so\n\nsession     optional      pam_keyinit.so revoke\nsession     required      pam_limits.so\n-session     optional      pam_systemd.so\nsession     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid\nsession     required      pam_unix.so\nsession     optional      pam_ldap.so\n"})}),"\n",(0,i.jsxs)(s.ol,{start:"4",children:["\n",(0,i.jsx)(s.li,{children:"/etc/sysconfig/authconfig"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"[root@localhost ~]# more /etc/sysconfig/authconfig\n\nUSELDAP=yes\nUSELDAPAUTH=yes\nUSELOCAUTHORIZE=yes\nUSESHADOW=yes\n....\n"})}),"\n",(0,i.jsxs)(s.ol,{start:"5",children:["\n",(0,i.jsx)(s.li,{children:"/etc/ssh/sshd_config"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"[root@localhost ~]# cat /etc/ssh/sshd_config | grep UsePAM\n# WARNING: 'UsePAM no' is not supported in Red Hat Enterprise Linux and may cause several\nUsePAM yes\n[root@localhost ~]#\n"})}),"\n",(0,i.jsx)(s.h3,{id:"43-\u91cd\u542f\u670d\u52a1nslcd",children:"4.3. \u91cd\u542f\u670d\u52a1nslcd"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"[root@localhost ~]# systemctl restart nslcd\n[root@localhost ~]# systemctl restart sshd\n"})}),"\n",(0,i.jsx)(s.h3,{id:"44-\u9a8c\u8bc1",children:"4.4. \u9a8c\u8bc1"}),"\n",(0,i.jsx)(s.p,{children:"\u521b\u5efa test02.ldif\u6587\u4ef6"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ldif",children:"dn: uid=test02,ou=Group,dc=yss,dc=com\nuid: test02\ncn: test02\nobjectClass: account\nobjectClass: posixAccount\nobjectClass: top\nobjectClass: shadowAccount\nuserPassword: {crypt}!!\nshadowLastChange: 18663\nshadowMin: 0\nshadowMax: 99999\nshadowWarning: 7\nloginShell: /bin/bash\nuidNumber: 6666\ngidNumber: 666\nhomeDirectory: /home/test02\n"})}),"\n",(0,i.jsx)(s.p,{children:"\u9700\u8981\u6ce8\u610f\u7684\u4e8b\u60c5 :"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"uid \u548c cn \u4e00\u822c\u90fd\u662f\u76f8\u540c\u7684"}),"\n",(0,i.jsx)(s.li,{children:"uidNumber \u662f\u7528\u6237\u7684id , \u8fd9\u4e2a\u4e00\u5b9a\u8981\u6539, \u8981\u662f\u4e0d\u5b58\u5728\u7684\u7528\u6237\u7ec4id"}),"\n",(0,i.jsx)(s.li,{children:"loginShell \u9ed8\u8ba4 /bin/bash \u5c31\u884c"}),"\n",(0,i.jsx)(s.li,{children:"gidNumber \u8fd9\u4e2a\u662f\u7528\u6237\u7ec4\u7684id"}),"\n",(0,i.jsx)(s.li,{children:"homeDirectory : \u7528\u6237\u7684home\u76ee\u5f55"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u4f7f\u7528su\u6307\u4ee4\u8fdb\u884c\u5207\u6362\u5c31\u884c\u2026"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"[root@localhost home]# su -l test02\n\u521b\u5efa\u76ee\u5f55 '/home/test02'\u3002\n\u4e0a\u4e00\u6b21\u767b\u5f55\uff1a\u4e09 3\u6708 17 15:29:57 CST 2021pts/3 \u4e0a\n[test02@localhost ~]$ pwd\n/home/test02\n[test02@localhost ~]$ id\nuid=6666(test02) gid=0(root) \u7ec4=0(root)\n"})}),"\n",(0,i.jsx)(s.h2,{id:"\u4e94-kerberos\u540c\u6b65",children:"\u4e94 .Kerberos\u540c\u6b65"}),"\n",(0,i.jsx)(s.h3,{id:"51-\u4fee\u6539apacheds-\u914d\u7f6e\u5f00\u542fkerberos-kdc",children:"5.1. \u4fee\u6539ApacheDS \u914d\u7f6e\uff0c\u5f00\u542fKerberos KDC"}),"\n",(0,i.jsxs)(s.p,{children:["\u9009\u53d6\u5bf9\u5e94\u7684\u670d\u52a1\u5668 , \u9f20\u6807\u53f3\u952e\u5355\u51fb ",(0,i.jsx)(s.code,{children:"Open Configuration"})," ."]}),"\n",(0,i.jsxs)(s.p,{children:["\u6253\u5f00\u914d\u7f6e\u9875\u9762\uff0c\u52fe\u9009\u4e0a",(0,i.jsx)(s.code,{children:"Enable Kerberos Server"}),", ",(0,i.jsx)(s.code,{children:"Enable Kerberos Change Password Server"}),"\uff0c\u6539\u5b8c\u4e4b\u540e ",(0,i.jsx)(s.code,{children:"Control + S"})," \u4fdd\u5b58\uff0c"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(14185).A+"",width:"1920",height:"1039"})}),"\n",(0,i.jsx)(s.p,{children:"\u91cd\u542f ApacheDS \u4f7f\u914d\u7f6e\u751f\u6548\u3002"}),"\n",(0,i.jsx)(s.h3,{id:"52-\u5b89\u88c5kerberos-client",children:"5.2. \u5b89\u88c5Kerberos client"}),"\n",(0,i.jsx)(s.p,{children:"\u5b89\u88c5Kerberos \u5ba2\u6237\u7aef"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"yum install -y krb5-workstation krb5-libs krb5-auth-dialog \n\n"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"krb5-workstation"}),"\n",(0,i.jsx)(s.li,{children:"krb5-libs"}),"\n",(0,i.jsx)(s.li,{children:"krb5-auth-dialog"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"53-\u4fee\u6539kerberos\u914d\u7f6e\u6587\u4ef6",children:"5.3. \u4fee\u6539kerberos\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,i.jsxs)(s.p,{children:["\u4fee\u6539",(0,i.jsx)(s.code,{children:"/etc/krb5.conf"}),"\u6587\u4ef6, \u914d\u7f6ekdc\u5730\u5740"]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"vim /etc/krb5.conf"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-conf"})}),"\n",(0,i.jsx)(s.h3,{id:"54-\u6dfb\u52a0kerberos\u8ba4\u8bc1\u7528\u6237",children:"5.4. \u6dfb\u52a0Kerberos\u8ba4\u8bc1\u7528\u6237"}),"\n",(0,i.jsxs)(s.p,{children:["\u5bfc\u5165 ",(0,i.jsx)(s.code,{children:"kdc-data.ldif"})," \u5230ldap \uff0c\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ldif",children:"dn: dc=light,dc=com\nobjectClass: dcObject\nobjectClass: organization\nobjectClass: top\ndc: light\no: light.com\n\ndn: ou=Users,dc=light,dc=com\nobjectClass: organizationalUnit\nobjectClass: top\nou: Users\n\ndn: uid=hnelson,ou=Users,dc=light,dc=com\nobjectClass: top\nobjectClass: person\nobjectClass: inetOrgPerson\nobjectClass: krb5principal\nobjectClass: krb5kdcentry\ncn: Horatio Nelson\nsn: Nelson\nuid: hnelson\nuserPassword: secret\nkrb5PrincipalName: hnelson@LIGHT.COM\nkrb5KeyVersionNumber: 0\n\ndn: uid=krbtgt,ou=Users,dc=light,dc=com\nobjectClass: top\nobjectClass: person\nobjectClass: inetOrgPerson\nobjectClass: krb5principal\nobjectClass: krb5kdcentry\ncn: KDC Service\nsn: Service\nuid: krbtgt\nuserPassword: secret\nkrb5PrincipalName: krbtgt/LIGHT.COM@LIGHT.COM\nkrb5KeyVersionNumber: 0\n\ndn: uid=ldap,ou=Users,dc=light,dc=com\nobjectClass: top\nobjectClass: person\nobjectClass: inetOrgPerson\nobjectClass: krb5principal\nobjectClass: krb5kdcentry\ncn: LDAP\nsn: Service\nuid: ldap\nuserPassword: randall\nkrb5PrincipalName: ldap/localhost@LIGHT.COM\nkrb5KeyVersionNumber: 0\n"})}),"\n",(0,i.jsxs)(s.p,{children:["\u901a\u8fc7Apache Directory Studio\uff0c\u53f3\u952e\u70b9\u51fb\u8fde\u63a5\u540d\u79f0 ",(0,i.jsx)(s.code,{children:"ApacheDS"})," -> ",(0,i.jsx)(s.code,{children:"Import"})," -> ",(0,i.jsx)(s.code,{children:"LDIF Import"})," \u9009\u62e9\u6307\u5b9a\u6587\u4ef6\u3002"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(93267).A+"",width:"888",height:"699"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(77706).A+"",width:"612",height:"525"})}),"\n",(0,i.jsx)(s.p,{children:"\u5bfc\u5165\u6210\u529f"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(18785).A+"",width:"1025",height:"682"})}),"\n",(0,i.jsx)(s.h3,{id:"55-kerberos-\u9a8c\u8bc1",children:"5.5. kerberos \u9a8c\u8bc1"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"#\u8f93\u5165\u5bc6\u7801 \u6587\u4ef6\u4e2d\u6307\u5b9a\u7684\u662fsecret\n[root@localhost apacheds-2.0.0.AM2]# kinit hnelson\nPassword for hnelson@LIGHT.COM:\n\n#\u67e5\u770bticket\n[root@localhost apacheds-2.0.0.AM2]# klist\nTicket cache: KEYRING:persistent:0:0\nDefault principal: hnelson@LIGHT.COM\n\nValid starting       Expires              Service principal\n2021-03-17T16:19:26  2021-03-18T16:19:12  krbtgt/LIGHT.COM@LIGHT.COM\n\trenew until 2021-03-24T16:19:12\n"})}),"\n",(0,i.jsx)(s.h3,{id:"56-kerberos-\u5bfc\u51fakeytab\u6587\u4ef6",children:"5.6. kerberos \u5bfc\u51fakeytab\u6587\u4ef6"}),"\n",(0,i.jsx)(s.p,{children:"\u4f7f\u7528ktutil \u5bfc\u51fakeytab \u6587\u4ef6"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"[root@localhost apacheds-2.0.0.AM2]# ktutil\nktutil:  add_entry -password -p hnelson@LIGHT.COM -k 1 -e aes128-cts-hmac-sha1-96\nPassword for hnelson@LIGHT.COM:\nktutil:  wkt /opt/hnelson.keytab\nktutil:  q\n[root@localhost apacheds-2.0.0.AM2]#\n"})}),"\n",(0,i.jsx)(s.p,{children:"add_entry \u4e3a\u6bcf\u4e00\u79cd\u52a0\u5bc6\u65b9\u5f0f\u6dfb\u52a0keytab \uff0c\u7136\u540e\u7528wkt \u5c06keytab\u5199\u5165\u5230\u6587\u4ef6\u3002"}),"\n",(0,i.jsx)(s.h3,{id:"57-\u9a8c\u8bc1keytab\u6587\u4ef6",children:"5.7. \u9a8c\u8bc1keytab\u6587\u4ef6"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"[root@localhost apacheds-2.0.0.AM2]#  kinit -kt  /opt/hnelson.keytab hnelson\n[root@localhost apacheds-2.0.0.AM2]# klist\nTicket cache: KEYRING:persistent:0:0\nDefault principal: hnelson@LIGHT.COM\n\nValid starting       Expires              Service principal\n2021-03-17T16:31:43  2021-03-18T16:31:38  krbtgt/LIGHT.COM@LIGHT.COM\n\trenew until 2021-03-24T16:31:38\n"})}),"\n",(0,i.jsx)(s.h2,{id:"\u516d-linux\u4e0ekerberos\u7528\u6237\u7edf\u4e00",children:"\u516d .linux\u4e0ekerberos\u7528\u6237\u7edf\u4e00"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"sman\u7528\u6237\u7684ldif\u914d\u7f6e"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"\u6ce8\u610f"})," \u8981\u548ckerberos\u7684\u8ba4\u8bc1\u5728\u540c\u4e00\u4e2a\u57df\u4e0b\u9762."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ldif",children:"dn: uid=sman,ou=Users,dc=light,dc=com\nobjectClass: inetOrgPerson\nobjectClass: krb5KDCEntry\nobjectClass: krb5Principal\nobjectClass: organizationalPerson\nobjectClass: person\nobjectClass: posixAccount\nobjectClass: shadowAccount\nobjectClass: top\ncn: sman\ngidNumber: 666\nhomeDirectory: /home/sman\nkrb5KeyVersionNumber: 1\nkrb5PrincipalName: sman@LIGHT.COM\nsn: sman\nuid: sman\nuidNumber: 6668\nkrb5Key:: MBGgAwIBA6EKBAgs3IwczpIjCA==\nkrb5Key:: MBmgAwIBEaESBBDZ4KQ8CUaBfkx/xz+Mo6nf\nkrb5Key:: MBmgAwIBF6ESBBA+wfd6dpePW9BH3npNz4gx\nkrb5Key:: MCGgAwIBEKEaBBhMSqjaSWQWy4yiAaQq6lgVdvhu1jjaFtM=\nloginShell: /bin/bash\nshadowLastChange: 18663\nshadowMax: 99999\nshadowMin: 0\nshadowWarning: 7\nuserPassword:: e1NTSEF9eG5LRUJMNVljNTA4amtkQ3NBLzA2NW1QU3ltOEFVMS9KUjVOclE9PQ==\n"})}),"\n",(0,i.jsxs)(s.ol,{start:"2",children:["\n",(0,i.jsx)(s.li,{children:"\u76f4\u63a5\u5bfc\u5165\u5373\u53ef."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(97656).A+"",width:"1025",height:"776"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(19799).A+"",width:"612",height:"525"})}),"\n",(0,i.jsxs)(s.ol,{start:"3",children:["\n",(0,i.jsx)(s.li,{children:"\u67e5\u770bsman"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(20302).A+"",width:"1920",height:"1039"})}),"\n",(0,i.jsxs)(s.ol,{start:"4",children:["\n",(0,i.jsxs)(s.li,{children:["\u4fee\u6539\u5bc6\u7801\uff0c\u66f4\u6539\u540e\u5bc6\u7801\u4e3a ",(0,i.jsx)(s.code,{children:"sman"})]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(48133).A+"",width:"1159",height:"777"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(95868).A+"",width:"804",height:"615"})}),"\n",(0,i.jsxs)(s.ol,{start:"5",children:["\n",(0,i.jsx)(s.li,{children:"\u9a8c\u8bc1"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"[root@localhost conf]# su -l sman\n\u521b\u5efa\u76ee\u5f55 '/home/sman'\u3002\n[sman@localhost ~]$\n[root@localhost ~]# kinit sman\nPassword for sman@LIGHT.COM:\n[root@localhost ~]# klist\nTicket cache: KEYRING:persistent:0:krb_ccache_CwJLBLC\nDefault principal: sman@LIGHT.COM\n\nValid starting       Expires              Service principal\n2021-03-17T17:28:23  2021-03-18T17:28:16  krbtgt/LIGHT.COM@LIGHT.COM\n\trenew until 2021-03-24T17:28:16\n"})}),"\n",(0,i.jsxs)(s.ol,{start:"6",children:["\n",(0,i.jsx)(s.li,{children:"LDAP \u670d\u52a1\u5668\u914d\u7f6e"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(17259).A+"",width:"1074",height:"694"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Address : kerberos-server-01"}),"\n",(0,i.jsx)(s.li,{children:"Address : kerberos-server-01"}),"\n",(0,i.jsx)(s.li,{children:"SASL Host: kerberos-server-01"}),"\n",(0,i.jsxs)(s.li,{children:["SASL principal: ldap/kerberos-",(0,i.jsx)(s.a,{href:"mailto:server-01@LIGHT.COM",children:"server-01@LIGHT.COM"})]}),"\n",(0,i.jsx)(s.li,{children:"Search Base DN: ou=Users,dc=light,dc=com"}),"\n",(0,i.jsx)(s.li,{children:"SASL Realms: LIGHT.COM"}),"\n"]}),"\n",(0,i.jsxs)(s.ol,{start:"7",children:["\n",(0,i.jsx)(s.li,{children:"Kerberos\u670d\u52a1\u5668\u914d\u7f6e"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"img",src:n(26754).A+"",width:"1074",height:"694"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Address : kerberos-server-01"}),"\n",(0,i.jsx)(s.li,{children:"Address : kerberos-server-01"}),"\n",(0,i.jsx)(s.li,{children:"Requeire Pre-Authentication By Encrypted Timestamp: \u4e0d\u52fe\u9009"}),"\n",(0,i.jsx)(s.li,{children:"Search Base DN: ou=Users,dc=light,dc=com"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"\u4e03-\u53c2\u8003",children:"\u4e03 .\u53c2\u8003"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://blog.csdn.net/weixin_41609807/article/details/114586185",children:"ApacheDS\u4f7f\u7528\u8be6\u7ec6\u6559\u7a0b"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://devopstack.cn/linux/394.html#22_SELinux",children:"entOS7.4\u4e0bOpenLDAP \u7684\u5b89\u88c5\u4e0e\u914d\u7f6e\u53caOpenLDAP\u4e3b\u4ece\u4e3b\u4e3b"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://zhuanlan.zhihu.com/p/355985595",children:"apacheDS \u914d\u7f6ekerberos"})}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},91369:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-1-12d1daa981d80d918bf927d116108e20.png"},33965:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-10-7f66890698ec9b4f4957c2082738df61.png"},7812:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-11-107d1bd358152808fbf3abfc2476ee03.png"},21375:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-12-c5c2ef505e026b56f377fb8fcedce2c4.png"},43286:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-13-7834a4b2ef0e9d455c3be96af4657fe9.png"},17545:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-14-b8f88ec17f5a66907152135d214af909.png"},62720:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-15-d02b1f0ad2424217bfa77422518a349d.png"},17755:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-16-2ddf8421ca1ca418e168c550e65e1087.png"},52402:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-17-1bc7b07bc9bf147a096827f3f7ba4d67.png"},4405:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-18-6f77c2000e8558a18237d3d51e38cc6c.png"},21516:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-19-a51e3d04db8a0c63a889f965eae8c548.png"},26226:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-2-858fdd1fa5c5b1e11574070a6698cc61.png"},12072:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-20-4b8b46f0415136851282d7cf55e84c30.png"},26289:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-21-855802b0d9b1fc9955d1921495da73fa.png"},96122:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-22-7bf92d72ffb404744b39b1c4a8529dc1.png"},97347:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-23-97c8eecb8b7567319299d6fea1c93243.png"},83532:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-24-c9fc66edd82958a14e8190e7b369c38e.png"},52629:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-25-76702a91ac60d5b393423f59fc61d3aa.png"},85278:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-26-563c4430d0f364b35b08fe7fa78a9c9b.png"},3591:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-27-e54ad384719125800cc0613a1ea5a9cc.png"},43008:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-28-081863290109c7d1e8c9211d5c8fa417.png"},14185:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-29-8aff7fd499ed41d28eefd49ceacd12e7.png"},91579:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-3-9d8274576f83509c2f2690a10da039d0.png"},93267:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-30-c0284a73487051d0c741b57161b448fb.png"},77706:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-31-f2738afff625a05d6e965d99d10e66ba.png"},18785:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-32-a1c1b338a66b05f0f4c91b0bb16e3db3.png"},97656:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-33-398ab473bdf329084e6efda09aec8914.png"},19799:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-34-32cd9f799c73abda8a6bc931cc071efa.png"},20302:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-35-ae374d7cece3a2f14c93902b848bfc63.png"},48133:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-36-580a92b6cdfab967fde74d39d13409a9.png"},95868:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-37-b78b4d57b82aefb8806954347e3f3599.png"},17259:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-38-eca6f3c14c6241cd2478142187ad8398.png"},26754:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-39-91b8a0aa31fe391ca5c7341c906e8b6e.png"},81636:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-4-885dc8b38d6b02346ad8ac0ccb652c13.png"},24141:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-5-68fff5973afee88f447df85df5c799e5.png"},17110:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-6-f3dd7845838a0574e57db3ac4c405ed8.png"},95199:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-7-4471961ab483e5c2df38999623d6f592.png"},88648:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-8-ae7fb00ee09fbd2522ea444ea623ef28.png"},28593:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/9-9-131b28eaf118d3020afb23000ddf0f5c.png"},28453:(e,s,n)=>{n.d(s,{R:()=>d,x:()=>r});var i=n(96540);const c={},l=i.createContext(c);function d(e){const s=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),i.createElement(l.Provider,{value:s},e.children)}}}]);