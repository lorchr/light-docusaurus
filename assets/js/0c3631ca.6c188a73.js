"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[98435],{32934:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>h,contentTitle:()=>a,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>l});var i=t(74848),r=t(28453);const s={},a=void 0,o={id:"zh-cn/spring-security/oauth2/Github-Gitee-Login",title:"Github-Gitee-Login",description:"\u4e00\u3001\u51c6\u5907\u5de5\u4f5c",source:"@site/docs/zh-cn/spring-security/oauth2/5-Github-Gitee-Login.md",sourceDirName:"zh-cn/spring-security/oauth2",slug:"/zh-cn/spring-security/oauth2/Github-Gitee-Login",permalink:"/light-docusaurus/docs/zh-cn/spring-security/oauth2/Github-Gitee-Login",draft:!1,unlisted:!1,editUrl:"https://github.com/lorchr/light-docusaurus/tree/main/docs/zh-cn/spring-security/oauth2/5-Github-Gitee-Login.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{},sidebar:"troch",previous:{title:"SAML-Login",permalink:"/light-docusaurus/docs/zh-cn/spring-security/oauth2/SAML-Login"},next:{title:"Windows-Authentication",permalink:"/light-docusaurus/docs/zh-cn/spring-security/oauth2/Windows-Authentication"}},h={},l=[{value:"\u4e00\u3001\u51c6\u5907\u5de5\u4f5c",id:"\u4e00\u51c6\u5907\u5de5\u4f5c",level:2},{value:"1. \u6ce8\u518c\u4e00\u4e2aGithub\u5e94\u7528",id:"1-\u6ce8\u518c\u4e00\u4e2agithub\u5e94\u7528",level:3},{value:"2. \u6ce8\u518c\u4e00\u4e2aGitee \u5e94\u7528",id:"2-\u6ce8\u518c\u4e00\u4e2agitee-\u5e94\u7528",level:3},{value:"3. \u767b\u5f55\u9875\u9762",id:"3-\u767b\u5f55\u9875\u9762",level:3},{value:"\u4e8c\u3001\u5f00\u53d1\u5e94\u7528",id:"\u4e8c\u5f00\u53d1\u5e94\u7528",level:2},{value:"1. \u914d\u7f6e\u6587\u4ef6",id:"1-\u914d\u7f6e\u6587\u4ef6",level:3},{value:"2. Spring Security\u914d\u7f6e",id:"2-spring-security\u914d\u7f6e",level:3},{value:"3. Spring Authenorization Server\u914d\u7f6e",id:"3-spring-authenorization-server\u914d\u7f6e",level:3},{value:"\u4e94\u3001\u53c2\u8003\u6587\u6863",id:"\u4e94\u53c2\u8003\u6587\u6863",level:2}];function c(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"\u4e00\u51c6\u5907\u5de5\u4f5c",children:"\u4e00\u3001\u51c6\u5907\u5de5\u4f5c"}),"\n",(0,i.jsx)(e.h3,{id:"1-\u6ce8\u518c\u4e00\u4e2agithub\u5e94\u7528",children:"1. \u6ce8\u518c\u4e00\u4e2aGithub\u5e94\u7528"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u767b\u5f55Github\u5e76",(0,i.jsx)(e.a,{href:"https://github.com/settings/developers",children:"\u6ce8\u518c\u5e94\u7528"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Application name:             Torch"}),"\n",(0,i.jsxs)(e.li,{children:["Homepage URL:                 ",(0,i.jsx)(e.a,{href:"http://localhost:10010/home",children:"http://localhost:10010/home"})]}),"\n",(0,i.jsxs)(e.li,{children:["Authorization callback URL:   ",(0,i.jsx)(e.a,{href:"http://localhost:10010/login/oauth2/code/github",children:"http://localhost:10010/login/oauth2/code/github"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u751f\u6210\u79d8\u94a5\u5e76\u4fdd\u5b58"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Client ID:                    701a063664c42f669d7b"}),"\n",(0,i.jsx)(e.li,{children:"Client secrets:               68cf372920e6ea6ded19d44a36fc4f2afe5aaec6"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"2-\u6ce8\u518c\u4e00\u4e2agitee-\u5e94\u7528",children:"2. \u6ce8\u518c\u4e00\u4e2aGitee \u5e94\u7528"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u767b\u5f55Gitee\u5e76",(0,i.jsx)(e.a,{href:"https://gitee.com/oauth/applications",children:"\u6ce8\u518c\u5e94\u7528"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Application name:             Torch"}),"\n",(0,i.jsxs)(e.li,{children:["Homepage URL:                 ",(0,i.jsx)(e.a,{href:"http://localhost:10010/home",children:"http://localhost:10010/home"})]}),"\n",(0,i.jsxs)(e.li,{children:["Authorization callback URL:   ",(0,i.jsx)(e.a,{href:"http://localhost:10010/login/oauth2/code/gitee",children:"http://localhost:10010/login/oauth2/code/gitee"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u751f\u6210\u79d8\u94a5\u5e76\u4fdd\u5b58"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Client ID:                    2ec8d36a4d6afdadf831513d4d888552bd98fe69e26fc23828dff95ee52dd092"}),"\n",(0,i.jsx)(e.li,{children:"Client secrets:               0d2b08cbff9d5d2f7549420ee343e847838cd885315089db2cbda5044217bf36"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"3-\u767b\u5f55\u9875\u9762",children:"3. \u767b\u5f55\u9875\u9762"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Document</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n        }\n        html {\n            height: 100%;\n        }\n        body {\n            height: 100%;\n        }\n        .container {\n            height: 100%;\n            background-image: linear-gradient(to right, #fbc2eb, #a6c1ee);\n        }\n        .login-wrapper {\n            background-color: #fff;\n            width: 358px;\n            height: 588px;\n            border-radius: 15px;\n            padding: 0 50px;\n            position: relative;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%);\n        }\n        .header {\n            font-size: 38px;\n            font-weight: bold;\n            text-align: center;\n            line-height: 200px;\n        }\n        .input-item {\n            display: block;\n            width: 100%;\n            margin-bottom: 20px;\n            border: 0;\n            padding: 10px;\n            border-bottom: 1px solid rgb(128, 125, 125);\n            font-size: 15px;\n            outline: none;\n        }\n        .input-item:placeholder {\n            text-transform: uppercase;\n        }\n        .btn {\n            text-align: center;\n            padding: 10px;\n            width: 100%;\n            margin-top: 40px;\n            background-image: linear-gradient(to right, #a6c1ee, #fbc2eb);\n            color: #fff;\n        }\n        .msg {\n            text-align: center;\n            line-height: 88px;\n        }\n        a {\n            text-decoration-line: none;\n            color: #abc1ee;\n        }\n        /* \u63d0\u793a\u6587\u5b57 */\n        .text-placeholder {\n            display: flex;\n            font-size: 80%;\n            color: #909399;\n            justify-content: center;\n        }\n        /* \u4e09\u65b9\u767b\u5f55\u56fe\u6807 */\n        .third-box {\n            text-align: center;\n            margin-bottom: 0 !important;\n        }\n        .third-box img {\n            position: relative;\n            top: 3px;\n        }\n    </style>\n</head>\n<body>\n<div class="container">\n    <div class="login-wrapper">\n        <div class="header">Login</div>\n        <div class="form-wrapper">\n            <input type="text" name="username" placeholder="username" class="input-item">\n            <input type="password" name="password" placeholder="password" class="input-item">\n            <div class="btn">Login</div>\n        </div>\n        <div class="msg">\n            Don\'t have account?\n            <a href="#">Sign up</a>\n        </div>\n        <div class="text-placeholder">\n            \u7b2c\u4e09\u65b9\u767b\u5f55\n        </div>\n        \x3c!-- <a class="btn btn-light btn-block bg-white" href="/oauth2/authorization/gitee" role="link"\n            style="text-transform: none;">\n            Sign in with Gitee\n        </a>\n        <div>\n            <a class="btn btn-light bg-white" href="/oauth2/authorization/github" role="link"\n                style="text-transform: none;">\n                <img width="24" style="margin-right: 5px;" alt="Sign in with GitHub"\n                    src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" />\n                Github\n            </a>\n        </div> --\x3e\n        <div class="third-box">\n            <a href="/oauth2/authorization/gitee" title="Gitee\u767b\u5f55">\n                <svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" name="zi_tmGitee"\n                     viewBox="0 0 2000 2000">\n                     <path fill="red"\n                          d="M898 1992q183 0 344-69.5t283-191.5q122-122 191.5-283t69.5-344q0-183-69.5-344T1525 477q-122-122-283-191.5T898 216q-184 0-345 69.5T270 477Q148 599 78.5 760T9 1104q0 183 69.5 344T270 1731q122 122 283 191.5t345 69.5zm199-400H448q-17 0-30.5-14t-13.5-30V932q0-89 43.5-163.5T565 649q74-45 166-45h616q17 0 30.5 14t13.5 31v111q0 16-13.5 30t-30.5 14H731q-54 0-93.5 39.5T598 937v422q0 17 14 30.5t30 13.5h416q55 0 94.5-39.5t39.5-93.5v-22q0-17-14-30.5t-31-13.5H842q-17 0-30.5-14t-13.5-31v-111q0-16 13.5-30t30.5-14h505q17 0 30.5 14t13.5 30v250q0 121-86.5 207.5T1097 1592z" />\n                </svg>\n            </a>\n\n            <a href="/oauth2/authorization/github" title="GitHub\u767b\u5f55">\n                <img width="36" style="margin-right: 5px;" alt="Sign in with GitHub"\n                     src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png"/>\n            </a>\n        </div>\n    </div>\n</div>\n</body>\n</html>\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u4e8c\u5f00\u53d1\u5e94\u7528",children:"\u4e8c\u3001\u5f00\u53d1\u5e94\u7528"}),"\n",(0,i.jsx)(e.h3,{id:"1-\u914d\u7f6e\u6587\u4ef6",children:"1. \u914d\u7f6e\u6587\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          # https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/authorizing-oauth-apps\n          github:\n            provider: github\n            client-name: Torch\n            client-id: 701a063664c42f669d7b\n            client-secret: 68cf372920e6ea6ded19d44a36fc4f2afe5aaec6\n            # \u56de\u8c03\u5730\u5740 {baseUrl}/login/oauth2/code/{registrationId}\n            redirect-uri: http://localhost:10010/login/oauth2/code/github\n            # \u6388\u6743\u8303\u56f4\n            scope:\n              - user.email\n              - read.user\n\n          # https://gitee.com/api/v5/oauth_doc#/\n          gitee:\n            provider: gitee\n            client-name: Torch\n            client-id: 701a063664c42f669d7b\n            client-secret: 68cf372920e6ea6ded19d44a36fc4f2afe5aaec6\n            authorization-grant-type: authorization_code\n            # \u56de\u8c03\u5730\u5740 {baseUrl}/login/oauth2/code/{registrationId}\n            redirect-uri: http://localhost:10010/login/oauth2/code/gitee\n            # \u6388\u6743\u8303\u56f4\n            scope:\n              - emails\n              - user_info\n\n        provider:\n          github:\n            user-name-attribute: login\n            token-uri: https://api.github.com/oauth/access_token\n            user-info-uri: https://api.github.com/user\n            authorization-uri: https://api.github.com/login/oauth/authorize\n            jwk-set-uri: https://api.github.com/login/oauth/\n\n          gitee:\n            # \u7528\u6237\u540d\u4fe1\u606f\u5bf9\u5e94\u7684\u5b57\u6bb5\u5c5e\u6027\n            user-name-attribute: login\n            # \u83b7\u53d6token\u7684\u5730\u5740\n            token-uri: https://gitee.com/oauth/token\n            # \u83b7\u53d6\u7528\u6237\u4fe1\u606f\u7684\u5730\u5740\n            user-info-uri: https://gitee.com/api/v5/user\n            # \u83b7\u53d6\u6388\u6743\u7801\u7684\u5730\u5740\n            authorization-uri: https://gitee.com/oauth/authorize\n"})}),"\n",(0,i.jsx)(e.h3,{id:"2-spring-security\u914d\u7f6e",children:"2. Spring Security\u914d\u7f6e"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java"})}),"\n",(0,i.jsx)(e.h3,{id:"3-spring-authenorization-server\u914d\u7f6e",children:"3. Spring Authenorization Server\u914d\u7f6e"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"\n\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u4e94\u53c2\u8003\u6587\u6863",children:"\u4e94\u3001\u53c2\u8003\u6587\u6863"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://blog.csdn.net/weixin_43356507/article/details/131872353",children:"https://blog.csdn.net/weixin_43356507/article/details/131872353"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://blog.csdn.net/u013810234/article/details/112911491",children:"https://blog.csdn.net/u013810234/article/details/112911491"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://backend.devrank.cn/traffic-information/7280119371463149605",children:"https://backend.devrank.cn/traffic-information/7280119371463149605"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://github.com/spring-projects/spring-authorization-server/tree/main/samples/demo-authorizationserver/src/main/java/sample/federation",children:"\u5b98\u65b9Demo"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html",children:"Spring Security Client"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://gitee.com/api/v5/oauth_doc#/list-item-2",children:"Gitee OAuth2"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://docs.github.com/zh/apps/oauth-apps/building-oauth-apps/authorizing-oauth-apps#1-request-a-users-github-identity",children:"Github Oauth2"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://jwt.io",children:"JWT Token\u89e3\u6790"})}),"\n"]}),"\n"]})]})}function d(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>a,x:()=>o});var i=t(96540);const r={},s=i.createContext(r);function a(n){const e=i.useContext(s);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:a(n.components),i.createElement(s.Provider,{value:e},n.children)}}}]);