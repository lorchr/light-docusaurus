"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[74335],{72898:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>s,metadata:()=>l,toc:()=>h});var r=i(74848),t=i(28453);const s={},c=void 0,l={id:"zh-cn/spring-authorization-server/SAS-Geting-Start-Index",title:"SAS-Geting-Start-Index",description:"- spring-authorization-server Github",source:"@site/docs/zh-cn/spring-authorization-server/0-SAS-Geting-Start-Index.md",sourceDirName:"zh-cn/spring-authorization-server",slug:"/zh-cn/spring-authorization-server/SAS-Geting-Start-Index",permalink:"/light-docusaurus/docs/zh-cn/spring-authorization-server/SAS-Geting-Start-Index",draft:!1,unlisted:!1,editUrl:"https://github.com/lorchr/light-docusaurus/tree/main/docs/zh-cn/spring-authorization-server/0-SAS-Geting-Start-Index.md",tags:[],version:"current",sidebarPosition:0,frontMatter:{},sidebar:"troch",previous:{title:"Spring Authorization Server",permalink:"/light-docusaurus/docs/category/spring-authorization-server"},next:{title:"SAS-OAuth2.1-Protocol",permalink:"/light-docusaurus/docs/zh-cn/spring-authorization-server/SAS-OAuth2.1-Protocol"}},d={},h=[{value:"OAuth2\u3001OpenID\u3001SMAL \u5bf9\u6bd4",id:"oauth2openidsmal-\u5bf9\u6bd4",level:2},{value:"\u96c6\u6210\u7b2c\u4e09\u65b9\u767b\u5f55",id:"\u96c6\u6210\u7b2c\u4e09\u65b9\u767b\u5f55",level:2},{value:"\u9879\u76ee\u5f00\u53d1\u73af\u5883\u8bf4\u660e",id:"\u9879\u76ee\u5f00\u53d1\u73af\u5883\u8bf4\u660e",level:2},{value:"\u8ba4\u8bc1\u670d\u52a1",id:"\u8ba4\u8bc1\u670d\u52a1",level:3},{value:"\u5f00\u53d1\u8f6f\u4ef6",id:"\u5f00\u53d1\u8f6f\u4ef6",level:4},{value:"\u6846\u67b6\u7248\u672c",id:"\u6846\u67b6\u7248\u672c",level:4},{value:"\u524d\u7aef\u9879\u76ee",id:"\u524d\u7aef\u9879\u76ee",level:3},{value:"\u5f00\u53d1\u8f6f\u4ef6",id:"\u5f00\u53d1\u8f6f\u4ef6-1",level:4},{value:"\u6846\u67b6\u7248\u672c",id:"\u6846\u67b6\u7248\u672c-1",level:4},{value:"\u672c\u5730\u5f00\u53d1\u6307\u5357",id:"\u672c\u5730\u5f00\u53d1\u6307\u5357",level:2},{value:"\u540e\u7aef",id:"\u540e\u7aef",level:3},{value:"\u521d\u59cb\u5316\u73af\u5883",id:"\u521d\u59cb\u5316\u73af\u5883",level:4},{value:"\u4fee\u6539\u914d\u7f6e",id:"\u4fee\u6539\u914d\u7f6e",level:4},{value:"\u524d\u7aef",id:"\u524d\u7aef",level:3},{value:"\u521d\u59cb\u5316\u73af\u5883",id:"\u521d\u59cb\u5316\u73af\u5883-1",level:4},{value:"\u90e8\u7f72\u6307\u5357",id:"\u90e8\u7f72\u6307\u5357",level:2},{value:"\u8ba4\u8bc1\u670d\u52a1Docker\u90e8\u7f72",id:"\u8ba4\u8bc1\u670d\u52a1docker\u90e8\u7f72",level:3},{value:"\u524d\u7aef\u9879\u76eenginx\u90e8\u7f72",id:"\u524d\u7aef\u9879\u76eenginx\u90e8\u7f72",level:3}];function o(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/spring-projects/spring-authorization-server",children:"spring-authorization-server Github"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://spring.io/projects/spring-authorization-server/",children:"spring-authorization-server Document"})}),"\n",(0,r.jsx)(n.li,{}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://gitee.com/vains-Sofia/authorization-example",children:"\u6559\u7a0b\u6e90\u7801 Gitee "})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/vains-Sofia/authorization-example",children:"\u6559\u7a0b\u6e90\u7801 Github"})}),"\n",(0,r.jsx)(n.li,{}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/column/7239953874950684732",children:"\u6559\u7a0b\u4e13\u680f \u6398\u91d1"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7239953874950733884",children:"Spring Authorization Server\u5165\u95e8 (\u4e00) \u521d\u8bc6SpringAuthorizationServer\u548cOAuth2.1\u534f\u8bae"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7239953874950815804",children:"Spring Authorization Server\u5165\u95e8 (\u4e8c) Spring Boot\u6574\u5408Spring Authorization Server"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7241058098974720037",children:"Spring Authorization Server\u5165\u95e8 (\u4e09) \u96c6\u6210\u6d41\u7a0b\u8bf4\u660e\u3001\u7ec6\u8282\u8865\u5145\u548c\u5404\u79cd\u65b9\u5f0f\u83b7\u53d6token\u6d4b\u8bd5"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7241101553712283707",children:"Spring Authorization Server\u5165\u95e8 (\u56db) \u81ea\u5b9a\u4e49\u8bbe\u5907\u7801\u6388\u6743"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7241439405970063416",children:"Spring Authorization Server\u5165\u95e8 (\u4e94) \u81ea\u5b9a\u4e49\u5f02\u5e38\u54cd\u5e94\u914d\u7f6e"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7241762957570097213",children:"Spring Authorization Server\u5165\u95e8 (\u516d) \u81ea\u5b9a\u4e49JWT\u4e2d\u643a\u5e26\u7684Claims\u4e0e\u8d44\u6e90\u670d\u52a1JWT\u89e3\u6790\u5668"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7242476048005709879",children:"Spring Authorization Server\u5165\u95e8 (\u4e03) \u767b\u5f55\u6dfb\u52a0\u56fe\u5f62\u9a8c\u8bc1\u7801"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7243725197911834683",children:"Spring Authorization Server\u5165\u95e8 (\u516b) Spring Boot\u5f15\u5165Security OAuth2 Client\u5bf9\u63a5\u8ba4\u8bc1\u670d\u52a1"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7244043482772029498",children:"Spring Authorization Server\u5165\u95e8 (\u4e5d) Spring Boot\u5f15\u5165Resource Server\u5bf9\u63a5\u8ba4\u8bc1\u670d\u52a1"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7245538214114492474",children:"Spring Authorization Server\u5165\u95e8 (\u5341) \u6dfb\u52a0\u77ed\u4fe1\u9a8c\u8bc1\u7801\u65b9\u5f0f\u767b\u5f55"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7246409673565372475",children:"Spring Authorization Server\u5165\u95e8 (\u5341\u4e00) \u81ea\u5b9a\u4e49grant_type(\u77ed\u4fe1\u8ba4\u8bc1\u767b\u5f55)\u83b7\u53d6token"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7254096495184134181",children:"Spring Authorization Server\u5165\u95e8 (\u5341\u4e8c) \u5b9e\u73b0\u6388\u6743\u7801\u6a21\u5f0f\u4f7f\u7528\u524d\u540e\u7aef\u5206\u79bb\u7684\u767b\u5f55\u9875\u9762"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7258466145653096504",children:"Spring Authorization Server\u5165\u95e8 (\u5341\u4e09) \u5b9e\u73b0\u8054\u5408\u8eab\u4efd\u8ba4\u8bc1\uff0c\u96c6\u6210Github\u4e0eGitee\u7684OAuth\u767b\u5f55"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7261098261142208568",children:"Spring Authorization Server\u5165\u95e8 (\u5341\u56db) \u8054\u5408\u8eab\u4efd\u8ba4\u8bc1\u6dfb\u52a0\u5fae\u4fe1\u767b\u5f55"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7262317630307205176",children:"Spring Authorization Server\u5165\u95e8 (\u5341\u4e94) \u5206\u79bb\u6388\u6743\u786e\u8ba4\u4e0e\u8bbe\u5907\u7801\u6821\u9a8c\u9875\u9762"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7271496874942890024",children:"Spring Authorization Server\u5165\u95e8 (\u5341\u516d) Spring Cloud Gateway\u5bf9\u63a5\u8ba4\u8bc1\u670d\u52a1"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7279052777888890921",children:"Spring Authorization Server\u5165\u95e8 (\u5341\u4e03) Vue\u9879\u76ee\u4f7f\u7528\u6388\u6743\u7801\u6a21\u5f0f\u5bf9\u63a5\u8ba4\u8bc1\u670d\u52a1"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7279265985912225828",children:"Spring Authorization Server\u5165\u95e8 (\u5341\u516b) Vue\u9879\u76ee\u4f7f\u7528PKCE\u6a21\u5f0f\u5bf9\u63a5\u8ba4\u8bc1\u670d\u52a1"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7294853623849254946",children:"Spring Authorization Server\u5165\u95e8 (\u5341\u4e5d) \u57fa\u4e8eRedis\u7684Token\u3001\u5ba2\u6237\u7aef\u4fe1\u606f\u548c\u6388\u6743\u786e\u8ba4\u4fe1\u606f\u5b58\u50a8"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7326546769981603866",children:"Spring Authorization Server\u5165\u95e8 (\u4e8c\u5341) \u5b9e\u73b0\u4e8c\u7ef4\u7801\u626b\u7801\u767b\u5f55"})}),"\n",(0,r.jsx)(n.li,{}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7252251628090294309",children:"Spring Authorization Server\u4f18\u5316\u7bc7\uff1a\u81ea\u5b9a\u4e49UserDetailsService\u5b9e\u73b0\u4ece\u6570\u636e\u5e93\u83b7\u53d6\u7528\u6237\u4fe1\u606f"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7253331974050299963",children:"Spring Authorization Server\u4f18\u5316\u7bc7\uff1a\u6dfb\u52a0Redis\u7f13\u5b58\u652f\u6301\u548c\u7edf\u4e00\u54cd\u5e94\u7c7b"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7254836247290216503",children:"Spring Authorization Server\u4f18\u5316\u7bc7\uff1a\u6301\u4e45\u5316JWKSource\uff0c\u89e3\u51b3\u91cd\u542f\u540e\u65e0\u6cd5\u89e3\u6790AccessToken\u95ee\u9898"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7281849496983076879",children:"Spring Authorization Server\u4f18\u5316\u7bc7\uff1aRedis\u503c\u5e8f\u5217\u5316\u5668\u6dfb\u52a0Jackson Mixin\uff0c\u89e3\u51b3Redis\u53cd\u5e8f\u5217\u5316\u5931\u8d25\u95ee\u9898"})}),"\n",(0,r.jsx)(n.li,{}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7279242389000208438",children:"Spring Authorization Server\u5e38\u89c1\u95ee\u9898\u89e3\u7b54(FAQ)"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"oauth2openidsmal-\u5bf9\u6bd4",children:"OAuth2\u3001OpenID\u3001SMAL \u5bf9\u6bd4"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5bf9\u6bd4\u70b9"}),(0,r.jsx)(n.th,{children:"OAuth2.0"}),(0,r.jsx)(n.th,{children:"OpenID"}),(0,r.jsx)(n.th,{children:"SMAL2"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u7968\u636e\u683c\u5f0f"}),(0,r.jsx)(n.td,{children:"JSON or SAML2"}),(0,r.jsx)(n.td,{children:"JSON"}),(0,r.jsx)(n.td,{children:"XML"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u652f\u6301\u6388\u6743"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u652f\u6301\u8ba4\u8bc1"}),(0,r.jsx)(n.td,{children:"\u201c\u4f2a\u8ba4\u8bc1\u201d"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u521b\u5efa\u5e74\u4efd"}),(0,r.jsx)(n.td,{children:"2005"}),(0,r.jsx)(n.td,{children:"2006"}),(0,r.jsx)(n.td,{children:"2001"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u6700\u65b0\u7248\u672c"}),(0,r.jsx)(n.td,{children:"OAuth2"}),(0,r.jsx)(n.td,{children:"OpenID Connect"}),(0,r.jsx)(n.td,{children:"SAML 2.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u4f20\u8f93\u65b9\u5f0f"}),(0,r.jsx)(n.td,{children:"HTTP"}),(0,r.jsx)(n.td,{children:"HTTP GET and HTTP POST"}),(0,r.jsx)(n.td,{children:"HTTP\u91cd\u5b9a\u5411\uff0cSAML SOAP\u7ed1\u5b9a\uff0cHTTP POST\u7ed1\u5b9a\u7b49"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u5b89\u5168\u5f31\u70b9"}),(0,r.jsx)(n.td,{children:"\u4e0d\u80fd\u62b5\u6297\u7f51\u7edc\u9493\u9c7c\uff0cOAuth\u6ca1\u6709\u4f7f\u7528\u6570\u636e\u7b7e\u540d\u548c\u52a0\u5bc6\u7b49\u63aa\u65bd\uff0c\u6570\u636e\u5b89\u5168\u5b8c\u5168\u4f9d\u8d56TLS"}),(0,r.jsx)(n.td,{children:"\u4e0d\u80fd\u62b5\u6297\u7f51\u7edc\u9493\u9c7c\uff0c\u4e00\u4e2a\u9493\u9c7c\u7684IDP\u5982\u679c\u6076\u610f\u8bb0\u5f55\u4e0b\u6765\u7528\u6237\u7684OpenID\uff0c\u5c06\u4f1a\u9020\u6210\u5f88\u4e25\u91cd\u7684\u9690\u79c1\u5b89\u5168\u95ee\u9898"}),(0,r.jsx)(n.td,{children:"XML\u7b7e\u540d\u5b58\u5728\u6f0f\u6d1e\uff0c\u53ef\u80fd\u88ab\u4f2a\u9020"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u4f7f\u7528\u573a\u666f"}),(0,r.jsx)(n.td,{children:"API \u6388\u6743"}),(0,r.jsx)(n.td,{children:"\u5546\u7528\u5e94\u7528\u7684\u5355\u70b9\u767b\u5f55"}),(0,r.jsx)(n.td,{children:"\u4f01\u4e1a\u7ea7\u5355\u70b9\u767b\u5f55\uff0c\u4f46\u662f\u5bf9\u4e8e\u79fb\u52a8\u7aef\u652f\u6301\u4e0d\u662f\u5f88\u597d"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"\u96c6\u6210\u7b2c\u4e09\u65b9\u767b\u5f55",children:"\u96c6\u6210\u7b2c\u4e09\u65b9\u767b\u5f55"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://open.weixin.qq.com/",children:"\u5fae\u4fe1\u5f00\u653e\u5e73\u53f0"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://developers.weixin.qq.com/doc/oplatform/Website_App/WeChat_Login/Wechat_Login.html",children:"\u5fae\u4fe1\u5b98\u65b9\u6587\u6863"})}),"\n",(0,r.jsx)(n.li,{}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://developer.work.weixin.qq.com/",children:"\u4f01\u4e1a\u5fae\u4fe1\u5f00\u653e\u5e73\u53f0"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://developer.work.weixin.qq.com/document/path/98151",children:"\u4f01\u4e1a\u5fae\u4fe1\u5b98\u65b9\u6587\u6863"})}),"\n",(0,r.jsx)(n.li,{}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://open.dingtalk.com/",children:"\u9489\u9489\u5f00\u653e\u5e73\u53f0"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://open.dingtalk.com/document/orgapp/tutorial-obtaining-user-personal-information",children:"\u9489\u9489\u5b98\u65b9\u6587\u6863"})}),"\n",(0,r.jsx)(n.li,{}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://gitee.com/oauth/applications",children:"Gitee \u5f00\u53d1\u8005\u5e73\u53f0"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://gitee.com/api/v5/oauth_doc#/list-item-2",children:"Gitee \u5b98\u65b9\u6587\u6863"})}),"\n",(0,r.jsx)(n.li,{}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://open.weibo.com/authentication",children:"\u5fae\u535a\u5f00\u653e\u5e73\u53f0"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://open.weibo.com/wiki/%E6%8E%88%E6%9D%83%E6%9C%BA%E5%88%B6",children:"\u5fae\u535a\u5b98\u65b9\u6587\u6863"})}),"\n",(0,r.jsx)(n.li,{}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://console.developers.google.com/apis/dashboard",children:"Google APIs"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://developers.google.com/identity/sign-in/web/",children:"Google \u5b98\u65b9\u6587\u6863"})}),"\n",(0,r.jsx)(n.li,{}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://developers.facebook.com/",children:"Facebook \u5f00\u53d1\u8005\u5e73\u53f0"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://developers.facebook.com/docs/facebook-login/",children:"Facebook \u5b98\u65b9\u6587\u6863"})}),"\n",(0,r.jsx)(n.li,{}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/settings/developers",children:"Github \u5f00\u53d1\u8005\u5e73\u53f0"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.github.com/zh/apps/oauth-apps/building-oauth-apps/authorizing-oauth-apps",children:"Github \u5b98\u65b9\u6587\u6863"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u9879\u76ee\u5f00\u53d1\u73af\u5883\u8bf4\u660e",children:"\u9879\u76ee\u5f00\u53d1\u73af\u5883\u8bf4\u660e"}),"\n",(0,r.jsx)(n.h3,{id:"\u8ba4\u8bc1\u670d\u52a1",children:"\u8ba4\u8bc1\u670d\u52a1"}),"\n",(0,r.jsx)(n.h4,{id:"\u5f00\u53d1\u8f6f\u4ef6",children:"\u5f00\u53d1\u8f6f\u4ef6"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u8f6f\u4ef6"}),(0,r.jsx)(n.th,{children:"\u7248\u672c"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Java"}),(0,r.jsx)(n.td,{children:"17"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Maven"}),(0,r.jsx)(n.td,{children:"3.6.3"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MySQL"}),(0,r.jsx)(n.td,{children:"5.7.17"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Redis"}),(0,r.jsx)(n.td,{children:"5.0.14"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"IntelliJ IDEA"}),(0,r.jsx)(n.td,{children:"2023.1.3"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Navicat"}),(0,r.jsx)(n.td,{children:"16"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"\u6846\u67b6\u7248\u672c",children:"\u6846\u67b6\u7248\u672c"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u6846\u67b6"}),(0,r.jsx)(n.th,{children:"\u7248\u672c\u53f7"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Spring Boot"}),(0,r.jsx)(n.td,{children:"3.1.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Spring Security"}),(0,r.jsx)(n.td,{children:"6.1.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Spring OAuth2 Authorization Server"}),(0,r.jsx)(n.td,{children:"1.1.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Spring OAuth2 Client"}),(0,r.jsx)(n.td,{children:"6.1.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Spring OAuth2 Resource Server"}),(0,r.jsx)(n.td,{children:"6.1.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Mybatis Plus"}),(0,r.jsx)(n.td,{children:"3.5.3.1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"hutool"}),(0,r.jsx)(n.td,{children:"5.8.18"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u524d\u7aef\u9879\u76ee",children:"\u524d\u7aef\u9879\u76ee"}),"\n",(0,r.jsx)(n.h4,{id:"\u5f00\u53d1\u8f6f\u4ef6-1",children:"\u5f00\u53d1\u8f6f\u4ef6"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u8f6f\u4ef6"}),(0,r.jsx)(n.th,{children:"\u7248\u672c"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"NodeJs"}),(0,r.jsx)(n.td,{children:"v14.18.2"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"@vue/cli"}),(0,r.jsx)(n.td,{children:"5.0.8"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"npm"}),(0,r.jsx)(n.td,{children:"9.6.5"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"VS Code"}),(0,r.jsx)(n.td,{children:"1.81.1"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"\u6846\u67b6\u7248\u672c-1",children:"\u6846\u67b6\u7248\u672c"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u6846\u67b6"}),(0,r.jsx)(n.th,{children:"\u7248\u672c"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"vue"}),(0,r.jsx)(n.td,{children:"^3.3.4"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"vue-router"}),(0,r.jsx)(n.td,{children:"^4.2.4"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"vite"}),(0,r.jsx)(n.td,{children:"^4.3.9"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"axios"}),(0,r.jsx)(n.td,{children:"^1.4.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"naive-ui"}),(0,r.jsx)(n.td,{children:"^2.34.4"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"crypto-js"}),(0,r.jsx)(n.td,{children:"^4.1.1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"typescript"}),(0,r.jsx)(n.td,{children:"~5.0.4"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"\u672c\u5730\u5f00\u53d1\u6307\u5357",children:"\u672c\u5730\u5f00\u53d1\u6307\u5357"}),"\n",(0,r.jsx)(n.h3,{id:"\u540e\u7aef",children:"\u540e\u7aef"}),"\n",(0,r.jsx)(n.h4,{id:"\u521d\u59cb\u5316\u73af\u5883",children:"\u521d\u59cb\u5316\u73af\u5883"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u4ece\u4ee3\u7801\u4ed3\u5e93\u62c9\u53d6\u4ee3\u7801"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"git clone https://gitee.com/vains-Sofia/authorization-example.git\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"idea\u5bfc\u5165\u9879\u76ee\uff0c\u914d\u7f6emaven\u3001jdk\uff0c\u7b49\u5f85maven\u4e0b\u8f7d\u5b8c\u4f9d\u8d56"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u76ee\u524d\u9879\u76ee\u4e2d\u4f9d\u8d56\u7684\u5ba2\u6237\u7aef\u4fe1\u606f\u3001\u6388\u6743\u4fe1\u606f\u548c\u6388\u6743\u786e\u8ba4\u4fe1\u606f\u90fd\u662f\u57fa\u4e8eRedis\u7684\uff0c\u5fc5\u987b\u7684\u5ba2\u6237\u7aef\u4fe1\u606f\u5728\u9879\u76ee\u542f\u52a8\u65f6\u4f1a\u81ea\u52a8\u521d\u59cb\u5316\uff0c\u5982\u679c\u9700\u8981\u81ea\u5b9a\u4e49\u53ef\u4ee5\u5728",(0,r.jsx)(n.code,{children:"./authorization-server/src/main/java/com/example/repository/RedisRegisteredClientRepository.java"}),"\u4e2d\u67e5\u770b",(0,r.jsx)(n.code,{children:"initClients"}),"\u65b9\u6cd5\u5e76\u81ea\u5b9a\u4e49\u521d\u59cb\u5316\u5185\u5bb9\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5728MySQL\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u6570\u636e\u5e93",(0,r.jsx)(n.code,{children:"authorization-example"}),"\uff0c\u5bfc\u5165",(0,r.jsx)(n.code,{children:"./authorization-server/sql/authorization-example-rbac.sql"}),"\u548c",(0,r.jsx)(n.code,{children:"./authorization-server/sql/oauth2_third_account.sql"})," SQL\u6587\u4ef6\uff0c\u521d\u59cb\u5316RBAC\u6240\u9700\u6570\u636e\u5e93\u8868\u548c\u4e09\u65b9\u767b\u5f55\u7528\u6237\u4fe1\u606f\u8868\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"\u4fee\u6539\u914d\u7f6e",children:"\u4fee\u6539\u914d\u7f6e"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4fee\u6539\u8ba4\u8bc1\u670d\u52a1\u914d\u7f6e\u6587\u4ef6",(0,r.jsx)(n.code,{children:"authorization-server/src/main/resources/application.yml"}),"\uff0c\u5c06\u5730\u5740\u3001\u5ba2\u6237\u7aef\u4fe1\u606f\u7b49\u6539\u4e3a\u81ea\u5df1\u7684"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4fee\u6539",(0,r.jsx)(n.code,{children:"spring.security.oauth2.client.registration.gitee.client-id"}),"\u914d\u7f6e\uff0c\u5c06\u6b64\u914d\u7f6e\u4fee\u6539\u4e3a\u81ea\u5df1\u5728",(0,r.jsx)(n.code,{children:"gitee"}),"\u6ce8\u518c\u7684\u4e09\u65b9\u767b\u5f55\u5e94\u7528",(0,r.jsx)(n.code,{children:"client id"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4fee\u6539",(0,r.jsx)(n.code,{children:"spring.security.oauth2.client.registration.gitee.client-secret"}),"\u914d\u7f6e\uff0c\u5c06\u6b64\u914d\u7f6e\u4fee\u6539\u4e3a\u81ea\u5df1\u5728",(0,r.jsx)(n.code,{children:"gitee"}),"\u6ce8\u518c\u7684\u4e09\u65b9\u767b\u5f55\u5e94\u7528\u7684",(0,r.jsx)(n.code,{children:"client secret"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5728",(0,r.jsx)(n.code,{children:"gitee"}),"\u4e2d\u6dfb\u52a0\u4e09\u65b9\u767b\u5f55\u5e94\u7528\u7684\u56de\u8c03\u5730\u5740\uff1a",(0,r.jsx)(n.code,{children:"http://127.0.0.1:8080/login/oauth2/code/gitee"}),"\uff0c\u5426\u5219\u5728\u4f7f\u7528",(0,r.jsx)(n.code,{children:"gitee"}),"\u767b\u5f55\u65f6\u4f1a\u53d1\u8d77\u6388\u6743\u7533\u8bf7\u5931\u8d25\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4fee\u6539",(0,r.jsx)(n.code,{children:"spring.security.oauth2.client.registration.github.client-id"}),"\u914d\u7f6e\uff0c\u5c06\u6b64\u914d\u7f6e\u4fee\u6539\u4e3a\u81ea\u5df1\u5728",(0,r.jsx)(n.code,{children:"github"}),"\u6ce8\u518c\u7684OAuth App\u7684",(0,r.jsx)(n.code,{children:"client id"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4fee\u6539",(0,r.jsx)(n.code,{children:"spring.security.oauth2.client.registration.github.client-secret"}),"\u914d\u7f6e\uff0c\u5c06\u6b64\u914d\u7f6e\u4fee\u6539\u4e3a\u81ea\u5df1\u5728github\u6ce8\u518c\u7684OAuth App\u7684",(0,r.jsx)(n.code,{children:"client secret"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5728",(0,r.jsx)(n.code,{children:"github"}),"\u4e2d\u6dfb\u52a0OAuth App\u7684\u56de\u8c03\u5730\u5740\uff1a",(0,r.jsx)(n.code,{children:"http://127.0.0.1:8080/login/oauth2/code/github"}),"\uff0c\u5426\u5219\u5728\u4f7f\u7528github\u767b\u5f55\u65f6\u4f1a\u53d1\u8d77\u6388\u6743\u7533\u8bf7\u5931\u8d25\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4fee\u6539",(0,r.jsx)(n.code,{children:"spring.security.oauth2.client.registration.wechat.client-id"}),"\u914d\u7f6e\uff0c\u5c06\u6b64\u914d\u7f6e\u4fee\u6539\u4e3a\u81ea\u5df1\u5728\u5fae\u4fe1\u516c\u4f17\u5e73\u53f0\u7533\u8bf7\u7684\u6d4b\u8bd5\u53f7\u7684",(0,r.jsx)(n.code,{children:"client id"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4fee\u6539",(0,r.jsx)(n.code,{children:"spring.security.oauth2.client.registration.wechat.client-secret"}),"\u914d\u7f6e\uff0c\u5c06\u6b64\u914d\u7f6e\u4fee\u6539\u4e3a\u81ea\u5df1\u5728\u5fae\u4fe1\u516c\u4f17\u5e73\u53f0\u7533\u8bf7\u7684\u6d4b\u8bd5\u53f7\u7684",(0,r.jsx)(n.code,{children:"client secret"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5728\u5fae\u4fe1\u516c\u4f17\u5e73\u53f0\u7684\u6d4b\u8bd5\u53f7\u7ba1\u7406\u4e2d\u914d\u7f6e\u56de\u8c03\u57df\u540d\uff0c\u5165\u53e3\u5728 [\u7f51\u9875\u6388\u6743\u83b7\u53d6\u7528\u6237\u57fa\u672c\u4fe1\u606f] \u540e\u7684 [\u4fee\u6539] \u6309\u94ae\uff1a",(0,r.jsx)(n.code,{children:"127.0.0.1:8080"}),"\uff0c\u5426\u5219\u5728\u4f7f\u7528wechat\u767b\u5f55\u65f6\u4f1a\u53d1\u8d77\u6388\u6743\u7533\u8bf7\u5931\u8d25\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4fee\u6539\u8ba4\u8bc1\u670d\u52a1\u81ea\u5b9a\u4e49\u914d\u7f6e",(0,r.jsx)(n.code,{children:"custom.scurity"}),"\u4e0b\u7684\u76f8\u5173\u914d\u7f6e"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4fee\u6539",(0,r.jsx)(n.code,{children:"login-url"}),"\u3001",(0,r.jsx)(n.code,{children:"consent-page-uri"}),"\u3001",(0,r.jsx)(n.code,{children:"device-activate-uri"}),"\u548c",(0,r.jsx)(n.code,{children:"device-activated-uri"}),"\u7684\u57df\u540d\u5168\u90e8\u6539\u4e3a",(0,r.jsx)(n.code,{children:"http://127.0.0.1:5173"}),"\uff0c\u5982\u4e0b\u6240\u793a"]}),"\n",(0,r.jsxs)(n.li,{children:["\u4fee\u6539",(0,r.jsx)(n.code,{children:"issuer-url"}),"\u4e3a ",(0,r.jsx)(n.code,{children:"http://127.0.0.1:8080"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"custom:\n  # \u81ea\u5b9a\u4e49\u8ba4\u8bc1\u914d\u7f6e\n  security:\n    # \u767b\u5f55\u9875\u9762\u8def\u5f84\n    login-url: http://127.0.0.1:5173/login\n    # \u6388\u6743\u786e\u8ba4\u9875\u9762\u8def\u5f84\n    consent-page-uri: http://127.0.0.1:5173/consent\n    # \u8bbe\u5907\u7801\u9a8c\u8bc1\u9875\u9762\n    device-activate-uri: http://127.0.0.1:5173/activate\n    # \u8bbe\u5907\u7801\u9a8c\u8bc1\u6210\u529f\u9875\u9762\n    device-activated-uri: http://127.0.0.1:5173/activated\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"12",children:["\n",(0,r.jsxs)(n.li,{children:["\u4fee\u6539",(0,r.jsx)(n.code,{children:"server.servlet.session.cookie.domain"}),"\u914d\u7f6e\u4e3a",(0,r.jsx)(n.code,{children:"127.0.0.1"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u5b8c\u6574\u914d\u7f6e\u5c55\u793a\uff0c\u53ef\u81ea\u5df1\u51b3\u5b9a\u914d\u7f6e\uff0c\u4f46\u662f\u5efa\u8bae\u5148\u6309\u793a\u4f8b\u8dd1\u8d77\u6765\u540e\u518d\u4fee\u6539"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"spring:\n datasource:\n   driver-class-name: com.mysql.cj.jdbc.Driver\n   url: jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/authorization-example?serverTimezone=Asia/Shanghai&userUnicode=true&characterEncoding=utf-8&ssl-mode=REQUIRED\n   username: ${DB_USER:root}\n   password: ${DB_PASSWORD:root}\n security:\n   oauth2:\n     client:\n       registration:\n         # \u8fd9\u4e2a'gitee'\u5c31\u662fregistrationId\n         gitee:\n           # \u6307\u5b9aoauth\u767b\u5f55\u63d0\u4f9b\u8005\uff0c\u8be5oauth\u767b\u5f55\u7531provider\u4e2d\u7684gitee\u6765\u5904\u7406\n           provider: gitee\n           # \u5ba2\u6237\u7aef\u540d\u5b57\n           client-name: Sign in with Gitee\n           # \u8ba4\u8bc1\u65b9\u5f0f\n           authorization-grant-type: authorization_code\n           # \u5ba2\u6237\u7aefid\uff0c\u4f7f\u7528\u81ea\u5df1\u7684gitee\u7684\u5ba2\u6237\u7aefid\n           client-id: dd8de6dfa9674cc307e18ca75616a0ded06126ddc4f95098da36e1fbfa141d0a\n           # \u5ba2\u6237\u7aef\u79d8\u94a5\uff0c\u4f7f\u7528\u81ea\u5df1\u7684gitee\u7684\u5ba2\u6237\u7aef\u79d8\u94a5\n           client-secret: 59b069e525b84cac8fcb854148b623743eefd6bbe9d54433c006ec0c2f785c4d\n           # \u56de\u8c03\u5730\u5740\n           redirect-uri: ${custom.security.issuer-url}/login/oauth2/code/gitee\n           # \u7533\u8bf7scope\u5217\u8868\n           scope:\n             - emails\n             - projects\n         github:\n           # security client\u9ed8\u8ba4\u5b9e\u73b0\u4e86GitHub\u63d0\u4f9b\u7684oauth2\u767b\u5f55\n           provider: github\n           client-id: 88c69e87b2e50d2dab4d\n           client-secret: 350b351e8287fc142d01082bcf0dc5c6df7c21ae\n           # \u56de\u8c03\u5730\u5740\n           redirect-uri: ${custom.security.issuer-url}/login/oauth2/code/github\n         wechat:\n           # \u5fae\u4fe1\u767b\u5f55\u914d\u7f6e\n           provider: wechat\n           # \u5ba2\u6237\u7aef\u540d\u5b57\n           client-name: Sign in with WeChat\n           # \u8ba4\u8bc1\u65b9\u5f0f\n           authorization-grant-type: authorization_code\n           # \u5ba2\u6237\u7aefid\uff0c\u4f7f\u7528\u81ea\u5df1\u7684\u5fae\u4fe1\u7684appid\n           client-id: wx946ad2f955901214\n           # \u5ba2\u6237\u7aef\u79d8\u94a5\uff0c\u4f7f\u7528\u81ea\u5df1\u7684\u5fae\u4fe1\u7684app secret\n           client-secret: e4635ff2ed22c83294394ac818cf75a7\n           # \u56de\u8c03\u5730\u5740\n           redirect-uri: ${custom.security.issuer-url}/login/oauth2/code/wechat\n           # \u7533\u8bf7scope\u5217\u8868\n           scope: snsapi_userinfo\n\n       # oauth\u767b\u5f55\u63d0\u4f9b\u5546\n       provider:\n         # \u5fae\u4fe1\u7684OAuth2\u7aef\u70b9\u914d\u7f6e\n         wechat:\n           # \u8bbe\u7f6e\u7528\u6237\u4fe1\u606f\u54cd\u5e94\u4f53\u4e2d\u8d26\u53f7\u7684\u5b57\u6bb5\n           user-name-attribute: nickname\n           # \u83b7\u53d6token\u7684\u5730\u5740\n           token-uri: https://api.weixin.qq.com/sns/oauth2/access_token\n           # \u83b7\u53d6\u7528\u6237\u4fe1\u606f\u7684\u5730\u5740\n           user-info-uri: https://api.weixin.qq.com/sns/userinfo\n           # \u53d1\u8d77\u6388\u6743\u7533\u8bf7\u7684\u5730\u5740\n           authorization-uri: https://open.weixin.qq.com/connect/oauth2/authorize\n         # gitee\u7684OAuth2\u7aef\u70b9\u914d\u7f6e\n         gitee:\n           # \u8bbe\u7f6e\u7528\u6237\u4fe1\u606f\u54cd\u5e94\u4f53\u4e2d\u8d26\u53f7\u7684\u5b57\u6bb5\n           user-name-attribute: login\n           # \u83b7\u53d6token\u7684\u5730\u5740\n           token-uri: https://gitee.com/oauth/token\n           # \u83b7\u53d6\u7528\u6237\u4fe1\u606f\u7684\u5730\u5740\n           user-info-uri: https://gitee.com/api/v5/user\n           # \u53d1\u8d77\u6388\u6743\u7533\u8bf7\u7684\u5730\u5740\n           authorization-uri: https://gitee.com/oauth/authorize\n         github:\n           user-name-attribute: login\n jackson:\n   default-property-inclusion: non_null\n data:\n   redis:\n     url: ${REDIS_URL:redis://127.0.0.1:6379}\n\n# Mybatis-Plus \u914d\u7f6e\nmybatis-plus:\n # \u626b\u63cfmapper\u6587\u4ef6\n mapper-locations:\n   - classpath:com/example/mapper/xml/*Mapper.xml\n\ncustom:\n # \u81ea\u5b9a\u4e49\u8ba4\u8bc1\u914d\u7f6e\n security:\n   # \u767b\u5f55\u9875\u9762\u8def\u5f84\n   login-url: http://127.0.0.1:5173/login\n   # \u6388\u6743\u786e\u8ba4\u9875\u9762\u8def\u5f84\n   consent-page-uri: http://127.0.0.1:5173/consent\n   # \u8bbe\u5907\u7801\u9a8c\u8bc1\u9875\u9762\n   device-activate-uri: http://127.0.0.1:5173/activate\n   # \u8bbe\u5907\u7801\u9a8c\u8bc1\u6210\u529f\u9875\u9762\n   device-activated-uri: http://127.0.0.1:5173/activated\n   # \u4e0d\u9700\u8981\u8ba4\u8bc1\u7684\u5730\u5740\n   ignore-uri-list: assets/**, /webjars/**, /login, /getCaptcha, /getSmsCaptcha, /error, /oauth2/consent/parameters, /test03, /favicon.ico, /qrCode/login/**\n   # \u5f53\u524d\u8ba4\u8bc1\u670d\u52a1\u8bbf\u95ee\u7684\u8def\u5f84\n   issuer-url: http://127.0.0.1:8080\n\nserver:\n servlet:\n   session:\n     cookie:\n       domain: 127.0.0.1\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4fee\u6539\u5b8c\u6210\u540e\u5373\u53ef\u542f\u52a8\u8ba4\u8bc1\u670d\u52a1\u4e86\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u524d\u7aef",children:"\u524d\u7aef"}),"\n",(0,r.jsx)(n.h4,{id:"\u521d\u59cb\u5316\u73af\u5883-1",children:"\u521d\u59cb\u5316\u73af\u5883"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4fee\u6539",(0,r.jsx)(n.code,{children:"./vue-login-page-example/.env.dev"}),"\u6587\u4ef6\uff0c\u4fee\u6539",(0,r.jsx)(n.code,{children:"VITE_OAUTH_CLIENT_ID"}),"\u5c5e\u6027\u4e3a",(0,r.jsx)(n.code,{children:"messaging-client"}),"\uff0c\u4ed3\u5e93\u4ee3\u7801\u4e2d\u662f\u533f\u540dtoken\u7684\u5ba2\u6237\u7aef\uff0c\u8fd9\u4e00\u6b65\u662f\u53ef\u9009\u7684\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5728",(0,r.jsx)(n.code,{children:"./vue-login-page-example/"}),"\u6587\u4ef6\u5939\u4e0b\u6253\u5f00cmd\u547d\u4ee4\u7a97\u53e3\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u6267\u884c",(0,r.jsx)(n.code,{children:"npm install"}),"\u547d\u4ee4\u5b89\u88c5\u4f9d\u8d56\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4f9d\u8d56\u5b89\u88c5\u5b8c\u6210\u540e\u6267\u884c",(0,r.jsx)(n.code,{children:"npm run dev"}),"\u547d\u4ee4\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u6d4f\u89c8\u5668\u6253\u5f00 ",(0,r.jsx)(n.code,{children:"http://127.0.0.1:5173"})," \u5373\u53ef\u770b\u5230\u4e0e\u793a\u4f8b\u9879\u76ee\u4e00\u81f4\u7684\u9875\u9762\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u90e8\u7f72\u6307\u5357",children:"\u90e8\u7f72\u6307\u5357"}),"\n",(0,r.jsx)(n.h3,{id:"\u8ba4\u8bc1\u670d\u52a1docker\u90e8\u7f72",children:"\u8ba4\u8bc1\u670d\u52a1Docker\u90e8\u7f72"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u4ece\u4ee3\u7801\u4ed3\u5e93\u62c9\u53d6\u4ee3\u7801"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"git clone https://gitee.com/vains-Sofia/authorization-example.git\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u76ee\u524d\u9879\u76ee\u4e2d\u4f9d\u8d56\u7684\u5ba2\u6237\u7aef\u4fe1\u606f\u3001\u6388\u6743\u4fe1\u606f\u548c\u6388\u6743\u786e\u8ba4\u4fe1\u606f\u90fd\u662f\u57fa\u4e8eRedis\u7684\uff0c\u5fc5\u987b\u7684\u5ba2\u6237\u7aef\u4fe1\u606f\u5728\u9879\u76ee\u542f\u52a8\u65f6\u4f1a\u81ea\u52a8\u521d\u59cb\u5316\uff0c\u5982\u679c\u9700\u8981\u81ea\u5b9a\u4e49\u53ef\u4ee5\u5728",(0,r.jsx)(n.code,{children:"./authorization-server/src/main/java/com/example/repository/RedisRegisteredClientRepository.java"}),"\u4e2d\u67e5\u770b",(0,r.jsx)(n.code,{children:"initClients"}),"\u65b9\u6cd5\u5e76\u81ea\u5b9a\u4e49\u521d\u59cb\u5316\u5185\u5bb9\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5728MySQL\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u6570\u636e\u5e93",(0,r.jsx)(n.code,{children:"authorization-example"}),"\uff0c\u5bfc\u5165",(0,r.jsx)(n.code,{children:"./authorization-server/sql/authorization-example-rbac.sql"}),"\u548c",(0,r.jsx)(n.code,{children:"./authorization-server/sql/oauth2_third_account.sql"})," SQL\u6587\u4ef6\uff0c\u521d\u59cb\u5316RBAC\u6240\u9700\u6570\u636e\u5e93\u8868\u548c\u4e09\u65b9\u767b\u5f55\u7528\u6237\u4fe1\u606f\u8868\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5728\u8ba4\u8bc1\u670d\u52a1\u6839\u76ee\u5f55(Dockerfile\u6240\u5728\u76ee\u5f55)\u6267\u884cdocker\u901a\u8fc7Dockerfile\u6587\u4ef6\u6253\u5305\u955c\u50cf\u547d\u4ee4"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"docker build -t authorization-server:1.0 .\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsx)(n.li,{children:"\u6267\u884c\u5bb9\u5668\u5236\u4f5c\u547d\u4ee4\uff0c\u81ea\u52a8\u542f\u52a8"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"docker run -d -v  /usr/local/docker-temp/application/application.yml:/application/BOOT-INF/classes/application.yml --restart=always --name authorization-server --privileged=true -p 5000:5000 authorization-server:1.0\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"/usr/local/docker-temp/application/application.yml"}),"\u662f\u670d\u52a1\u5668\u4e2d\u7684yml\u914d\u7f6e\u6587\u4ef6\uff0c",(0,r.jsx)(n.code,{children:"/application/BOOT-INF/classes/application.yml"}),"\u662f\u955c\u50cf\u5185\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u8fd9\u91cc\u662f\u6307\u5bb9\u5668\u542f\u52a8\u65f6\u6302\u8f7d\u5916\u90e8\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u4f7f\u7528\u5916\u90e8\u914d\u7f6e\u6587\u4ef6\u66ff\u6362\u5bb9\u5668\u5185\u914d\u7f6e\u6587\u4ef6\uff0c\u8fd9\u6837\u53ef\u66f4\u52a0\u65b9\u4fbf\u7684\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff1b\u65e0\u9700\u6bcf\u6b21\u66f4\u65b0\u914d\u7f6e\u5efa\u90fd\u8981\u91cd\u65b0\u6253\u5305\u3001\u5236\u4f5c\u5bb9\u5668\u7b49\u64cd\u4f5c\uff0c\u91cd\u542f\u5373\u53ef\u3002\u5185\u5bb9\u5982\u4e0b"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"spring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://${DB_HOST:192.168.72.88}:${DB_PORT:3306}/authorization-example?serverTimezone=Asia/Shanghai&userUnicode=true&characterEncoding=utf-8&ssl-mode=REQUIRED&serverTimezone=GMT%2B8\n    username: ${DB_USER:root}\n    password: ${DB_PASSWORD:root}\n  security:\n    oauth2:\n      client:\n        registration:\n          # \u8fd9\u4e2a'gitee'\u5c31\u662fregistrationId\n          gitee:\n            # \u6307\u5b9aoauth\u767b\u5f55\u63d0\u4f9b\u8005\uff0c\u8be5oauth\u767b\u5f55\u7531provider\u4e2d\u7684gitee\u6765\u5904\u7406\n            provider: gitee\n            # \u5ba2\u6237\u7aef\u540d\u5b57\n            client-name: Sign in with Gitee\n            # \u8ba4\u8bc1\u65b9\u5f0f\n            authorization-grant-type: authorization_code\n            # \u5ba2\u6237\u7aefid\uff0c\u4f7f\u7528\u81ea\u5df1\u7684gitee\u7684\u5ba2\u6237\u7aefid\n            client-id: dd8de6dfa9674cc307e18ca75616a0ded06126ddc4f95098da36e1fbfa141d0a\n            # \u5ba2\u6237\u7aef\u79d8\u94a5\uff0c\u4f7f\u7528\u81ea\u5df1\u7684gitee\u7684\u5ba2\u6237\u7aef\u79d8\u94a5\n            client-secret: 59b069e525b84cac8fcb854148b623743eefd6bbe9d54433c006ec0c2f785c4d\n            # \u56de\u8c03\u5730\u5740\n            redirect-uri: ${custom.security.issuer-url}/login/oauth2/code/gitee\n            # \u7533\u8bf7scope\u5217\u8868\n            scope:\n              - emails\n              - projects\n          github:\n            # security client\u9ed8\u8ba4\u5b9e\u73b0\u4e86GitHub\u63d0\u4f9b\u7684oauth2\u767b\u5f55\n            provider: github\n            client-id: da2bae230dd9838468d8\n            client-secret: 507ab8690a935ed2cf278249d4f8290c9c48b025\n            # \u56de\u8c03\u5730\u5740\n            redirect-uri: ${custom.security.issuer-url}/login/oauth2/code/github\n          wechat:\n            # \u5fae\u4fe1\u767b\u5f55\u914d\u7f6e\n            provider: wechat\n            # \u5ba2\u6237\u7aef\u540d\u5b57\n            client-name: Sign in with WeChat\n            # \u8ba4\u8bc1\u65b9\u5f0f\n            authorization-grant-type: authorization_code\n            # \u5ba2\u6237\u7aefid\uff0c\u4f7f\u7528\u81ea\u5df1\u7684\u5fae\u4fe1\u7684appid\n            client-id: wx946ad2f955901214\n            # \u5ba2\u6237\u7aef\u79d8\u94a5\uff0c\u4f7f\u7528\u81ea\u5df1\u7684\u5fae\u4fe1\u7684app secret\n            client-secret: e4635ff2ed22c83294394ac818cf75a7\n            # \u56de\u8c03\u5730\u5740\n            redirect-uri: ${custom.security.issuer-url}/login/oauth2/code/wechat\n            # \u7533\u8bf7scope\u5217\u8868\n            scope: snsapi_userinfo\n\n        # oauth\u767b\u5f55\u63d0\u4f9b\u5546\n        provider:\n          # \u5fae\u4fe1\u7684OAuth2\u7aef\u70b9\u914d\u7f6e\n          wechat:\n            # \u8bbe\u7f6e\u7528\u6237\u4fe1\u606f\u54cd\u5e94\u4f53\u4e2d\u8d26\u53f7\u7684\u5b57\u6bb5\n            user-name-attribute: nickname\n            # \u83b7\u53d6token\u7684\u5730\u5740\n            token-uri: https://api.weixin.qq.com/sns/oauth2/access_token\n            # \u83b7\u53d6\u7528\u6237\u4fe1\u606f\u7684\u5730\u5740\n            user-info-uri: https://api.weixin.qq.com/sns/userinfo\n            # \u53d1\u8d77\u6388\u6743\u7533\u8bf7\u7684\u5730\u5740\n            authorization-uri: https://open.weixin.qq.com/connect/oauth2/authorize\n          # gitee\u7684OAuth2\u7aef\u70b9\u914d\u7f6e\n          gitee:\n            # \u8bbe\u7f6e\u7528\u6237\u4fe1\u606f\u54cd\u5e94\u4f53\u4e2d\u8d26\u53f7\u7684\u5b57\u6bb5\n            user-name-attribute: login\n            # \u83b7\u53d6token\u7684\u5730\u5740\n            token-uri: https://gitee.com/oauth/token\n            # \u83b7\u53d6\u7528\u6237\u4fe1\u606f\u7684\u5730\u5740\n            user-info-uri: https://gitee.com/api/v5/user\n            # \u53d1\u8d77\u6388\u6743\u7533\u8bf7\u7684\u5730\u5740\n            authorization-uri: https://gitee.com/oauth/authorize\n          github:\n            user-name-attribute: login\n  jackson:\n    default-property-inclusion: non_null\n  data:\n    redis:\n      url: ${REDIS_URL:redis://192.168.72.88:6379}\n\n# Mybatis-Plus \u914d\u7f6e\nmybatis-plus:\n  # \u626b\u63cfmapper\u6587\u4ef6\n  mapper-locations:\n    - classpath:com/example/mapper/xml/*Mapper.xml\n\ncustom:\n  # \u81ea\u5b9a\u4e49\u8ba4\u8bc1\u914d\u7f6e\n  security:\n    # \u767b\u5f55\u9875\u9762\u8def\u5f84\n    login-url: http://k7fsqkhtbx.cdhttp.cn/login\n    # \u6388\u6743\u786e\u8ba4\u9875\u9762\u8def\u5f84\n    consent-page-uri: http://k7fsqkhtbx.cdhttp.cn/consent\n    # \u8bbe\u5907\u7801\u9a8c\u8bc1\u9875\u9762\n    device-activate-uri: http://k7fsqkhtbx.cdhttp.cn/activate\n    # \u8bbe\u5907\u7801\u9a8c\u8bc1\u6210\u529f\u9875\u9762\n    device-activated-uri: http://k7fsqkhtbx.cdhttp.cn/activated\n    # \u4e0d\u9700\u8981\u8ba4\u8bc1\u7684\u5730\u5740\n    ignore-uri-list: assets/**, /webjars/**, /login, /getCaptcha, /getSmsCaptcha, /error, /oauth2/consent/parameters, /test03, /favicon.ico, /qrCode/login/**\n    # \u5f53\u524d\u8ba4\u8bc1\u670d\u52a1\u8bbf\u95ee\u7684\u8def\u5f84\n    issuer-url: http://kwqqr48rgo.cdhttp.cn\n\nserver:\n  port: 5000\n  servlet:\n    session:\n      cookie:\n        domain: cdhttp.cn\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u524d\u7aef\u9879\u76eenginx\u90e8\u7f72",children:"\u524d\u7aef\u9879\u76eenginx\u90e8\u7f72"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5728\u670d\u52a1\u5668/Windows\u4e2d\u6253\u5305\u90fd\u53ef\u4ee5\uff0c\u770b\u81ea\u5df1\u9009\u62e9"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528\u547d\u4ee4\u8fdb\u5165\u524d\u7aef\u9879\u76ee\u6839\u76ee\u5f55"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd ./authorization-example/vue-login-page-example\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5728",(0,r.jsx)(n.code,{children:"./vue-login-page-example/"}),"\u4e0b\u6267\u884c",(0,r.jsx)(n.code,{children:"npm install"}),"\u547d\u4ee4\u5b89\u88c5\u4f9d\u8d56\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4f9d\u8d56\u5b89\u88c5\u5b8c\u6210\u540e\u6267\u884c",(0,r.jsx)(n.code,{children:"npm run build-only:prod"}),"\u547d\u4ee4\u5bf9\u9879\u76ee\u8fdb\u884c\u6253\u5305\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u6253\u5305\u540e\u5728\u9879\u76ee\u6839\u76ee\u5f55\u751f\u6210\u4e00\u4e2a",(0,r.jsx)(n.code,{children:"dist"}),"\u76ee\u5f55\uff0c\u6240\u6709\u6253\u5305\u6587\u4ef6\u90fd\u5728\u8be5\u76ee\u5f55\u4e2d\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5c06",(0,r.jsx)(n.code,{children:"dist"}),"\u76ee\u5f55\u4e0b\u7684",(0,r.jsx)(n.code,{children:"assets"}),"\u6587\u4ef6\u5939\u3001",(0,r.jsx)(n.code,{children:"favicon.ico"}),"\u548c",(0,r.jsx)(n.code,{children:"index.html"}),"\u6587\u4ef6\u653e\u5165",(0,r.jsx)(n.code,{children:"nginx"}),"\u7684",(0,r.jsx)(n.code,{children:"html"}),"\u6587\u4ef6\u5939\u4e0b\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"nginx"}),"\u7684",(0,r.jsx)(n.code,{children:"nginx.conf"}),"\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u914d\u7f6e"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-conf",children:"location / {\n    root   html;\n    index  index.html index.htm;\n\t\t\t\n    # \u9632\u6b62\u5237\u65b0404\u95ee\u9898\n    try_files $uri $uri/ /index.html;\n}\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"8",children:["\n",(0,r.jsxs)(n.li,{children:["\u542f\u52a8\u6216\u5237\u65b0",(0,r.jsx)(n.code,{children:"nginx"}),"\u914d\u7f6e"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"nginx -s reload\n"})})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>l});var r=i(96540);const t={},s=r.createContext(t);function c(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);