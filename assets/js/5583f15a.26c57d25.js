"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[1593],{98944:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=t(85893),a=t(11151);const i={},s=void 0,l={id:"workflow/Flowable-Usage",title:"Flowable-Usage",description:"- Flowable Offical",source:"@site/middleware/workflow/21-Flowable-Usage.md",sourceDirName:"workflow",slug:"/workflow/Flowable-Usage",permalink:"/light-docusaurus/middleware/workflow/Flowable-Usage",draft:!1,unlisted:!1,editUrl:"https://github.com/lorchr/light-docusaurus/tree/main/middleware/workflow/21-Flowable-Usage.md",tags:[],version:"current",lastUpdatedBy:"liuhui",lastUpdatedAt:1704792230,formattedLastUpdatedAt:"2024\u5e741\u67089\u65e5",sidebarPosition:21,frontMatter:{},sidebar:"middleware",previous:{title:"Spring-Boot-Camunda",permalink:"/light-docusaurus/middleware/workflow/Spring-Boot-Camunda"},next:{title:"Spring-Boot-Flowable",permalink:"/light-docusaurus/middleware/workflow/Spring-Boot-Flowable"}},o={},c=[{value:"\u76f8\u5173\u4f9d\u8d56",id:"\u76f8\u5173\u4f9d\u8d56",level:2},{value:"\u9879\u76ee",id:"\u9879\u76ee",level:2},{value:"\u90e8\u5206\u6838\u5fc3\u8868\u8bf4\u660e\uff1a",id:"\u90e8\u5206\u6838\u5fc3\u8868\u8bf4\u660e",level:2},{value:"\u4ee3\u7801\u90e8\u5206",id:"\u4ee3\u7801\u90e8\u5206",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.ah)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.flowable.com/open-source",children:"Flowable Offical"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://blog.csdn.net/qq_39035773/article/details/125414301",children:"Spring Boot + Flowable \u5de5\u4f5c\u6d41\u5f15\u64ce"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.cnblogs.com/phyger/p/14067201.html",children:"Flowable \u6570\u636e\u5e93\u8868\u7ed3\u6784\u8bf4\u660e\u3001Flowable \u6570\u636e\u5b57\u5178\u8bf4\u660e"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u60f3\u5fc5\u5927\u5bb6\u518d\u770b\u8fd9\u7bc7\u6587\u7ae0\u7684\u65f6\u5019\u5df2\u7ecf\u5bf9\u76ee\u524d\u4e3b\u6d41\u7684 \u5de5\u4f5c\u6d41\u5f15\u64ce \u6709\u6240\u4e86\u89e3\u4e86\u3002\u76ee\u524d\u4e3b\u6d41\u7684\u5de5\u4f5c\u6d41\u5f00\u6e90\u6846\n\u67b6\u4e5f\u5c31 Activiti/Camunda/Flowable \u8fd9\u51e0\u4e2a\u4e86\uff0c\u5728\u6211\u5bf9\u8fd9\u4e09\u5927\u5de5\u4f5c\u6d41\u5f15\u64ce\u7b80\u5355\u4f7f\u7528\u4e86\u89e3\u540e\uff0c\u6700\u540e\u9009\u62e9\u4e86\nFlowable \u6765\u5199\u8fd9\u7bc7\u6587\u7ae0\u3002\uff08\u6709\u53ef\u80fd\u662f\u6211\u4e2a\u4eba\u6bd4\u8f83\u559c\u6b22\u5427\uff01\u5728\u4e4b\u524d\u4e5f\u6709\u8003\u8651\u8fc7 Camunda\uff0c\u6bd5\u7adf\u5b83\u66f4\u52a0\n\u7684\u8f7b\u5de7\u7075\u6d3b\uff0c\u4ed6\u7684\u521d\u8877\u5c31\u662f\u4e3a\u5f00\u53d1\u4eba\u5458\u8bbe\u8ba1\u7684\u201c\u5c0f\u5de5\u5177\u201d\uff0c\u4f46\u6211\u4e2a\u4eba\u7684\u611f\u89c9\u800c\u8a00\uff0cCamunda \u4ece\u4ee3\u7801\u4e0a\u770b\n\u5e76\u6ca1\u6709 Activiti \u548c Flowable \u597d\uff0c\u800c\u4e14\u4ed6\u7684\u793e\u533a\u662f\u6700\u4e0d\u6d3b\u8dc3\u7684\u4e00\u4e2a\uff0c\u6240\u4ee5\u4e0d\u592a\u5efa\u8bae\u4f7f\u7528\u3002\u5f53\u7136\u8fd9\u5e26\u4e86\u5f88\n\u591a\u4e2a\u4eba\u4e3b\u89c2\u611f\u53d7\uff0c\u5982\u6709\u4e0d\u540c\u610f\u89c1\uff0c\u6b22\u8fce\u8ba8\u8bba\uff09\u3002\nFlowable \u9879\u76ee\u63d0\u4f9b\u4e86\u4e00\u7ec4\u6838\u5fc3\u7684\u5f00\u6e90\u4e1a\u52a1\u6d41\u7a0b\u5f15\u64ce\uff0c\u8fd9\u4e9b\u5f15\u64ce\u7d27\u51d1\u4e14\u9ad8\u6548\u3002\u5b83\u4eec\u4e3a\u5f00\u53d1\u4eba\u5458\u3001\u7cfb\u7edf\u7ba1\n\u7406\u5458\u548c\u4e1a\u52a1\u7528\u6237\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5de5\u4f5c\u6d41\u548c\u4e1a\u52a1\u6d41\u7a0b\u7ba1\u7406\uff08BPM\uff09\u5e73\u53f0\u3002\u5b83\u7684\u6838\u5fc3\u662f\u4e00\u4e2a\u975e\u5e38\u5feb\u901f\u4e14\u7ecf\u8fc7\u6d4b\n\u8bd5\u7684\u52a8\u6001 BPMN \u6d41\u7a0b\u5f15\u64ce\u3002\u5b83\u57fa\u4e8e Apache2.0 \u5f00\u6e90\u534f\u8bae\uff0c\u6709\u7a33\u5b9a\u4e14\u7ecf\u8fc7\u8ba4\u8bc1\u7684\u793e\u533a\u3002Flowable \u53ef\u4ee5\n\u5d4c\u5165 Java \u5e94\u7528\u7a0b\u5e8f\u4e2d\u8fd0\u884c\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u670d\u52a1\u5668\u3001\u96c6\u7fa4\u8fd0\u884c\uff0c\u66f4\u53ef\u4ee5\u63d0\u4f9b\u4e91\u670d\u52a1\u3002\n\u5e9f\u8bdd\u4e0d\u591a\u8bf4\u6211\u4eec\u76f4\u63a5\u6765\u4e0a\u624b\u5427\uff01"}),"\n",(0,r.jsx)(n.h2,{id:"\u76f8\u5173\u4f9d\u8d56",children:"\u76f8\u5173\u4f9d\u8d56"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"\x3c!-- \u4e0d\u77e5\u9053\u81ea\u5df1\u9879\u76ee\u9700\u8981\u90a3\u4e9b\u4f9d\u8d56\u7684\u670b\u53cb\u76f4\u63a5\u5f15\u5165\u8fd9\u4e2a --\x3e\n\x3c!-- <dependency>--\x3e\n    \x3c!-- <groupId>org.flowable</groupId>--\x3e\n    \x3c!-- <artifactId>flowable-spring-boot-starter</artifactId>--\x3e\n    \x3c!-- <version>6.7.2</version>--\x3e\n\x3c!-- </dependency>--\x3e\n\n\x3c!-- flowable \u6267\u884c\u5668\uff08\u91cc\u9762\u5305\u542b\u4e86\u5f15\u64ce\u542f\u52a8\u5668\u7b49\u7b49\uff09 --\x3e\n<dependency>\n    <groupId>org.flowable</groupId>\n    <artifactId>flowable-spring-boot-starter-actuator</artifactId>\n    <version>6.7.2</version>\n</dependency>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u9879\u76ee",children:"\u9879\u76ee"}),"\n",(0,r.jsx)(n.p,{children:"\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e\uff08application-flowable.yml\uff09\uff0c\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u8fdb\u884c\u9009\u62e9\u914d\u7f6e\u5c31\u884c\u3002\uff08\u8fd9\u91cc\u53ea\u662f\u4e00\u90e8\u5206\uff0c\n\u592a\u591a\u4e86\u5199\u4e0d\u8d62\uff0c\u6240\u6709\u914d\u7f6e\u6587\u4ef6\u5f15\u5165\u4f9d\u8d56\u540e\u5728 flowable-spring-boot-autoconfigure-6.7.2.jar!\\METAINF\\spring-configuration-metadata.json \u6587\u4ef6\u4e0b\u53ef\u4ee5\u770b\u5230\u6240\u6709\u914d\u7f6e\u6587\u4ef6\u4ee5\u53ca\u8bf4\u660e\uff09\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# flowable \u914d\u7f6e\nflowable:\n  check-process-definitions: true #\u662f\u5426\u9700\u8981\u81ea\u52a8\u90e8\u7f72\u6d41\u7a0b\u5b9a\u4e49\u3002\n  async-executor-activate: true # \u662f\u5426\u542f\u7528\u5f02\u6b65\u6267\u884c\u5668\u3002\n  cmmn:\n    async:\n      executor:\n        async-job-lock-time: 300000 #\u5f02\u6b65\u4f5c\u4e1a\u5728\u88ab\u5f02\u6b65\u6267\u884c\u5668\u53d6\u8d70\u540e\u7684\u9501\u5b9a\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u8ba1\uff09\u3002\u5728\u8fd9\u6bb5\u65f6\u95f4\u5185\uff0c\u5176\u5b83\u5f02\u6b65\u6267\u884c\u5668\u4e0d\u4f1a\u5c1d\u8bd5\u83b7\u53d6\u53ca\u9501\u5b9a\u8fd9\u4e2a\u4efb\u52a1\u3002\n        default-async-job-acquire-wait-time: 10000 #\u5f02\u6b65\u4f5c\u4e1a\u83b7\u53d6\u7ebf\u7a0b\u5728\u8fdb\u884c\u4e0b\u6b21\u83b7\u53d6\u67e5\u8be2\u524d\u7684\u7b49\u5f85\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u8ba1\uff09\u3002\u53ea\u5728\u5f53\u6b21\u6ca1\u6709\u53d6\u5230\u65b0\u7684\u5f02\u6b65\u4f5c\u4e1a\uff0c\u6216\u8005\u53ea\u53d6\u5230\u5f88\u5c11\u7684\u5f02\u6b65\u4f5c\u4e1a\u65f6\u751f\u6548\u3002\u9ed8\u8ba4\u503c= 10 \u79d2\u3002\n        default-queue-size-full-wait-time: 0 #\u5f02\u6b65\u4f5c\u4e1a\uff08\u5305\u62ec\u5b9a\u65f6\u5668\u4f5c\u4e1a\u4e0e\u5f02\u6b65\u6267\u884c\uff09\u83b7\u53d6\u7ebf\u7a0b\u5728\u961f\u5217\u6ee1\u65f6\uff0c\u7b49\u5f85\u6267\u884c\u4e0b\u6b21\u67e5\u8be2\u7684\u7b49\u5f85\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u8ba1\uff09\u3002\u9ed8\u8ba4\u503c\u4e3a0\uff08\u4ee5\u5411\u540e\u517c\u5bb9\uff09\n        default-timer-job-acquire-wait-time: 1000 #\u5b9a\u65f6\u5668\u4f5c\u4e1a\u83b7\u53d6\u7ebf\u7a0b\u5728\u8fdb\u884c\u4e0b\u6b21\u83b7\u53d6\u67e5\u8be2\u524d\u7684\u7b49\u5f85\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u8ba1\uff09\u3002\u53ea\u5728\u5f53\u6b21\u6ca1\u6709\u53d6\u5230\u65b0\u7684\u5b9a\u65f6\u5668\u4f5c\u4e1a\uff0c\u6216\u8005\u53ea\u53d6\u5230\u5f88\u5c11\u7684\u5b9a\u65f6\u5668\u4f5c\u4e1a\u65f6\u751f\u6548\u3002\u9ed8\u8ba4\u503c=10\u79d2\u3002\n        max-async-jobs-due-per-acquisition: 1 # \uff08\u8bd1\u8005\u8865\uff09\u5355\u6b21\u67e5\u8be2\u7684\u5f02\u6b65\u4f5c\u4e1a\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a1\uff0c\u4ee5\u964d\u4f4e\u4e50\u89c2\u9501\u5f02\u5e38\u7684\u53ef\u80fd\u6027\u3002\u9664\u975e\u4f60\u77e5\u9053\u81ea\u5df1\u5728\u505a\u4ec0\u4e48\uff0c\u5426\u5219\u8bf7\u4e0d\u8981\u4fee\u6539\u8fd9\u4e2a\u503c\u3002\n        retry-wait-time: 500 #\u91cd\u8bd5\u7b49\u5f85\u65f6\u95f4\n        timer-lock-time: 300000 #\u5b9a\u65f6\u5668\u4f5c\u4e1a\u5728\u88ab\u5f02\u6b65\u6267\u884c\u5668\u53d6\u8d70\u540e\u7684\u9501\u5b9a\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u8ba1\uff09\u3002\u5728\u8fd9\u6bb5\u65f6\u95f4\u5185\uff0c\u5176\u5b83\u5f02\u6b65\u6267\u884c\u5668\u4e0d\u4f1a\u5c1d\u8bd5\u83b7\u53d6\u53ca\u9501\u5b9a\u8fd9\u4e2a\u4efb\u52a1\u3002\n    deploy-resources: true #\u662f\u5426\u90e8\u7f72\u8d44\u6e90\u3002\u9ed8\u8ba4\u503c\u4e3a true\u3002\n    deployment-name: SpringBootAutoDeployment # CMMN \u8d44\u6e90\u90e8\u7f72\u7684\u540d\u5b57\u3002\n    enable-safe-xml: true # \u5728\u89e3\u6790 CMMN XML \u6587\u4ef6\u65f6\u8fdb\u884c\u989d\u5916\u68c0\u67e5\u3002\u53c2\u89c1 https://www.flowable.org/docs/userguide/index.html#advanced.safe.bpmnxml # \u4e0d\u5e78\u7684\u662f\uff0c\u90e8\u5206\u5e73\u53f0\uff08JDK 6\uff0cJBoss\uff09\u4e0a\u65e0\u6cd5\u4f7f\u7528\u8fd9\u4e2a\u529f\u80fd\uff0c\u56e0\u6b64\u5982\u679c\u4f60\u6240\u7528\u7684\u5e73\u53f0\u5728XML\u89e3\u6790\u65f6\u4e0d\u652f\u6301StaxSource\uff0c\u9700\u8981\u7981\u7528\u8fd9\u4e2a\u529f\u80fd\u3002\n    enabled: false # \u662f\u5426\u542f\u7528 CMMN \u5f15\u64ce\u3002\n    resource-location: classpath*:/cases/ # CMMN \u8d44\u6e90\u7684\u8def\u5f84\u3002\n    resource-suffixes: # **.cmmn,**.cmmn11,**.cmmn.xml,**.cmmn11.xml # \u9700\u8981\u626b\u63cf\u7684\u8d44\u6e90\u540e\u7f00\u540d\u3002\n    servlet:\n      load-on-startup: -1 # \u542f\u52a8\u65f6\u52a0\u8f7d CMMN servlet\u3002\n      name: Flowable CMMN Rest API # CMMN servlet \u7684\u540d\u5b57\u3002\n      path: /cmmn-api # CMMN servlet \u7684 context path\u3002\n  content:\n    enabled: false # \u662f\u5426\u542f\u52a8 Content \u5f15\u64ce\u3002\n    servlet:\n      load-on-startup: -1 # \u542f\u52a8\u65f6\u52a0\u8f7d Content servlet\u3002\n      name: Flowable Content Rest API # Content servlet \u7684\u540d\u5b57\u3002\n      path: /content-api # Content servlet \u7684 context path\u3002\n    storage:\n      create-root: true # \u5982\u679c\u6839\u8def\u5f84\u4e0d\u5b58\u5728\uff0c\u662f\u5426\u9700\u8981\u521b\u5efa\uff1f\n      root-folder: # \u5b58\u50a8 content \u6587\u4ef6\uff08\u5982\u4e0a\u4f20\u7684\u4efb\u52a1\u9644\u4ef6\uff0c\u6216\u8868\u5355\u6587\u4ef6\uff09\u7684\u6839\u8def\u5f84\u3002\n  custom-mybatis-mappers: # \u9700\u8981\u6dfb\u52a0\u81f3\u5f15\u64ce\u7684\u81ea\u5b9a\u4e49 Mybatis \u6620\u5c04\u7684 FQN\u3002\n  custom-mybatis-x-m-l-mappers: # \u9700\u8981\u6dfb\u52a0\u81f3\u5f15\u64ce\u7684\u81ea\u5b9a\u4e49 Mybatis XML \u6620\u5c04\u7684\u8def\u5f84\u3002\n  database-schema: # \u5982\u679c\u6570\u636e\u5e93\u8fd4\u56de\u7684\u5143\u6570\u636e\u4e0d\u6b63\u786e\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u8bbe\u7f6e schema \u7528\u4e8e\u68c0\u6d4b/\u751f\u6210\u8868\u3002\n  database-schema-update: true # \u6570\u636e\u5e93 schema \u66f4\u65b0\u7b56\u7565\u3002\n  db-history-used: true # \u662f\u5426\u8981\u4f7f\u7528 db \u5386\u53f2\u3002\n  deployment-name: SpringBootAutoDeployment # \u81ea\u52a8\u90e8\u7f72\u7684\u540d\u79f0\u3002\n  dmn:\n    deploy-resources: true # \u662f\u5426\u90e8\u7f72\u8d44\u6e90\u3002\u9ed8\u8ba4\u4e3a true\u3002\n    deployment-name: SpringBootAutoDeployment # DMN \u8d44\u6e90\u90e8\u7f72\u7684\u540d\u5b57\u3002\n    enable-safe-xml: true # \u5728\u89e3\u6790 DMN XML \u6587\u4ef6\u65f6\u8fdb\u884c\u989d\u5916\u68c0\u67e5\u3002\u53c2\u89c1 https://www.flowable.org/docs/userguide/index.html#advanced.safe.bpmn.xml\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u90e8\u5206\u5e73\u53f0\uff08JDK 6\uff0cJBoss \uff09\u4e0a\u65e0\u6cd5\u4f7f\u7528\u8fd9\u4e2a\u529f\u80fd\uff0c\u56e0\u6b64\u5982\u679c\u4f60\u6240\u7528\u7684\u5e73\u53f0\u5728XML\u89e3\u6790\u65f6\u4e0d\u652f\u6301StaxSource\uff0c\u9700\u8981\u7981\u7528\u8fd9\u4e2a\u529f\u80fd\u3002\n    enabled: false # \u662f\u5426\u542f\u7528 DMN \u5f15\u64ce\u3002\n    history-enabled: false # \u662f\u5426\u542f\u7528 DMN \u5f15\u64ce\u7684\u5386\u53f2\u3002\n    resource-location: classpath*:/dmn/ # DMN \u8d44\u6e90\u7684\u8def\u5f84\u3002\n    resource-suffixes: # **.dmn,**.dmn.xml,**.dmn11,**.dmn11.xml # \u9700\u8981\u626b\u63cf\u7684\u8d44\u6e90\u540e\u7f00\u540d\u3002\n    servlet:\n      load-on-startup: -1 # \u542f\u52a8\u65f6\u52a0\u8f7d DMN servlet\u3002\n      name: Flowable DMN Rest API # DMN servlet \u7684\u540d\u5b57\u3002\n      path: /dmn-api # DMN servlet \u7684 context path\u3002\n    strict-mode: true # \u5982\u679c\u5e0c\u671b\u907f\u514d\u6289\u62e9\u8868\u547d\u4e2d\u7b56\u7565\u68c0\u67e5\u5bfc\u81f4\u5931\u8d25\uff0c\u53ef\u4ee5\u5c06\u672c\u53c2\u6570\u8bbe\u7f6e\u4e3a false\u3002\u5982\u679c\u68c0\u67e5\u53d1\u73b0\u4e86\u9519\u8bef\uff0c\u4f1a\u76f4\u63a5\u8fd4\u56de\u9519\u8bef\u524d\u4e00\u523b\u7684\u4e2d\u95f4\u7ed3\u679c\u3002\n  form:\n    deploy-resources: true # \u662f\u5426\u90e8\u7f72\u8d44\u6e90\u3002\u9ed8\u8ba4\u4e3a true\u3002\n    deployment-name: SpringBootAutoDeployment # Form \u8d44\u6e90\u90e8\u7f72\u7684\u540d\u5b57\u3002\n    enabled: false # \u662f\u5426\u542f\u7528 Form \u5f15\u64ce\u3002\n    resource-location: classpath*:/forms/ # Form \u8d44\u6e90\u7684\u8def\u5f84\u3002\n    resource-suffixes: # **.form # \u9700\u8981\u626b\u63cf\u7684\u8d44\u6e90\u540e\u7f00\u540d\u3002\n    servlet:\n      load-on-startup: -1 # \u542f\u52a8\u65f6\u52a0\u8f7d Form servlet\u3002\n      name: Flowable Form Rest API # Form servlet \u7684\u540d\u5b57\u3002\n      path: /form-api # Form servlet \u7684 context path\u3002\n  history-level: audit # \u8981\u4f7f\u7528\u7684\u5386\u53f2\u7ea7\u522b\u3002\n  idm:\n    enabled: false # \u662f\u5426\u542f\u7528IDM\u5f15\u64ce\u3002\n    ldap:\n      attribute:\n        email: # \u7528\u6237 email \u7684\u5c5e\u6027\u540d\u3002\n        first-name: # \u7528\u6237\u540d\u5b57\u7684\u5c5e\u6027\u540d\u3002\n        group-id: # \u7528\u6237\u7ec4 ID \u7684\u5c5e\u6027\u540d\u3002\n        group-name: # \u7528\u6237\u7ec4\u540d\u7684\u5c5e\u6027\u540d\u3002\n        group-type: # \u7528\u6237\u7ec4\u7c7b\u578b\u7684\u5c5e\u6027\u540d\u3002\n        last-name: # \u7528\u6237\u59d3\u7684\u5c5e\u6027\u540d\u3002\n        user-id: # \u7528\u6237 ID \u7684\u5c5e\u6027\u540d\u3002\n      base-dn: # \u67e5\u627e\u7528\u6237\u4e0e\u7ec4\u7684 DN\uff08\u6807\u5fd7\u540d\u79f0 distinguished name\uff09\u3002\n      cache:\n        group-size: -1 # \u8bbe\u7f6e{@link org.flowable.ldap.LDAPGroupCache}\u7684\u5927\u5c0f\u3002\u8fd9\u662f LRU \u7f13\u5b58\uff0c\u7528\u4e8e\u7f13\u5b58\u7528\u6237\u53ca\u7ec4\uff0c\u4ee5\u907f\u514d\u6bcf\u6b21\u90fd\u67e5\u8be2 LDAP \u7cfb\u7edf\u3002\n      custom-connection-parameters: # \u7528\u4e8e\u8bbe\u7f6e\u6240\u6709\u6ca1\u6709\u4e13\u7528 setter \u7684 LDAP \u8fde\u63a5\u53c2\u6570\u3002\u67e5\u770b http://docs.oracle.com/javase/tutorial/jndi/ldap/jndi.html \u4ecb\u7ecd\u7684\u81ea\u5b9a\u4e49\u53c2\u6570\u3002\u53c2\u6570\u5305\u62ec\u914d\u7f6e\u94fe\u63a5\u6c60\uff0c\u5b89\u5168\u8bbe\u7f6e\uff0c\u7b49\u7b49\u3002\n      enabled: false # \u662f\u5426\u542f\u7528 LDAP IDM \u670d\u52a1\u3002\n      group-base-dn: # \u7ec4\u67e5\u627e\u7684 DN\u3002\n      initial-context-factory: com.sun.jndi.ldap.LdapCtxFactory # \u521d\u59cb\u5316\u4e0a\u4e0b\u6587\u5de5\u5382\u7684\u7c7b\u540d\u3002\n      password: # \u8fde\u63a5 LDAP \u7cfb\u7edf\u7684\u5bc6\u7801\u3002\n      port: -1 # LDAP \u7cfb\u7edf\u7684\u7aef\u53e3\u3002\n      query:\n        all-groups: # \u67e5\u8be2\u6240\u6709\u7ec4\u6240\u7528\u7684\u8bed\u53e5\u3002\n        all-users: # \u67e5\u8be2\u6240\u6709\u7528\u6237\u6240\u7528\u7684\u8bed\u53e5\u3002\n        groups-for-user: # \u6309\u7167\u6307\u5b9a\u7528\u6237\u67e5\u8be2\u6240\u5c5e\u7ec4\u6240\u7528\u7684\u8bed\u53e5\n        user-by-full-name-like: # \u6309\u7167\u7ed9\u5b9a\u5168\u540d\u67e5\u627e\u7528\u6237\u6240\u7528\u7684\u8bed\u53e5\u3002\n        user-by-id: # \u6309\u7167 userId \u67e5\u627e\u7528\u6237\u6240\u7528\u7684\u8bed\u53e5\u3002\n      search-time-limit: 0 # \u67e5\u8be2 LDAP \u7684\u8d85\u65f6\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u8ba1\uff09\u3002\u9ed8\u8ba4\u503c\u4e3a0\uff0c\u5373\u201c\u4e00\u76f4\u7b49\u5f85\u201d\u3002\n      security-authentication: simple # \u8fde\u63a5 LDAP \u7cfb\u7edf\u6240\u7528\u7684 java.naming.security.authentication \u53c2\u6570\u7684\u503c\u3002\n      server: # LDAP \u7cfb\u7edf\u7684\u4e3b\u673a\u540d\u3002\u5982 ldap://localhost\u3002\n      user: # \u8fde\u63a5 LDAP \u7cfb\u7edf\u7684\u7528\u6237 ID\u3002\n      user-base-dn: # \u67e5\u627e\u7528\u6237\u7684 DN\u3002\n    password-encoder: # \u4f7f\u7528\u7684\u5bc6\u7801\u7f16\u7801\u7c7b\u578b\u3002\n    servlet:\n      load-on-startup: -1 # \u542f\u52a8\u65f6\u52a0\u8f7d IDM servlet\u3002\n      name: Flowable IDM Rest API # IDM servlet \u7684\u540d\u5b57\u3002\n      path: /idm-api # IDM servlet \u7684 context path\u3002\n  mail:\n    server:\n      default-from: flowable@localhost # \u53d1\u9001\u90ae\u4ef6\u65f6\u4f7f\u7528\u7684\u9ed8\u8ba4\u53d1\u4fe1\u4eba\u5730\u5740\u3002\n      host: localhost # \u90ae\u4ef6\u670d\u52a1\u5668\u3002\n      password: # \u90ae\u4ef6\u670d\u52a1\u5668\u7684\u767b\u5f55\u5bc6\u7801\u3002\n      port: 1025 # \u90ae\u4ef6\u670d\u52a1\u5668\u7684\u7aef\u53e3\u53f7\u3002\n      use-ssl: false # \u662f\u5426\u4f7f\u7528 SSL/TLS \u52a0\u5bc6 SMTP \u4f20\u8f93\u8fde\u63a5\uff08\u5373 SMTPS/POPS)\u3002\n      use-tls: false # \u4f7f\u7528\u6216\u7981\u7528 STARTTLS \u52a0\u5bc6\u3002\n      username: # \u90ae\u4ef6\u670d\u52a1\u5668\u7684\u767b\u5f55\u7528\u6237\u540d\u3002\u5982\u679c\u4e3a\u7a7a\uff0c\u5219\u4e0d\u9700\u8981\u767b\u5f55\u3002\n  process:\n    async:\n      executor:\n        async-job-lock-time: 300000 # \u5f02\u6b65\u4f5c\u4e1a\u5728\u88ab\u5f02\u6b65\u6267\u884c\u5668\u53d6\u8d70\u540e\u7684\u9501\u5b9a\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u8ba1\uff09\u3002\u5728\u8fd9\u6bb5\u65f6\u95f4\u5185\uff0c\u5176\u5b83\u5f02\u6b65\u6267\u884c\u5668\u4e0d\u4f1a\u5c1d\u8bd5\u83b7\u53d6\u53ca\u9501\u5b9a\u8fd9\u4e2a\u4efb\u52a1\u3002\n        default-async-job-acquire-wait-time: 10000 # \u5f02\u6b65\u4f5c\u4e1a\u83b7\u53d6\u7ebf\u7a0b\u5728\u8fdb\u884c\u4e0b\u6b21\u83b7\u53d6\u67e5\u8be2\u524d\u7684\u7b49\u5f85\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u8ba1\uff09\u3002\u53ea\u5728\u5f53\u6b21\u6ca1\u6709\u53d6\u5230\u65b0\u7684\u5f02\u6b65\u4f5c\u4e1a\uff0c\u6216\u8005\u53ea\u53d6\u5230\u5f88\u5c11\u7684\u5f02\u6b65\u4f5c\u4e1a\u65f6\u751f\u6548\u3002\u9ed8\u8ba4\u503c= 10 \u79d2\u3002\n        default-queue-size-full-wait-time: 0 # \u5f02\u6b65\u4f5c\u4e1a\uff08\u5305\u62ec\u5b9a\u65f6\u5668\u4f5c\u4e1a\u4e0e\u5f02\u6b65\u6267\u884c\uff09\u83b7\u53d6\u7ebf\u76ee\u5f55\n        default-queue-size-full-wait-time: 0 # \u5f02\u6b65\u4f5c\u4e1a\uff08\u5305\u62ec\u5b9a\u65f6\u5668\u4f5c\u4e1a\u4e0e\u5f02\u6b65\u6267\u884c\uff09\u83b7\u53d6\u7ebf\u7a0b\u5728\u961f\u5217\u6ee1\u65f6\uff0c\u7b49\u5f85\u6267\u884c\u4e0b\u6b21\u67e5\u8be2\u7684\u7b49\u5f85\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u8ba1\uff09\u3002\u9ed8\u8ba4\u503c\u4e3a0\uff08\u4ee5\u5411\u540e\u517c\u5bb9\uff09\n        default-timer-job-acquire-wait-time: 10000 # \u5b9a\u65f6\u5668\u4f5c\u4e1a\u83b7\u53d6\u7ebf\u7a0b\u5728\u8fdb\u884c\u4e0b\u6b21\u83b7\u53d6\u67e5\u8be2\u524d\u7684\u7b49\u5f85\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u8ba1\uff09\u3002\u53ea\u5728\u5f53\u6b21\u6ca1\u6709\u53d6\u5230\u65b0\u7684\u5b9a\u65f6\u5668\u4f5c\u4e1a\uff0c\u6216\u8005\u53ea\u53d6\u5230\u5f88\u5c11\u7684\u5b9a\u65f6\u5668\u4f5c\u4e1a\u65f6\u751f\u6548\u3002\u9ed8\u8ba4\u503c= 10\u79d2\u3002\n        max-async-jobs-due-per-acquisition: 1 # \uff08\u8bd1\u8005\u8865\uff09\u5355\u6b21\u67e5\u8be2\u7684\u5f02\u6b65\u4f5c\u4e1a\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a1\uff0c\u4ee5\u964d\u4f4e\u4e50\u89c2\u9501\u5f02\u5e38\u7684\u53ef\u80fd\u6027\u3002\u9664\u975e\u4f60\u77e5\u9053\u81ea\u5df1\u5728\u505a\u4ec0\u4e48\uff0c\u5426\u5219\u8bf7\u4e0d\u8981\u4fee\u6539\u8fd9\u4e2a\u503c\u3002\n        retry-wait-time: 500 # \u91cd\u8bd5\u7b49\u5f85\u65f6\u95f4\n        timer-lock-time: 300000 # \u5b9a\u65f6\u5668\u4f5c\u4e1a\u5728\u88ab\u5f02\u6b65\u6267\u884c\u5668\u53d6\u8d70\u540e\u7684\u9501\u5b9a\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u8ba1\uff09\u3002\u5728\u8fd9\u6bb5\u65f6\u95f4\u5185\uff0c\u5176\u5b83\u5f02\u6b65\u6267\u884c\u5668\u4e0d\u4f1a\u5c1d\u8bd5\u83b7\u53d6\u53ca\u9501\u5b9a\u8fd9\u4e2a\u4efb\u52a1\u3002\n    definition-cache-limit: -1 # \u6d41\u7a0b\u5b9a\u4e49\u7f13\u5b58\u4e2d\u4fdd\u5b58\u6d41\u7a0b\u5b9a\u4e49\u7684\u6700\u5927\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a-1\uff08\u7f13\u5b58\u6240\u6709\u6d41\u7a0b\u5b9a\u4e49\uff09\u3002\n    enable-safe-xml: true # \u5728\u89e3\u6790 BPMN XML \u6587\u4ef6\u65f6\u8fdb\u884c\u989d\u5916\u68c0\u67e5\u3002\u53c2\u89c1 https://www.flowable.org/docs/userguide/index.html#advanced.safe.bpmn.xml\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u90e8\u5206\u5e73\u53f0\uff08JDK 6\uff0cJBoss \uff09\u4e0a\u65e0\u6cd5\u4f7f\u7528\u8fd9\u4e2a\u529f\u80fd\uff0c\u56e0\u6b64\u5982\u679c\u4f60\u6240\u7528\u7684\u5e73\u53f0\u5728XML\u89e3\u6790\u65f6\u4e0d\u652f\u6301StaxSource\uff0c\u9700\u8981\u7981\u7528\u8fd9\u4e2a\u529f\u80fd\u3002\n    servlet:\n      load-on-startup: -1 # \u542f\u52a8\u65f6\u52a0\u8f7dP rocess servlet\u3002\n      name: Flowable BPMN Rest API # Process servlet \u7684\u540d\u5b57\u3002\n      path: /process-api # Process servelet \u7684 context path\u3002\n  process-definition-location-prefix: classpath*:/processes/ # \u81ea\u52a8\u90e8\u7f72\u65f6\u67e5\u627e\u6d41\u7a0b\u7684\u76ee\u5f55\u3002\n  process-definition-location-suffixes: # **.bpmn20.xml,**.bpmn # processDefinitionLocationPrefix\u8def\u5f84\u4e0b\u9700\u8981\u90e8\u7f72\u7684\u6587\u4ef6\u7684\u540e\u7f00\uff08\u6269\u5c55\u540d\uff09\u3002\n\nmanagement:\n  endpoint:\n    flowable:\n      # cache:\n        # time-to-live: 0ms # \u7f13\u5b58\u54cd\u5e94\u7684\u6700\u5927\u65f6\u95f4\u3002\n      enabled: true # \u662f\u5426\u542f\u7528 flowable \u7aef\u70b9\u3002\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5230\u8fd9\u91cc\u4f60\u4e00\u53e5\u4ee3\u7801\u90fd\u4e0d\u7528\u5199\u76f4\u63a5\u542f\u52a8\u9879\u76ee\uff0c\u9879\u76ee\u542f\u52a8\u5b8c\u6210\u540e\u4f60\u4f1a\u53d1\u73b0\u4f60\u6570\u636e\u5e93\u4e2d\u591a\u4e86\u4e00\u4e9b\u4ee5 ACT \u5f00\u5934\n\u7684\u8868\uff0c\u8fd9\u4e9b\u5c31\u662f Flowable \u5f15\u64ce\u6240\u9700\u8981\u7684\u4e00\u4e9b\u9ed8\u8ba4\u5f15\u64ce\u652f\u6491\u8868\u3002\uff08\u6709\u53ef\u80fd\u6839\u636e\u4f60\u5f15\u5165\u7684\u7248\u672c\u4e0d\u540c\u6216\u8005\u4f9d\n\u8d56\u4e0d\u540c\u6240\u751f\u6210\u7684\u8868\u4e0d\u540c\uff0c\u4e0d\u9700\u8981\u5927\u60ca\u5c0f\u602a\uff09\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u90e8\u5206\u6838\u5fc3\u8868\u8bf4\u660e",children:"\u90e8\u5206\u6838\u5fc3\u8868\u8bf4\u660e\uff1a"}),"\n",(0,r.jsx)(n.p,{children:"1\u3001Flowable \u7684\u6240\u6709\u6570\u636e\u5e93\u8868\u90fd\u4ee5ACT_\u5f00\u5934\u3002\u7b2c\u4e8c\u90e8\u5206\u662f\u8bf4\u660e\u8868\u7528\u9014\u7684\u4e24\u5b57\u7b26\u6807\u793a\u7b26\u3002\u670d\u52a1API\u7684\u547d\u540d\u4e5f\u5927\u7565\u7b26\u5408\u8fd9\u4e2a\u89c4\u5219\u3002\n2\u3001ACT_RE_: 'RE\u2019\u4ee3\u8868repository\u3002\u5e26\u6709\u8fd9\u4e2a\u524d\u7f00\u7684\u8868\u5305\u542b\u201c\u9759\u6001\u201d\u4fe1\u606f\uff0c\u4f8b\u5982\u6d41\u7a0b\u5b9a\u4e49\u4e0e\u6d41\u7a0b\u8d44\u6e90\uff08\u56fe\u7247\u3001\u89c4\u5219\u7b49\uff09\u3002\n3\u3001ACT_RU_: 'RU\u2019\u4ee3\u8868 runtime\u3002\u8fd9\u4e9b\u8868\u5b58\u50a8\u8fd0\u884c\u65f6\u4fe1\u606f\uff0c\u4f8b\u5982\u6d41\u7a0b\u5b9e\u4f8b\uff08process instance\uff09\u3001\u7528\u6237\u4efb\u52a1\uff08user task\uff09\u3001\u53d8\u91cf\uff08variable\uff09\u3001\u4f5c\u4e1a\uff08job\uff09\u7b49\u3002Flowable \u53ea\u5728\u6d41\u7a0b\u5b9e\u4f8b\u8fd0\u884c\u4e2d\u4fdd\u5b58\u8fd0\u884c\u65f6\u6570\u636e\uff0c\u5e76\u5728\u6d41\u7a0b\u5b9e\u4f8b\u7ed3\u675f\u65f6\u5220\u9664\u8bb0\u5f55\u3002\u8fd9\u6837\u4fdd\u8bc1\u8fd0\u884c\u65f6\u8868\u5c0f\u548c\u5feb\u3002\n4\u3001ACT_HI_: 'HI\u2019\u4ee3\u8868history\u3002\u8fd9\u4e9b\u8868\u5b58\u50a8\u5386\u53f2\u6570\u636e\uff0c\u4f8b\u5982\u5df2\u5b8c\u6210\u7684\u6d41\u7a0b\u5b9e\u4f8b\u3001\u53d8\u91cf\u3001\u4efb\u52a1\u7b49\u3002\n5\u3001ACT_GE_: \u901a\u7528\u6570\u636e\u3002\u5728\u591a\u5904\u4f7f\u7528\u3002"}),"\n",(0,r.jsx)(n.p,{children:"1\uff09\u901a\u7528\u6570\u636e\u8868"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"act_ge_bytearray\uff1a\u4e8c\u8fdb\u5236\u6570\u636e\u8868\uff0c\u5982\u6d41\u7a0b\u5b9a\u4e49\u3001\u6d41\u7a0b\u6a21\u677f\u3001\u6d41\u7a0b\u56fe\u7684\u5b57\u8282\u6d41\u6587\u4ef6\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_ge_property\uff1a\u5c5e\u6027\u6570\u636e\u8868\uff08\u4e0d\u5e38\u7528\uff09\uff1b"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"2\uff09\u5386\u53f2\u8868\uff08HistoryService\u63a5\u53e3\u64cd\u4f5c\u7684\u8868\uff09"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"act_hi_actinst\uff1a\u5386\u53f2\u8282\u70b9\u8868\uff0c\u5b58\u653e\u6d41\u7a0b\u5b9e\u4f8b\u8fd0\u8f6c\u7684\u5404\u4e2a\u8282\u70b9\u4fe1\u606f\uff08\u5305\u542b\u5f00\u59cb\u3001\u7ed3\u675f\u7b49\u975e\u4efb\u52a1\u8282\u70b9\uff09\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_hi_attachment\uff1a\u5386\u53f2\u9644\u4ef6\u8868\uff0c\u5b58\u653e\u5386\u53f2\u8282\u70b9\u4e0a\u4f20\u7684\u9644\u4ef6\u4fe1\u606f\uff08\u4e0d\u5e38\u7528\uff09\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_hi_comment\uff1a\u5386\u53f2\u610f\u89c1\u8868\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_hi_detail\uff1a\u5386\u53f2\u8be6\u60c5\u8868\uff0c\u5b58\u50a8\u8282\u70b9\u8fd0\u8f6c\u7684\u4e00\u4e9b\u4fe1\u606f\uff08\u4e0d\u5e38\u7528\uff09\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_hi_identitylink\uff1a\u5386\u53f2\u6d41\u7a0b\u4eba\u5458\u8868\uff0c\u5b58\u50a8\u6d41\u7a0b\u5404\u8282\u70b9\u5019\u9009\u3001\u529e\u7406\u4eba\u5458\u4fe1\u606f\uff0c\u5e38\u7528\u4e8e\u67e5\u8be2\u67d0\u4eba\u6216\u90e8\u95e8\u7684\u5df2\u529e\u4efb\u52a1\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_hi_procinst\uff1a\u5386\u53f2\u6d41\u7a0b\u5b9e\u4f8b\u8868\uff0c\u5b58\u50a8\u6d41\u7a0b\u5b9e\u4f8b\u5386\u53f2\u6570\u636e\uff08\u5305\u542b\u6b63\u5728\u8fd0\u884c\u7684\u6d41\u7a0b\u5b9e\u4f8b\uff09\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_hi_taskinst\uff1a\u5386\u53f2\u6d41\u7a0b\u4efb\u52a1\u8868\uff0c\u5b58\u50a8\u5386\u53f2\u4efb\u52a1\u8282\u70b9\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_hi_varinst\uff1a\u6d41\u7a0b\u5386\u53f2\u53d8\u91cf\u8868\uff0c\u5b58\u50a8\u6d41\u7a0b\u5386\u53f2\u8282\u70b9\u7684\u53d8\u91cf\u4fe1\u606f\uff1b"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"3\uff09\u7528\u6237\u76f8\u5173\u8868\uff08IdentityService \u63a5\u53e3\u64cd\u4f5c\u7684\u8868\uff09"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"act_id_group\uff1a\u7528\u6237\u7ec4\u4fe1\u606f\u8868\uff0c\u5bf9\u5e94\u8282\u70b9\u9009\u5b9a\u5019\u9009\u7ec4\u4fe1\u606f\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_id_info\uff1a\u7528\u6237\u6269\u5c55\u4fe1\u606f\u8868\uff0c\u5b58\u50a8\u7528\u6237\u6269\u5c55\u4fe1\u606f\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_id_membership\uff1a\u7528\u6237\u4e0e\u7528\u6237\u7ec4\u5173\u7cfb\u8868\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_id_user\uff1a\u7528\u6237\u4fe1\u606f\u8868\uff0c\u5bf9\u5e94\u8282\u70b9\u9009\u5b9a\u529e\u7406\u4eba\u6216\u5019\u9009\u4eba\u4fe1\u606f\uff1b"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"4\uff09\u6d41\u7a0b\u5b9a\u4e49\u3001\u6d41\u7a0b\u6a21\u677f\u76f8\u5173\u8868\uff08RepositoryService \u63a5\u53e3\u64cd\u4f5c\u7684\u8868\uff09"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"act_re_deployment\uff1a\u90e8\u5c5e\u4fe1\u606f\u8868\uff0c\u5b58\u50a8\u6d41\u7a0b\u5b9a\u4e49\u3001\u6a21\u677f\u90e8\u7f72\u4fe1\u606f\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_re_procdef\uff1a\u6d41\u7a0b\u5b9a\u4e49\u4fe1\u606f\u8868\uff0c\u5b58\u50a8\u6d41\u7a0b\u5b9a\u4e49\u76f8\u5173\u63cf\u8ff0\u4fe1\u606f\uff0c\u4f46\u5176\u771f\u6b63\u5185\u5bb9\u5b58\u50a8\u5728"}),"\n",(0,r.jsx)(n.li,{children:"act_ge_bytearray\u8868\u4e2d\uff0c\u4ee5\u5b57\u8282\u5f62\u5f0f\u5b58\u50a8\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_re_model\uff1a\u6d41\u7a0b\u6a21\u677f\u4fe1\u606f\u8868\uff0c\u5b58\u50a8\u6d41\u7a0b\u6a21\u677f\u76f8\u5173\u63cf\u8ff0\u4fe1\u606f\uff0c\u4f46\u5176\u771f\u6b63\u5185\u5bb9\u5b58\u50a8\u5728"}),"\n",(0,r.jsx)(n.li,{children:"act_ge_bytearray\u8868\u4e2d\uff0c\u4ee5\u5b57\u8282\u5f62\u5f0f\u5b58\u50a8\uff1b"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"5\uff09\u6d41\u7a0b\u8fd0\u884c\u65f6\u8868\uff08RuntimeService \u63a5\u53e3\u64cd\u4f5c\u7684\u8868\uff09"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"act_ru_task\uff1a\u8fd0\u884c\u65f6\u6d41\u7a0b\u4efb\u52a1\u8282\u70b9\u8868\uff0c\u5b58\u50a8\u8fd0\u884c\u4e2d\u6d41\u7a0b\u7684\u4efb\u52a1\u8282\u70b9\u4fe1\u606f\uff0c\u91cd\u8981\uff0c\u5e38\u7528\u4e8e\u67e5\u8be2\u4eba\u5458\u6216\u90e8\u95e8\u7684\u5f85\u529e\u4efb\u52a1\u65f6\u4f7f\u7528\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_ru_event_subscr\uff1a\u76d1\u542c\u4fe1\u606f\u8868\uff0c\u4e0d\u5e38\u7528\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_ru_execution\uff1a\u8fd0\u884c\u65f6\u6d41\u7a0b\u6267\u884c\u5b9e\u4f8b\u8868\uff0c\u8bb0\u5f55\u8fd0\u884c\u4e2d\u6d41\u7a0b\u8fd0\u884c\u7684\u5404\u4e2a\u5206\u652f\u4fe1\u606f\uff08\u5f53\u6ca1\u6709\u5b50\u6d41\u7a0b\u65f6\uff0c\u5176\u6570\u636e\u4e0eact_ru_task\u8868\u6570\u636e\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\uff09\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_ru_identitylink\uff1a\u8fd0\u884c\u65f6\u6d41\u7a0b\u4eba\u5458\u8868\uff0c\u91cd\u8981\uff0c\u5e38\u7528\u4e8e\u67e5\u8be2\u4eba\u5458\u6216\u90e8\u95e8\u7684\u5f85\u529e\u4efb\u52a1\u65f6\u4f7f\u7528\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_ru_job\uff1a\u8fd0\u884c\u65f6\u5b9a\u65f6\u4efb\u52a1\u6570\u636e\u8868\uff0c\u5b58\u50a8\u6d41\u7a0b\u7684\u5b9a\u65f6\u4efb\u52a1\u4fe1\u606f\uff1b"}),"\n",(0,r.jsx)(n.li,{children:"act_ru_variable\uff1a\u8fd0\u884c\u65f6\u6d41\u7a0b\u53d8\u91cf\u6570\u636e\u8868\uff0c\u5b58\u50a8\u8fd0\u884c\u4e2d\u7684\u6d41\u7a0b\u5404\u8282\u70b9\u7684\u53d8\u91cf\u4fe1\u606f\uff1b"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u4ee3\u7801\u90e8\u5206",children:"\u4ee3\u7801\u90e8\u5206"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u4e0a\u9762\u4ecb\u7ecd\u6d41\u7a0b\u5f15\u64ce\u76f8\u5173\u8868\u7684\u65f6\u5019\u6709\u63d0\u5230\u51e0\u4e2a\u63a5\u53e3\uff0c",(0,r.jsx)(n.code,{children:"HistoryService"}),"\u3001",(0,r.jsx)(n.code,{children:"IdentityService"}),"\u3001\n",(0,r.jsx)(n.code,{children:"RepositoryService"}),"\u3001",(0,r.jsx)(n.code,{children:"RuntimeService"})," \u8fd9\u51e0\u4e2a\u63a5\u53e3\u5c31\u662f\u6211\u4eec\u5728\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"Flowable"})," \u6d41\u7a0b\u5f15\u64ce\u65f6\u6700\u957f\u4f7f\u7528\u7684\u51e0\u4e2a\n\u63a5\u53e3\u4e86\uff0c\u4e5f\u662f ",(0,r.jsx)(n.code,{children:"Flowable"})," \u6d41\u7a0b\u5f15\u6700\u6838\u5fc3\u7684\u51e0\u4e2a\u63a5\u53e3\u4e86\u3002\u6211\u4eec\u5f88\u591a\u65f6\u5019\u8fdb\u884c\u9700\u6c42\u5f00\u53d1\uff0c\u90fd\u662f\u56f4\u7ed5\u7740\u8fd9\u51e0\u4e2a\n\u63a5\u53e3\u5f00\u53d1\u7684\uff0c\u8fd9\u51e0\u4e2a\u63a5\u53e3\u5df2\u7ecf\u6ee1\u8db3\u5927\u591a\u6570\u7684\u9700\u6c42\u5f00\u53d1\u4e86\uff08\u6df1\u5ea6\u5b9a\u5236\u9664\u5916\uff09\u3002\n\u5e38\u7528 ",(0,r.jsx)(n.code,{children:"Flowable"})," \u6d41\u7a0b\u670d\u52a1\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'package com.light.cloud.flowable;\n\nimport java.io.InputStream;\nimport java.util.Map;\n\nimport jakarta.annotation.Resource;\n\nimport org.flowable.engine.DynamicBpmnService;\nimport org.flowable.engine.FormService;\nimport org.flowable.engine.HistoryService;\nimport org.flowable.engine.IdentityService;\nimport org.flowable.engine.ManagementService;\nimport org.flowable.engine.ProcessEngine;\nimport org.flowable.engine.ProcessMigrationService;\nimport org.flowable.engine.RepositoryService;\nimport org.flowable.engine.RuntimeService;\nimport org.flowable.engine.TaskService;\nimport org.flowable.engine.repository.Deployment;\nimport org.flowable.engine.runtime.ProcessInstance;\n\n/**\n * \u6d41\u7a0b\u5e38\u7528\u670d\u52a1\u5f15\u64ce\n *\n * @author Hui Liu\n * @date 2023/8/11\n */\npublic class FlowableServiceFactory {\n\n    public static final String BPMN_FILE_SUFFIX = ".bpmn20.xml";\n\n    /**\n     * \u63d0\u4f9b\u5bf9\u6d41\u7a0b\u5b9a\u4e49\u548c\u90e8\u7f72\u5b58\u50a8\u5e93\u7684\u8bbf\u95ee\u7684\u670d\u52a1\n     */\n    @Resource\n    protected RepositoryService repositoryService;\n    /**\n     * \u6d41\u7a0b\u6267\u884c\u670d\u52a1\n     */\n    @Resource\n    protected RuntimeService runtimeService;\n    /**\n     * \u7ba1\u7406\u7528\u6237\u548c\u7ec4\u7684\u670d\u52a1\n     */\n    @Resource\n    protected IdentityService identityService;\n    /**\n     * \u63d0\u4f9b\u8bbf\u95ee\u4efb\u52a1\u548c\u8868\u5355\u76f8\u5173\u64cd\u4f5c\u7684\u670d\u52a1\n     */\n    @Resource\n    protected TaskService taskService;\n    /**\n     * \u8bbf\u95ee\u8868\u5355\u6570\u636e\u548c\u5448\u73b0\u7684\u8868\u5355\u4ee5\u542f\u52a8\u65b0\u6d41\u7a0b\u5b9e\u4f8b\u548c\u5b8c\u6210\u4efb\u52a1\n     */\n    @Resource\n    protected FormService formService;\n    /**\n     * \u670d\u52a1\u516c\u5f00\u6709\u5173\u6b63\u5728\u8fdb\u884c\u7684\u548c\u8fc7\u53bb\u7684\u6d41\u7a0b\u5b9e\u4f8b\u7684\u4fe1\u606f\u3002\n     * \u8fd9\u4e0e\u8fd0\u884c\u65f6\u4fe1\u606f\u4e0d\u540c\uff0c\u56e0\u4e3a\u8fd0\u884c\u65f6\u4fe1\u606f\u4ec5\u5305\u542b\u4efb\u4f55\u7ed9\u5b9a\u65f6\u523b\u7684\u5b9e\u9645\u8fd0\u884c\u65f6\u72b6\u6001\uff0c\n     * \u5e76\u4e14\u9488\u5bf9\u8fd0\u884c\u65f6\u6d41\u7a0b\u6267\u884c\u6027\u80fd\u8fdb\u884c\u4e86\u4f18\u5316\u3002\n     * \u5386\u53f2\u4fe1\u606f\u7ecf\u8fc7\u4f18\u5316\uff0c\u4fbf\u4e8e\u67e5\u8be2\uff0c\u5e76\u6c38\u4e45\u4fdd\u5b58\u5728\u6301\u4e45\u5b58\u50a8\u4e2d\n     */\n    @Resource\n    protected HistoryService historyService;\n    /**\n     * \u7528\u4e8e\u6d41\u7a0b\u5f15\u64ce\u4e0a\u7684\u7ba1\u7406\u548c\u7ef4\u62a4\u64cd\u4f5c\u7684\u670d\u52a1\u3002\n     * \u8fd9\u4e9b\u64cd\u4f5c\u901a\u5e38\u4e0d\u4f1a\u5728\u5de5\u4f5c\u6d41\u9a71\u52a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528\uff0c\u800c\u662f\u5728\u4f8b\u5982\u64cd\u4f5c\u63a7\u5236\u53f0\u4e2d\u4f7f\u7528\n     */\n    @Resource\n    protected ManagementService managementService;\n    /**\n     * \u63d0\u4f9b\u5bf9\u516c\u5f00 BPM \u548c\u5de5\u4f5c\u6d41\u64cd\u4f5c\u7684\u6240\u6709\u670d\u52a1\u7684\u8bbf\u95ee\n     */\n    @Resource\n    protected ProcessEngine processEngine;\n\n    @Resource\n    protected DynamicBpmnService dynamicBpmnService;\n\n    @Resource\n    protected ProcessMigrationService processMigrationService;\n\n    /**\n     * \u901a\u8fc7 InputStream \u6d41\u90e8\u7f72\u6d41\u7a0b\u5b9a\u4e49\n     *\n     * @param name     \u6d41\u7a0b\u6a21\u677f\u6587\u4ef6\u540d\u5b57\n     * @param tenantId \u4e1a\u52a1\u7cfb\u7edf\u6807\u8bc6\n     * @param category \u6d41\u7a0b\u6a21\u677f\u6587\u4ef6\u7c7b\u522b\n     * @param in       \u6d41\u7a0b\u6a21\u677f\u6587\u4ef6\u6d41\n     * @return \u90e8\u7f72\u6d41\u7a0b\u5bf9\u8c61\uff0c\u662f\u6d41\u7a0b\u5b9a\u4e49\u3001\u56fe\u50cf\u3001\u8868\u5355\u7b49\u8d44\u6e90\u7684\u5bb9\u5668\n     */\n    public Deployment deploy(String name, String tenantId, String category, InputStream in) {\n        return repositoryService.createDeployment()\n                .addInputStream(name + BPMN_FILE_SUFFIX, in)\n                .name(name)\n                .tenantId(tenantId)\n                .category(category)\n                .deploy();\n    }\n\n    /**\n     * \u542f\u52a8\u6d41\u7a0b\u5b9e\u4f8b\n     *\n     * @param processDefinitionId \u6d41\u7a0b\u5b9a\u4e49ID\uff0c\u4e0d\u80fd\u4e3a\u7a7a.\n     * @param variables           \u6d41\u7a0b\u5b9e\u4f8b\u53d8\u91cf\u3002\n     * @return \u6d41\u7a0b\u5b9e\u4f8b\n     */\n    public ProcessInstance startProcessInstanceById(String processDefinitionId, Map<String, Object> variables) {\n        return runtimeService.startProcessInstanceById(processDefinitionId, variables);\n    }\n\n    /**\n     * \u4efb\u52a1\u53cd\u7b7e\u6536\n     *\n     * @param taskId \u4efb\u52a1\u7684id\uff0c\u4e0d\u80fd\u4e3anull.\n     */\n    public void unclaim(String taskId) {\n        taskService.unclaim(taskId);\n    }\n\n    /**\n     * \u6267\u884c\u4efb\u52a1\n     *\n     * @param taskId \u4efb\u52a1\u7684id\uff0c\u4e0d\u80fd\u4e3anull.\n     */\n    public void complete(String taskId) {\n        taskService.complete(taskId);\n    }\n\n    /**\n     * \u4efb\u52a1\u59d4\u6d3e\n     *\n     * @param taskId \u4efb\u52a1\u7684id\uff0c\u4e0d\u80fd\u4e3anull.\n     * @param userId \u88ab\u59d4\u6d3e\u4ebaID.\n     */\n    public void delegate(String taskId, String userId) {\n        taskService.delegateTask(taskId, userId);\n    }\n\n    /**\n     * \u4efb\u52a1\u79fb\u4ea4\uff1a\u5c06\u4efb\u52a1\u7684\u6240\u6709\u6743\u8f6c\u79fb\u7ed9\u5176\u4ed6\u7528\u6237\u3002\n     *\n     * @param taskId \u4efb\u52a1\u7684id\uff0c\u4e0d\u80fd\u4e3anull.\n     * @param userId \u63a5\u53d7\u6240\u6709\u6743\u7684\u4eba.\n     */\n    public void setAssignee(String taskId, String userId) {\n        taskService.setAssignee(taskId, userId);\n    }\n\n    /**\n     * \u59d4\u6d3e\u4efb\u52a1\u5b8c\u6210\uff0c\u5f52\u8fd8\u59d4\u6d3e\u4eba\n     *\n     * @param taskId \u4efb\u52a1\u7684id\uff0c\u4e0d\u80fd\u4e3anull.\n     */\n    public void resolveTask(String taskId) {\n        taskService.resolveTask(taskId);\n    }\n\n    /**\n     * \u4efb\u52a1\u64a4\u56de\n     *\n     * @param processInstanceId \u6d41\u7a0b\u5b9e\u4f8bID.\n     * @param currentActivityId \u5f53\u524d\u6d3b\u52a8\u4efb\u52a1ID.\n     * @param newActivityId     \u64a4\u56de\u5230\u8fbe\u7684\u4efb\u52a1ID.\n     */\n    public void withdraw(String processInstanceId, String currentActivityId, String newActivityId) {\n        runtimeService.createChangeActivityStateBuilder()\n                .processInstanceId(processInstanceId)\n                .moveActivityIdTo(currentActivityId, newActivityId)\n                .changeState();\n    }\n\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,a.ah)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},11151:(e,n,t)=>{t.d(n,{ah:()=>i});var r=t(67294);const a=r.createContext({});function i(e){const n=r.useContext(a);return r.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}}}]);