"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[81373],{90325:(n,i,e)=>{e.r(i),e.d(i,{assets:()=>s,contentTitle:()=>a,default:()=>d,frontMatter:()=>t,metadata:()=>c,toc:()=>l});var r=e(74848),o=e(28453);const t={},a=void 0,c={id:"zh-cn/spring-boot/Spring-Boot-Transaction-Hook",title:"Spring-Boot-Transaction-Hook",description:"- Spring \u4e8b\u52a1\u7684\u72ec\u95e8\u7edd\u6280\uff1a\u94a9\u5b50\u51fd\u6570\u7684\u4f7f\u7528\u6280\u5de7",source:"@site/docs/zh-cn/spring-boot/32-Spring-Boot-Transaction-Hook.md",sourceDirName:"zh-cn/spring-boot",slug:"/zh-cn/spring-boot/Spring-Boot-Transaction-Hook",permalink:"/docs/zh-cn/spring-boot/Spring-Boot-Transaction-Hook",draft:!1,unlisted:!1,editUrl:"https://github.com/lorchr/light-docusaurus/tree/main/docs/zh-cn/spring-boot/32-Spring-Boot-Transaction-Hook.md",tags:[],version:"current",sidebarPosition:32,frontMatter:{},sidebar:"troch",previous:{title:"Spring-Boot-Start-Sequence",permalink:"/docs/zh-cn/spring-boot/Spring-Boot-Start-Sequence"},next:{title:"Spring-Boot-Naming-Validate",permalink:"/docs/zh-cn/spring-boot/Spring-Boot-Naming-Validate"}},s={},l=[{value:"\u524d\u8a00",id:"\u524d\u8a00",level:2},{value:"\u4e00\u3001\u6848\u4f8b\u80cc\u666f",id:"\u4e00\u6848\u4f8b\u80cc\u666f",level:2},{value:"\u4e8c\u3001\u786e\u5b9a\u65b9\u6848",id:"\u4e8c\u786e\u5b9a\u65b9\u6848",level:2},{value:"\u4e09\u3001TransactionSynchronizationManager\u663e\u795e\u5a01",id:"\u4e09transactionsynchronizationmanager\u663e\u795e\u5a01",level:2},{value:"3.1\u3001\u5224\u65ad\u662f\u5426\u5b58\u5728\u4e8b\u52a1\uff1f<code>TransactionSynchronizationManager.isSynchronizationActive()</code> \u65b9\u6cd5\u663e\u795e\u5a01",id:"31\u5224\u65ad\u662f\u5426\u5b58\u5728\u4e8b\u52a1transactionsynchronizationmanagerissynchronizationactive-\u65b9\u6cd5\u663e\u795e\u5a01",level:3},{value:"3.2\u3001\u5982\u4f55\u5728\u4e8b\u52a1\u63d0\u4ea4\u540e\u89e6\u53d1\u81ea\u5b9a\u4e49\u903b\u8f91\uff1f<code>TransactionSynchronizationManager.registerSynchronization()</code>\u65b9\u6cd5\u663e\u795e\u5a01",id:"32\u5982\u4f55\u5728\u4e8b\u52a1\u63d0\u4ea4\u540e\u89e6\u53d1\u81ea\u5b9a\u4e49\u903b\u8f91transactionsynchronizationmanagerregistersynchronization\u65b9\u6cd5\u663e\u795e\u5a01",level:3},{value:"\u56db\u3001\u603b\u7ed3",id:"\u56db\u603b\u7ed3",level:2}];function h(n){const i={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://juejin.cn/post/6984574787511123999",children:"Spring \u4e8b\u52a1\u7684\u72ec\u95e8\u7edd\u6280\uff1a\u94a9\u5b50\u51fd\u6570\u7684\u4f7f\u7528\u6280\u5de7"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://mp.weixin.qq.com/s/P6ZoQHtLP3IEwKQJlWzvtg",children:"SpringBoot + \u4e8b\u52a1\u94a9\u5b50\u51fd\u6570\uff0c\u6253\u9020\u9ad8\u6548\u652f\u4ed8\u7cfb\u7edf\uff01"})}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"\u524d\u8a00",children:"\u524d\u8a00"}),"\n",(0,r.jsx)(i.p,{children:"\u7ecf\u8fc7\u524d\u9762\u5bf9Spring AOP\u3001\u4e8b\u52a1\u7684\u603b\u7ed3\uff0c\u6211\u4eec\u5df2\u7ecf\u5bf9\u5b83\u4eec\u6709\u4e86\u4e00\u4e2a\u6bd4\u8f83\u611f\u6027\u7684\u8ba4\u77e5\u4e86\u3002\u4eca\u5929\uff0c\u6211\u7ee7\u7eed\u5b89\u5229\u4e00\u4e2a\u72ec\u95e8\u7edd\u6280\uff1aSpring \u4e8b\u52a1\u7684\u94a9\u5b50\u51fd\u6570\u3002\u5355\u7eaf\u7684\u8bb2\u6280\u672f\u53ef\u80fd\u6bd4\u8f83\u67af\u71e5\u4e4f\u5473\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u5c06\u4ee5\u4e00\u4e2a\u5b9e\u9645\u7684\u6848\u4f8b\u6765\u63cf\u8ff0Spring\u4e8b\u52a1\u94a9\u5b50\u51fd\u6570\u7684\u6b63\u786e\u4f7f\u7528\u59ff\u52bf\u3002"}),"\n",(0,r.jsx)(i.h2,{id:"\u4e00\u6848\u4f8b\u80cc\u666f",children:"\u4e00\u3001\u6848\u4f8b\u80cc\u666f"}),"\n",(0,r.jsx)(i.p,{children:"\u62ff\u652f\u4ed8\u7cfb\u7edf\u76f8\u5173\u7684\u4e1a\u52a1\u6765\u4e3e\u4f8b\u3002\u5728\u652f\u4ed8\u7cfb\u7edf\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u8bb0\u5f55\u6bcf\u4e2a\u8d26\u6237\u7684\u8d44\u91d1\u6d41\u6c34\uff08\u8bb0\u5f55\u7528\u6237A\u56e0\u4e3a\u54ea\u4e2a\u64cd\u4f5c\u6263\u4e86\u94b1\uff0c\u56e0\u4e3a\u54ea\u4e2a\u64cd\u4f5c\u52a0\u4e86\u94b1\uff09\uff0c\u8fd9\u6837\u6211\u4eec\u624d\u80fd\u5bf9\u6bcf\u4e2a\u8d26\u6237\u7684\u8d26\u505a\u5230\u5fc3\u4e2d\u6709\u6570\uff0c\u5bf9\u4e8e\u652f\u4ed8\u7cfb\u7edf\u800c\u8a00\uff0c\u8d44\u91d1\u6d41\u6c34\u7684\u6570\u636e\u53ef\u8c13\u662f\u6700\u91cd\u8981\u7684\u3002\u56e0\u6b64\uff0c\u4e3a\u4e86\u9632\u6b62\u652f\u4ed8\u7cfb\u7edf\u7684\u8001\u5927\u5f87\u79c1\u821e\u5f0a\uff0cCTO\u63d0\u4e86\u4e00\u4e2a\u6d41\u6c34\u5b58\u6863\u7684\u9700\u6c42\uff1a\u8981\u6c42\u652f\u4ed8\u7cfb\u7edf\u5bf9\u6bcf\u4e2a\u8d26\u6237\u7684\u8d44\u91d1\u6d41\u6c34\u505a\u4e00\u4efd\u5b58\u6863\uff0c\u8981\u6c42\u652f\u4ed8\u7cfb\u7edf\u5728\u5199\u6d41\u6c34\u7684\u65f6\u5019\uff0c\u628a\u6d41\u6c34\u76f8\u5173\u7684\u4fe1\u606f\u4ee5\u6d88\u606f\u7684\u5f62\u5f0f\u63a8\u9001\u5230kafka\uff0c\u7531\u5b58\u6863\u7cfb\u7edf\u6d88\u8d39\u8fd9\u4e2a\u6d88\u606f\u5e76\u843d\u5730\u5230\u5e93\u91cc\uff08\u8fd9\u4e2a\u5e93\u53ea\u6709\u5b58\u6863\u7cfb\u7edf\u62e5\u6709\u5199\u6743\u9650\uff09\u3002\u6574\u4e2a\u9700\u6c42\u7684\u6d41\u7a0b\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.img,{alt:"img",src:e(60223).A+"",width:"915",height:"398"})}),"\n",(0,r.jsx)(i.p,{children:"\u6574\u4e2a\u9700\u6c42\u7684\u6d41\u7a0b\u8fd8\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0c\u8003\u8651\u5230\u540e\u7eed\u4f1a\u6709\u5176\u4ed6\u4e8b\u4e1a\u90e8\u4e5f\u8981\u8fdb\u884c\u6570\u636e\u5b58\u6863\u64cd\u4f5c\uff0cCTO\u5efa\u8bae\u652f\u4ed8\u7cfb\u7edf\u56e2\u961f\u5185\u90e8\u5f00\u53d1\u4e00\u4e2a\u4e8c\u65b9\u5e93\uff0c\u8fd9\u4e2a\u4e8c\u65b9\u5e93\u7684\u4e3b\u8981\u529f\u80fd\u5c31\u662f\u53d1\u9001\u6d88\u606f\u5230kafka\u4e2d\u53bb\u3002"}),"\n",(0,r.jsx)(i.h2,{id:"\u4e8c\u786e\u5b9a\u65b9\u6848",children:"\u4e8c\u3001\u786e\u5b9a\u65b9\u6848"}),"\n",(0,r.jsx)(i.p,{children:"\u65e2\u7136\u8981\u6c42\u5f00\u53d1\u4e00\u4e2a\u4e8c\u65b9\u5e93\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u8003\u8651\u5982\u4e0b\u51e0\u4ef6\u4e8b\u60c5\uff1a"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"\u6280\u672f\u6808\u4f7f\u7528\u7684springboot\uff0c\u56e0\u6b64\uff0c\u8fd9\u91cc\u6700\u597d\u4ee5starter\u7684\u65b9\u5f0f\u63d0\u4f9b"}),"\n",(0,r.jsx)(i.li,{children:"\u4e8c\u65b9\u5e93\u9700\u8981\u53d1\u9001\u6d88\u606f\u7ed9kafka\uff0c\u6700\u597d\u662f\u4e8c\u65b9\u5e93\u5185\u90e8\u57fa\u4e8ekafka\u751f\u4ea7\u8005\u7684api\u521b\u5efa\u751f\u4ea7\u8005\uff0c\u4e0d\u8981\u4f7f\u7528Spring\u81ea\u5e26\u7684kafkaTemplate\uff0c\u56e0\u4e3a\u96c6\u6210\u65b9\u6709\u53ef\u80fd\u5df2\u7ecf\u4f7f\u7528\u4e86kafkaTemplate\u3002\u4e0d\u80fd\u4e0e\u96c6\u6210\u65b9\u9020\u6210\u51b2\u7a81\u3002"}),"\n",(0,r.jsx)(i.li,{children:"\u51cf\u5c11\u5bf9\u63a5\u65b9\u7684\u96c6\u6210\u96be\u5ea6\u3001\u5b66\u4e60\u6210\u672c\uff0c\u6700\u597d\u662f\u63d0\u4f9b\u4e00\u4e2a\u7b80\u5355\u5b9e\u7528\u7684api\uff0c\u4e1a\u52a1\u4fa7\u80fd\u7b80\u5355\u4e0a\u624b\u3002"}),"\n",(0,r.jsx)(i.li,{children:"\u53d1\u9001\u6d88\u606f\u8fd9\u4e2a\u64cd\u4f5c\u9700\u8981\u652f\u6301\u4e8b\u52a1\uff0c\u5c3d\u91cf\u4e0d\u5f71\u54cd\u4e3b\u4e1a\u52a1"}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["\u5728\u4e0a\u8ff0\u7684\u51e0\u4ef6\u4e8b\u60c5\u4e2d\uff0c\u6700\u9700\u8981\u6ce8\u610f\u7684\u5e94\u8be5\u5c31\u662f\u7b2c4\u70b9\uff1a",(0,r.jsx)(i.strong,{children:"\u53d1\u9001\u6d88\u606f\u8fd9\u4e2a\u64cd\u4f5c\u9700\u8981\u652f\u6301\u4e8b\u52a1\uff0c\u5c3d\u91cf\u4e0d\u5f71\u54cd\u4e3b\u4e1a\u52a1"}),"\u3002"]}),"\n",(0,r.jsx)(i.p,{children:"\u8fd9\u662f\u4ec0\u4e48\u610f\u601d\u5462\uff1f"}),"\n",(0,r.jsxs)(i.p,{children:["\u9996\u5148\uff0c\u5c3d\u91cf\u4e0d\u5f71\u54cd\u4e3b\u4e1a\u52a1\uff0c\u8fd9\u4e2a\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u5c31\u662f\u4f7f\u7528",(0,r.jsx)(i.strong,{children:"\u5f02\u6b65"}),"\u673a\u5236\u3002"]}),"\n",(0,r.jsxs)(i.p,{children:["\u5176\u6b21\uff0c\u9700\u8981\u652f\u6301\u4e8b\u52a1\u662f\u6307\uff1a",(0,r.jsx)(i.strong,{children:"\u5047\u8bbe\u6211\u4eec\u7684api\u662f\u5728\u4e8b\u52a1\u65b9\u6cd5\u5185\u90e8\u8c03\u7528\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u9700\u8981\u4fdd\u8bc1\u4e8b\u52a1\u63d0\u4ea4\u540e\u518d\u6267\u884c\u8fd9\u4e2aapi"}),"\u3002\u90a3\u4e48\uff0c\u6211\u4eec\u7684\u6d41\u6c34\u843d\u5730api\u5e94\u8be5\u8981\u6709\u8fd9\u6837\u7684\u529f\u80fd\uff1a"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.img,{alt:"img",src:e(56904).A+"",width:"363",height:"297"})}),"\n",(0,r.jsxs)(i.p,{children:["\u5185\u90e8\u53ef\u4ee5\u5224\u65ad\u5f53\u524d\u662f\u5426\u5b58\u5728\u4e8b\u52a1\uff0c\u5982\u679c\u5b58\u5728\u4e8b\u52a1\uff0c\u5219\u9700\u8981\u7b49\u4e8b\u52a1\u63d0\u4ea4\u540e\u518d\u5f02\u6b65\u53d1\u9001\u6d88\u606f\u7ed9kafka\u3002\u5982\u679c\u4e0d\u5b58\u5728\u4e8b\u52a1\u5219\u76f4\u63a5\u5f02\u6b65\u53d1\u9001\u6d88\u606f\u7ed9kafka\u3002\u800c\u4e14\u8fd9\u6837\u7684\u5224\u65ad\u903b\u8f91\u5f97\u653e\u5728\u4e8c\u65b9\u5e93\u5185\u90e8\u624d\u884c\u3002\u90a3\u73b0\u5728\u6446\u5728\u6211\u4eec\u9762\u524d\u7684\u95ee\u9898\u5c31\u662f\uff1a",(0,r.jsx)(i.strong,{children:"\u6211\u8981\u5982\u4f55\u5224\u65ad\u5f53\u524d\u662f\u5426\u5b58\u5728\u4e8b\u52a1\uff0c\u4ee5\u53ca\u5982\u4f55\u5728\u4e8b\u52a1\u63d0\u4ea4\u540e\u518d\u89e6\u53d1\u6211\u4eec\u81ea\u5b9a\u4e49\u7684\u903b\u8f91\u5462\uff1f"})]}),"\n",(0,r.jsx)(i.h2,{id:"\u4e09transactionsynchronizationmanager\u663e\u795e\u5a01",children:"\u4e09\u3001TransactionSynchronizationManager\u663e\u795e\u5a01"}),"\n",(0,r.jsxs)(i.p,{children:["\u8fd9\u4e2a\u7c7b\u5185\u90e8\u6240\u6709\u7684\u53d8\u91cf\u3001\u65b9\u6cd5\u90fd\u662f",(0,r.jsx)(i.code,{children:"static"}),"\u4fee\u9970\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u5b83\u5176\u5b9e\u662f\u4e00\u4e2a\u5de5\u5177\u7c7b\u3002\u662f\u4e00\u4e2a",(0,r.jsx)(i.strong,{children:"\u4e8b\u52a1\u540c\u6b65\u5668"}),"\u3002\u4e0b\u8ff0\u662f",(0,r.jsx)(i.strong,{children:"\u6d41\u6c34\u843d\u5730API"}),"\u7684\u4f2a\u4ee3\u7801\uff0c\u8fd9\u6bb5\u4ee3\u7801\u5c31\u89e3\u51b3\u4e86\u6211\u4eec\u4e0a\u8ff0\u63d0\u5230\u7684\u7591\u95ee\uff1a"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-java",children:"private final ExecutorService executor = Executors.newSingleThreadExecutor();\n\npublic void sendLog() {\n    // \u5224\u65ad\u5f53\u524d\u662f\u5426\u5b58\u5728\u4e8b\u52a1\n    if (!TransactionSynchronizationManager.isSynchronizationActive()) {\n        // \u65e0\u4e8b\u52a1\uff0c\u5f02\u6b65\u53d1\u9001\u6d88\u606f\u7ed9kafka\n        \n        executor.submit(() -> {\n            // \u53d1\u9001\u6d88\u606f\u7ed9kafka\n            try {\n                // \u53d1\u9001\u6d88\u606f\u7ed9kafka\n            } catch (Exception e) {\n                // \u8bb0\u5f55\u5f02\u5e38\u4fe1\u606f\uff0c\u53d1\u90ae\u4ef6\u6216\u8005\u8fdb\u5165\u5f85\u5904\u7406\u5217\u8868\uff0c\u8ba9\u5f00\u53d1\u4eba\u5458\u611f\u77e5\u5f02\u5e38\n            }\n        });\n        return;\n    }\n\n    // \u6709\u4e8b\u52a1\uff0c\u5219\u6dfb\u52a0\u4e00\u4e2a\u4e8b\u52a1\u540c\u6b65\u5668\uff0c\u5e76\u91cd\u5199afterCompletion\u65b9\u6cd5\uff08\u6b64\u65b9\u6cd5\u5728\u4e8b\u52a1\u63d0\u4ea4\u540e\u4f1a\u505a\u56de\u8c03\uff09\n    TransactionSynchronizationManager.registerSynchronization(new TransactionSynchronizationAdapter() {\n\n        @Override\n        public void afterCompletion(int status) {\n            if (status == TransactionSynchronization.STATUS_COMMITTED) {\n                // \u4e8b\u52a1\u63d0\u4ea4\u540e\uff0c\u518d\u5f02\u6b65\u53d1\u9001\u6d88\u606f\u7ed9kafka\n                executor.submit(() -> {\n                    try {\n\t                    // \u53d1\u9001\u6d88\u606f\u7ed9kafka\n                    } catch (Exception e) {\n    \t                // \u8bb0\u5f55\u5f02\u5e38\u4fe1\u606f\uff0c\u53d1\u90ae\u4ef6\u6216\u8005\u8fdb\u5165\u5f85\u5904\u7406\u5217\u8868\uff0c\u8ba9\u5f00\u53d1\u4eba\u5458\u611f\u77e5\u5f02\u5e38\n                    }\n                });\n            }\n        }\n\n    });\n\n}\n"})}),"\n",(0,r.jsxs)(i.p,{children:["\u4ee3\u7801\u6bd4\u8f83\u7b80\u5355\uff0c\u5176\u4e3b\u8981\u662f",(0,r.jsx)(i.code,{children:"TransactionSynchronizationManager"}),"\u7684\u4f7f\u7528\u3002"]}),"\n",(0,r.jsxs)(i.h3,{id:"31\u5224\u65ad\u662f\u5426\u5b58\u5728\u4e8b\u52a1transactionsynchronizationmanagerissynchronizationactive-\u65b9\u6cd5\u663e\u795e\u5a01",children:["3.1\u3001\u5224\u65ad\u662f\u5426\u5b58\u5728\u4e8b\u52a1\uff1f",(0,r.jsx)(i.code,{children:"TransactionSynchronizationManager.isSynchronizationActive()"})," \u65b9\u6cd5\u663e\u795e\u5a01"]}),"\n",(0,r.jsx)(i.p,{children:"\u6211\u4eec\u5148\u770b\u4e0b\u8fd9\u4e2a\u65b9\u6cd5\u7684\u6e90\u7801\uff1a"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-java",children:'// TransactionSynchronizationManager.java\u7c7b\u5185\u90e8\u7684\u90e8\u5206\u4ee3\u7801\n\nprivate static final ThreadLocal<Set<TransactionSynchronization>> synchronizations =\n\t\t\tnew NamedThreadLocal<>("Transaction synchronizations");\n\npublic static boolean isSynchronizationActive() {\n    return (synchronizations.get() != null);\n}\n'})}),"\n",(0,r.jsxs)(i.p,{children:["\u5f88\u660e\u663e\uff0c",(0,r.jsx)(i.code,{children:"synchronizations"}),"\u662f\u4e00\u4e2a\u7ebf\u7a0b\u53d8\u91cf\uff08",(0,r.jsx)(i.code,{children:"ThreadLocal"}),"\uff09\u3002\u90a3\u5b83\u662f\u5728\u4ec0\u4e48\u65f6\u5019set\u8fdb\u53bb\u7684\u5462\uff1f\u8fd9\u91cc\u7684\u8bdd\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0b\u8fd9\u4e2a\u65b9\u6cd5\uff1a",(0,r.jsx)(i.code,{children:"org.springframework.transaction.support.TransactionSynchronizationManager#initSynchronization"}),"\uff0c\u5176\u6e90\u7801\u5982\u4e0b\u6240\u793a\uff1a"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-java",children:'/**\n  * Activate transaction synchronization for the current thread.\n  * Called by a transaction manager on transaction begin.\n  * @throws IllegalStateException if synchronization is already active\n  */\npublic static void initSynchronization() throws IllegalStateException {\n    if (isSynchronizationActive()) {\n        throw new IllegalStateException("Cannot activate transaction synchronization - already active");\n    }\n    logger.trace("Initializing transaction synchronization");\n    synchronizations.set(new LinkedHashSet<>());\n}\n'})}),"\n",(0,r.jsxs)(i.p,{children:["\u7531\u6e90\u7801\u4e2d\u7684\u6ce8\u91ca\u4e5f\u53ef\u4ee5\u77e5\u9053\uff0c\u5b83\u662f\u5728\u4e8b\u52a1\u7ba1\u7406\u5668\u5f00\u542f\u4e8b\u52a1\u65f6\u8c03\u7528\u7684\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u53ea\u8981\u6211\u4eec\u7684\u7a0b\u5e8f\u6267\u884c\u5230\u5e26\u6709\u4e8b\u52a1\u7279\u6027\u7684\u65b9\u6cd5\u65f6\uff0c\u5c31\u4f1a\u5728\u7ebf\u7a0b\u53d8\u91cf\u4e2d\u653e\u5165\u4e00\u4e2aLinkedHashSet\uff0c\u7528\u6765\u6807\u8bc6\u5f53\u524d\u5b58\u5728\u4e8b\u52a1\u3002\u53ea\u8981",(0,r.jsx)(i.code,{children:"isSynchronizationActive"}),"\u8fd4\u56detrue\uff0c\u5219\u4ee3\u8868\u5f53\u524d\u6709\u4e8b\u52a1\u3002\u56e0\u6b64\uff0c\u7ed3\u5408\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u6211\u4eec\u662f\u6307\u80fd\u89e3\u51b3\u6211\u4eec\u6700\u5f00\u59cb\u63d0\u51fa\u7684\u7591\u95ee\uff1a",(0,r.jsx)(i.strong,{children:"\u8981\u5982\u4f55\u5224\u65ad\u5f53\u524d\u662f\u5426\u5b58\u5728\u4e8b\u52a1"})]}),"\n",(0,r.jsxs)(i.h3,{id:"32\u5982\u4f55\u5728\u4e8b\u52a1\u63d0\u4ea4\u540e\u89e6\u53d1\u81ea\u5b9a\u4e49\u903b\u8f91transactionsynchronizationmanagerregistersynchronization\u65b9\u6cd5\u663e\u795e\u5a01",children:["3.2\u3001\u5982\u4f55\u5728\u4e8b\u52a1\u63d0\u4ea4\u540e\u89e6\u53d1\u81ea\u5b9a\u4e49\u903b\u8f91\uff1f",(0,r.jsx)(i.code,{children:"TransactionSynchronizationManager.registerSynchronization()"}),"\u65b9\u6cd5\u663e\u795e\u5a01"]}),"\n",(0,r.jsx)(i.p,{children:"\u6211\u4eec\u6765\u770b\u4e0b\u8fd9\u4e2a\u65b9\u6cd5\u7684\u6e90\u4ee3\u7801\uff1a"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-java",children:'/**\n  * Register a new transaction synchronization for the current thread.\n  * Typically called by resource management code.\n  * <p>Note that synchronizations can implement the\n  * {@link org.springframework.core.Ordered} interface.\n  * They will be executed in an order according to their order value (if any).\n  * @param synchronization the synchronization object to register\n  * @throws IllegalStateException if transaction synchronization is not active\n  * @see org.springframework.core.Ordered\n  */\npublic static void registerSynchronization(TransactionSynchronization synchronization)\n    throws IllegalStateException {\n\n    Assert.notNull(synchronization, "TransactionSynchronization must not be null");\n    if (!isSynchronizationActive()) {\n        throw new IllegalStateException("Transaction synchronization is not active");\n    }\n    synchronizations.get().add(synchronization);\n}\n'})}),"\n",(0,r.jsxs)(i.p,{children:["\u8fd9\u91cc\u53c8\u4f7f\u7528\u5230\u4e86",(0,r.jsx)(i.code,{children:"synchronizations"}),"\u7ebf\u7a0b\u53d8\u91cf\uff0c\u6211\u4eec\u5728\u5224\u65ad\u662f\u5426\u5b58\u5728\u4e8b\u52a1\u65f6\uff0c\u5c31\u662f\u5224\u65ad\u8fd9\u4e2a\u7ebf\u7a0b\u53d8\u91cf\u5185\u90e8\u662f\u5426\u6709\u503c\u3002\u90a3\u6211\u4eec\u73b0\u5728\u60f3\u5728",(0,r.jsx)(i.strong,{children:"\u4e8b\u52a1\u63d0\u4ea4\u540e\u89e6\u53d1\u81ea\u5b9a\u4e49\u903b\u8f91"}),"\u548c\u8fd9\u4e2a\u6709\u4ec0\u4e48\u5173\u7cfb\u5462\uff1f\u6211\u4eec\u5728\u4e0a\u9762\u6784\u5efa",(0,r.jsx)(i.strong,{children:"\u6d41\u6c34\u843d\u5730api"}),"\u7684\u4f2a\u4ee3\u7801\u4e2d\u6709\u5411",(0,r.jsx)(i.code,{children:"synchronizations"}),"\u5185\u90e8\u6dfb\u52a0\u4e86\u4e00\u4e2a",(0,r.jsx)(i.code,{children:"TransactionSynchronizationAdapter"}),"\uff0c\u5185\u90e8\u5e76\u91cd\u5199\u4e86",(0,r.jsx)(i.code,{children:"afterCompletion"}),"\u65b9\u6cd5\uff0c\u5176\u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-java",children:"TransactionSynchronizationManager.registerSynchronization(new TransactionSynchronizationAdapter() {\n\n    @Override\n    public void afterCompletion(int status) {\n        if (status == TransactionSynchronization.STATUS_COMMITTED) {\n            // \u4e8b\u52a1\u63d0\u4ea4\u540e\uff0c\u518d\u5f02\u6b65\u53d1\u9001\u6d88\u606f\u7ed9kafka\n            executor.submit(() -> {\n                    try {\n\t                    // \u53d1\u9001\u6d88\u606f\u7ed9kafka\n                    } catch (Exception e) {\n    \t                // \u8bb0\u5f55\u5f02\u5e38\u4fe1\u606f\uff0c\u53d1\u90ae\u4ef6\u6216\u8005\u8fdb\u5165\u5f85\u5904\u7406\u5217\u8868\uff0c\u8ba9\u5f00\u53d1\u4eba\u5458\u611f\u77e5\u5f02\u5e38\n                    }\n            });\n        }\n    }\n\n});\n"})}),"\n",(0,r.jsxs)(i.p,{children:["\u6211\u4eec\u7ed3\u5408",(0,r.jsx)(i.code,{children:"registerSynchronization"}),"\u7684\u6e90\u7801\u6765\u770b\uff0c\u5176\u5b9e\u8fd9\u6bb5\u4ee3\u7801\u4e3b\u8981\u5c31\u662f\u5411\u7ebf\u7a0b\u53d8\u91cf\u5185\u90e8\u7684LinkedHashSet\u6dfb\u52a0\u4e86\u4e00\u4e2a\u5bf9\u8c61\u800c\u5df2\uff0c\u4f46\u5c31\u662f\u8fd9\u4e48\u4e00\u4e2a\u64cd\u4f5c\uff0c\u8ba9Spring\u5728\u4e8b\u52a1\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\u53d8\u5f97\u201c\u6709\u4e8b\u60c5\u53ef\u505a\u201d\u3002\u8fd9\u662f\u4ec0\u4e48\u610f\u601d\u5462\uff1f\u662f\u56e0\u4e3aSpring\u5728\u6267\u884c\u4e8b\u52a1\u65b9\u6cd5\u65f6\uff0c\u5bf9\u4e8e\u64cd\u4f5c\u4e8b\u52a1\u7684\u6bcf\u4e00\u4e2a\u9636\u6bb5\u90fd\u6709\u4e00\u4e2a\u56de\u8c03\u64cd\u4f5c\uff0c\u6bd4\u5982\uff1atrigger\u7cfb\u5217\u7684\u56de\u8c03"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.img,{alt:"img",src:e(70833).A+"",width:"567",height:"191"})}),"\n",(0,r.jsx)(i.p,{children:"invoke\u7cfb\u5217\u7684\u56de\u8c03"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.img,{alt:"img",src:e(80706).A+"",width:"563",height:"133"})}),"\n",(0,r.jsxs)(i.p,{children:["\u800c\u6211\u4eec\u73b0\u5728\u7684\u9700\u6c42\u5c31\u662f\u5728\u4e8b\u52a1\u63d0\u4ea4\u540e\u89e6\u53d1\u81ea\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u90a3\u5c31\u662f\u5728",(0,r.jsx)(i.code,{children:"invokeAfterCommit"}),"\u548c",(0,r.jsx)(i.code,{children:"invokeAfterCompletion"}),"\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u6765\u9009\u4e86\u3002\u9996\u5148\uff0c\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u90fd\u4f1a\u62ff\u5230\u6240\u6709",(0,r.jsx)(i.code,{children:"TransactionSynchronization"}),"\u7684\u96c6\u5408\uff08\u5176\u4e2d\u4f1a\u5305\u62ec\u6211\u4eec\u4e0a\u8ff0\u6dfb\u52a0\u7684",(0,r.jsx)(i.code,{children:"TransactionSynchronizationAdapter"}),"\uff09\u3002\u4f46\u662f\u8981\u6ce8\u610f\u4e00\u70b9\uff1a",(0,r.jsx)(i.code,{children:"invokeAfterCommit"}),"\u53ea\u80fd\u62ff\u5230\u96c6\u5408\uff0c",(0,r.jsx)(i.code,{children:"invokeAfterCompletion"}),"\u9664\u4e86\u96c6\u5408\u8fd8\u6709\u4e00\u4e2aint\u7c7b\u578b\u7684\u53c2\u6570\uff0c\u800c\u8fd9\u4e2aint\u7c7b\u578b\u7684\u53c2\u6570\u5176\u5b9e\u662f\u5f53\u524d\u4e8b\u52a1\u7684\u4e00\u79cd\u72b6\u6001\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u6211\u4eec\u91cd\u5199\u4e86",(0,r.jsx)(i.code,{children:"invokeAfterCompletion"}),"\u65b9\u6cd5\uff0c\u6211\u4eec\u9664\u4e86\u80fd\u62ff\u5230\u96c6\u5408\u5916\uff0c\u8fd8\u80fd\u62ff\u5230\u5f53\u524d\u4e8b\u52a1\u7684\u72b6\u6001\u3002\u56e0\u6b64\uff0c\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u72b6\u6001\u6765\u505a\u4e0d\u540c\u7684\u4e8b\u60c5\uff0c\u6bd4\u5982\uff1a\u53ef\u4ee5\u5728\u4e8b\u52a1\u63d0\u4ea4\u65f6\u505a\u81ea\u5b9a\u4e49\u5904\u7406\uff0c\u4e5f\u53ef\u4ee5\u5728\u4e8b\u52a1\u56de\u6eda\u65f6\u505a\u81ea\u5b9a\u4e49\u5904\u7406\u7b49\u7b49\u3002"]}),"\n",(0,r.jsx)(i.h2,{id:"\u56db\u603b\u7ed3",children:"\u56db\u3001\u603b\u7ed3"}),"\n",(0,r.jsxs)(i.p,{children:["\u4e0a\u9762\u6709\u8bf4\u5230\uff0c\u6211\u4eec",(0,r.jsx)(i.strong,{children:"\u5224\u65ad\u5f53\u524d\u662f\u5426\u5b58\u5728\u4e8b\u52a1\u3001\u6dfb\u52a0\u94a9\u5b50\u51fd\u6570"}),"\u90fd\u662f\u4f9d\u8d56\u7ebf\u7a0b\u53d8\u91cf\u7684\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u4e00\u5b9a\u8981",(0,r.jsx)(i.strong,{children:"\u907f\u514d\u5207\u6362\u7ebf\u7a0b"}),"\u3002\u5426\u5219\u4f1a\u51fa\u73b0",(0,r.jsx)(i.strong,{children:"\u4e0d\u751f\u6548"}),"\u7684\u60c5\u51b5\u3002"]})]})}function d(n={}){const{wrapper:i}={...(0,o.R)(),...n.components};return i?(0,r.jsx)(i,{...n,children:(0,r.jsx)(h,{...n})}):h(n)}},60223:(n,i,e)=>{e.d(i,{A:()=>r});const r=e.p+"assets/images/32-1-f6350bb825631f0bcbcad34ba99956cd.awebp"},56904:(n,i,e)=>{e.d(i,{A:()=>r});const r="data:;base64,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"},70833:(n,i,e)=>{e.d(i,{A:()=>r});const r=e.p+"assets/images/32-3-c2738289a80b531b635d8d562783fac6.awebp"},80706:(n,i,e)=>{e.d(i,{A:()=>r});const r=e.p+"assets/images/32-4-56f9a9fd055f199249421d307e2b8920.awebp"},28453:(n,i,e)=>{e.d(i,{R:()=>a,x:()=>c});var r=e(96540);const o={},t=r.createContext(o);function a(n){const i=r.useContext(t);return r.useMemo((function(){return"function"==typeof n?n(i):{...i,...n}}),[i,n])}function c(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:a(n.components),r.createElement(t.Provider,{value:i},n.children)}}}]);