"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[9441],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>d});var n=r(67294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},u=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},l="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),l=c(r),g=i,d=l["".concat(s,".").concat(g)]||l[g]||h[g]||o;return r?n.createElement(d,a(a({ref:t},u),{},{components:r})):n.createElement(d,a({ref:t},u))}));function d(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=r.length,a=new Array(o);a[0]=g;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p[l]="string"==typeof e?e:i,a[1]=p;for(var c=2;c<o;c++)a[c]=r[c];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}g.displayName="MDXCreateElement"},74049:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>p,toc:()=>c});var n=r(87462),i=(r(67294),r(3905));const o={},a=void 0,p={unversionedId:"zh-cn/spring-security/Spring-Security-Dependencies-Choice",id:"zh-cn/spring-security/Spring-Security-Dependencies-Choice",title:"Spring-Security-Dependencies-Choice",description:"1. Spring Security\u5404\u4e2a\u9879\u76ee\u9009\u62e9",source:"@site/docs/zh-cn/spring-security/Spring-Security-Dependencies-Choice.md",sourceDirName:"zh-cn/spring-security",slug:"/zh-cn/spring-security/Spring-Security-Dependencies-Choice",permalink:"/light-docusaurus/docs/zh-cn/spring-security/Spring-Security-Dependencies-Choice",draft:!1,editUrl:"https://github.com/lorchr/light-docusaurus/tree/main/docs/zh-cn/spring-security/Spring-Security-Dependencies-Choice.md",tags:[],version:"current",frontMatter:{},sidebar:"troch",previous:{title:"Spring Security",permalink:"/light-docusaurus/docs/category/spring-security"},next:{title:"OAuth2",permalink:"/light-docusaurus/docs/category/oauth2"}},s={},c=[{value:"1. Spring Security\u5404\u4e2a\u9879\u76ee\u9009\u62e9",id:"1-spring-security\u5404\u4e2a\u9879\u76ee\u9009\u62e9",level:2},{value:"What is the difference between spring-boot-starter-oauth2-client, spring-cloud-starter-oauth2 and spring-security-oauth2",id:"what-is-the-difference-between-spring-boot-starter-oauth2-client-spring-cloud-starter-oauth2-and-spring-security-oauth2",level:2},{value:"Question",id:"question",level:3},{value:"Answer",id:"answer",level:3}],u={toc:c},l="wrapper";function h(e){let{components:t,...r}=e;return(0,i.kt)(l,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"1-spring-security\u5404\u4e2a\u9879\u76ee\u9009\u62e9"},"1. Spring Security\u5404\u4e2a\u9879\u76ee\u9009\u62e9"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://spring.io/blog/2018/01/30/next-generation-oauth-2-0-support-with-spring-security"},"Next Generation OAuth 2.0 Support with Spring Security"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://spring.io/blog/2019/11/14/spring-security-oauth-2-0-roadmap-update"},"Spring Security OAuth 2.0 Roadmap Update"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://spring.io/blog/2020/04/15/announcing-the-spring-authorization-server"},"Announcing the Spring Authorization Server"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Features-Matrix"},"OAuth 2.0 Features Matrix"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/spring-projects/spring-security"},"spring-security"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-security/reference/servlet/authorization/index.html"},"spring-security Doc"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/oauth2"},"spring-security-samples"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/spring-projects/spring-authorization-server"},"spring-authorization-server"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-authorization-server/docs/current/reference/html/index.html"},"spring-authorization-server Doc"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/tagged/spring-authorization-server"},"stackoverflow")))),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://blog.csdn.net/qq_37182370/article/details/124822587"},"https://blog.csdn.net/qq_37182370/article/details/124822587")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.cnblogs.com/openstack-elk/p/10150356.html"},"https://www.cnblogs.com/openstack-elk/p/10150356.html")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://blog.51cto.com/u_15882671/5871070"},"https://blog.51cto.com/u_15882671/5871070"),"\n",(0,i.kt)("a",{parentName:"p",href:"https://my.oschina.net/u/4347688/blog/3561682"},"https://my.oschina.net/u/4347688/blog/3561682"),"\n",(0,i.kt)("a",{parentName:"p",href:"http://c.biancheng.net/view/4082.html"},"http://c.biancheng.net/view/4082.html")),(0,i.kt)("h2",{id:"what-is-the-difference-between-spring-boot-starter-oauth2-client-spring-cloud-starter-oauth2-and-spring-security-oauth2"},"What is the difference between spring-boot-starter-oauth2-client, spring-cloud-starter-oauth2 and spring-security-oauth2"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/71081479/what-is-the-difference-between-spring-boot-starter-oauth2-client-spring-cloud-s"},"About spring security artifact choose")),(0,i.kt)("h3",{id:"question"},"Question"),(0,i.kt)("p",null,"I am developing a client application for client_credentials grant type flow in OAUTH2."),(0,i.kt)("p",null,"I am not able to decide on which dependency to use in my project for this purpose among the following."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"spring-boot-starter-oauth2-client"),(0,i.kt)("li",{parentName:"ol"},"spring-cloud-starter-oauth2"),(0,i.kt)("li",{parentName:"ol"},"spring-security-oauth2")),(0,i.kt)("p",null,"I referred this documentation from spring-projects in which under client-support section it had a table describing the available options. But I am not able to understand which column is referring to which of the above dependencies."),(0,i.kt)("p",null,"I want to configure a WebClient or RestTemplate which retrieves the OAUTH2 token from the auth-server automatically before accessing a resource-server."),(0,i.kt)("p",null,"Please guide me in choosing the right artifact for my project."),(0,i.kt)("h3",{id:"answer"},"Answer"),(0,i.kt)("p",null,"If you are using Spring Boot you should choose ",(0,i.kt)("inlineCode",{parentName:"p"},"org.springframework.boot:spring-boot-starter-oauth2-client"),"."),(0,i.kt)("p",null,"This includes Spring Security's OAuth 2.0 Client support and provides Spring Boot auto-configuration to set up OAuth2/Open ID Connect clients."),(0,i.kt)("p",null,"You can read about how to configure client in the Spring Boot ",(0,i.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.security.oauth2.client"},"reference documentation"),"."),(0,i.kt)("p",null,"You can also find additional details in the Spring Security ",(0,i.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-security/reference/servlet/oauth2/client/index.html"},"reference documentation"),"."),(0,i.kt)("p",null,"If you are not using Spring Boot then you should choose ",(0,i.kt)("inlineCode",{parentName:"p"},"org.springframework.security:spring-security-oauth2-client"),". This also provides Spring Security's latest OAuth 2.0 Client support, but does not include the Spring Boot auto-configuration."),(0,i.kt)("p",null,"The corresponding documentation is also the Spring Security ",(0,i.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-security/reference/servlet/oauth2/client/index.html"},"reference documentation"),"."),(0,i.kt)("p",null,"The third dependency you mentioned ",(0,i.kt)("inlineCode",{parentName:"p"},"org.springframework.security.oauth:spring-security-oauth2")," should not be used because it is part of the ",(0,i.kt)("a",{parentName:"p",href:"https://spring.io/projects/spring-security-oauth"},"legacy Spring Security OAuth")," project, which is now deprecated.\nThe functionality that this library provided has now been moved into Spring Security.\nThat is what the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Features-Matrix#client-support"},"Migration Guide")," describes, the migration from the legacy project to the latest Spring Security support."),(0,i.kt)("p",null,"You should not use the ",(0,i.kt)("inlineCode",{parentName:"p"},"org.springframework.cloud:spring-cloud-starter-oauth2")," at this time, because it relies on the legacy OAuth support.\nThis is likely to change in the future, as the Spring Cloud team updates to the latest Spring Security support."))}h.isMDXComponent=!0}}]);