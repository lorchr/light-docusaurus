"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[4529],{18059:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>d,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>a});var c=n(74848),r=n(28453);const i={},d=void 0,o={id:"rocketmq/RocketMQ",title:"RocketMQ",description:"- \u4f60\u7ba1\u8fd9\u7834\u73a9\u610f\u513f\u53eb MQ?",source:"@site/middleware/rocketmq/4-RocketMQ.md",sourceDirName:"rocketmq",slug:"/rocketmq/RocketMQ",permalink:"/light-docusaurus/middleware/rocketmq/RocketMQ",draft:!1,unlisted:!1,editUrl:"https://github.com/lorchr/light-docusaurus/tree/main/middleware/rocketmq/4-RocketMQ.md",tags:[],version:"current",lastUpdatedBy:"Lorchr",lastUpdatedAt:1713357975e3,sidebarPosition:4,frontMatter:{},sidebar:"middleware",previous:{title:"Rocketmq-Timer-Task",permalink:"/light-docusaurus/middleware/rocketmq/Rocketmq-Timer-Task"},next:{title:"RocketMQ-In-Deep",permalink:"/light-docusaurus/middleware/rocketmq/RocketMQ-In-Deep"}},t={},a=[{value:"\u5e78\u798f\u7684\u70e6\u607c",id:"\u5e78\u798f\u7684\u70e6\u607c",level:2},{value:"broker",id:"broker",level:2},{value:"page cache",id:"page-cache",level:2},{value:"mmap",id:"mmap",level:2},{value:"consumeQueue \u6587\u4ef6",id:"consumequeue-\u6587\u4ef6",level:2},{value:"\u5bf9 ConsumeQueue \u7684\u6539\u8fdb--\u6570\u636e\u5206\u7247",id:"\u5bf9-consumequeue-\u7684\u6539\u8fdb--\u6570\u636e\u5206\u7247",level:2},{value:"topic",id:"topic",level:2},{value:"tag",id:"tag",level:2},{value:"topic \u4e0e tag \u5173\u7cfb",id:"topic-\u4e0e-tag-\u5173\u7cfb",level:2},{value:"Broker \u7684\u9ad8\u53ef\u7528",id:"broker-\u7684\u9ad8\u53ef\u7528",level:2},{value:"nameserver",id:"nameserver",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function l(e){const s={a:"a",code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.a,{href:"https://mp.weixin.qq.com/s/qdKF9uYvDizbSAYmKI_cwA",children:"\u4f60\u7ba1\u8fd9\u7834\u73a9\u610f\u513f\u53eb MQ?"})}),"\n"]}),"\n",(0,c.jsx)(s.h2,{id:"\u5e78\u798f\u7684\u70e6\u607c",children:"\u5e78\u798f\u7684\u70e6\u607c"}),"\n",(0,c.jsx)(s.p,{children:"\u5f20\u5927\u80d6\u6700\u8fd1\u662f\u53c8\u559c\u53c8\u5fe7\uff0c\u559c\u7684\u662f\u4e1a\u52a1\u91cf\u53d1\u5c55\u731b\u589e\uff0c\u5fe7\u7684\u662f\u7531\u4e8e\u4e1a\u52a1\u91cf\u731b\u589e\uff0c\u4e00\u4e9b\u539f\u6765\u4e0d\u662f\u95ee\u9898\u7684\u95ee\u9898\u53d8\u6210\u4e86\u5927\u95ee\u9898\uff0c\u6bd4\u5982\u8bf4\u65b0\u4f1a\u5458\u6ce8\u518c\u5427\uff0c\u539f\u6765\u6ce8\u518c\u6210\u529f\u53ea\u8981\u53d1\u4e2a\u77ed\u4fe1\u5c31\u884c\u4e86\uff0c\u4f46\u968f\u7740\u4e1a\u52a1\u7684\u53d1\u5c55\uff0c\u73b0\u5728\u6ce8\u518c\u6210\u529f\u4e5f\u9700\u8981\u53d1 push\uff0c\u53d1\u4f18\u60e0\u5238,\u2026\u7b49"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(81991).A+"",width:"527",height:"242"})}),"\n",(0,c.jsx)(s.p,{children:"\u8fd9\u6837\u5149\u6ce8\u518c\u7528\u6237\u8fd9\u4e00\u6b65\u5c31\u9700\u8981\u8c03\u7528\u5f88\u591a\u670d\u52a1\uff0c\u5bfc\u81f4\u7528\u6237\u6ce8\u518c\u90fd\u9700\u8981\u82b1\u4e0d\u5c11\u65f6\u95f4\uff0c\u5047\u8bbe\u6bcf\u4e2a\u670d\u52a1\u8c03\u7528\u9700\u8981 50 ms\uff0c\u90a3\u4e48\u5149\u4ee5\u4e0a\u670d\u52a1\u5c31\u9700\u8981\u8c03\u7528 200 ms\uff0c\u800c\u4e14\u540e\u7eed\u4ea7\u54c1\u8fd8\u6709\u53ef\u80fd\u518d\u52a0\u4e00\u4e9b\u53d1\u65b0\u4eba\u7ea2\u5305\u7b49\u6d3b\u52a8\uff0c\u6bcf\u52a0\u4e00\u4e2a\u529f\u80fd\uff0c\u9664\u4e86\u5f15\u5165\u989d\u5916\u7684\u670d\u52a1\u589e\u52a0\u8017\u65f6\u5916\uff0c\u8fd8\u9700\u8981\u989d\u5916\u96c6\u6210\u670d\u52a1\uff0c\u91cd\u53d1\u4ee3\u7801\uff0c\u5b9e\u5728\u8ba9\u4eba\u70e6\u4e0d\u80dc\u70e6\uff0c\u5f20\u5927\u80d6\u60f3\u4e00\u52b3\u6c38\u9038\u5730\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4e8e\u662f\u627e\u4e86 CTO Bill \u6765\u5546\u91cf\u4e00\u4e0b\uff0c\u770b\u80fd\u5426\u63d0\u4f9b\u4e00\u4e9b\u601d\u8def"}),"\n",(0,c.jsx)(s.p,{children:"Bill \u4e00\u773c\u5c31\u770b\u51fa\u4e86\u95ee\u9898\u7684\u6240\u5728:\u4f60\u8fd9\u4e2a\u7cfb\u7edf\u5b58\u5728\u4e09\u4e2a\u95ee\u9898\uff1a\u540c\u6b65,\u8026\u5408,\u6d41\u91cf\u66b4\u589e\u65f6\u7cfb\u7edf\u88ab\u538b\u57ae\u7684\u98ce\u9669"}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.strong,{children:"\u540c\u6b65:"})," \u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5728\u6ce8\u518c\u7528\u6237\u540e\uff0c\u9700\u8981\u540c\u6b65\u8c03\u7528\u5176\u4ed6\u6a21\u5757\u540e\u624d\u80fd\u8fd4\u56de\uff0c",(0,c.jsx)(s.strong,{children:"\u8fd9\u662f\u8017\u65f6\u9ad8\u7684\u6839\u672c\u539f\u56e0\uff01"})]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.strong,{children:"\u8026\u5408:"})," \u6ce8\u518c\u7528\u6237\u4e0e\u5176\u4ed6\u6a21\u5757\u4e25\u91cd\u8026\u5408\uff0c\u4f53\u73b0\u5728\u6bcf\u8c03\u7528\u4e00\u4e2a\u6a21\u5757\uff0c\u90fd\u9700\u8981\u5728\u6ce8\u518c\u7528\u6237\u4ee3\u7801\u5904\u96c6\u6210\u5176\u4ed6\u6a21\u5757\u7684\u4ee3\u7801\u5e76\u91cd\u65b0\u53d1\u5e03\uff0c\u6b64\u65f6\u5728\u8fd9\u4e9b\u6d41\u7a0b\u4e2d\u53ea\u6709\u6ce8\u518c\u7528\u6237\u8fd9\u4e00\u6b65\u662f\u6838\u5fc3\u6d41\u7a0b\uff0c\u5176\u4ed6\u90fd\u662f\u6b21\u8981\u6d41\u7a0b\uff0c\u6838\u5fc3\u6d41\u7a0b\u5e94\u8be5\u4e0e\u6b21\u8981\u6d41\u7a0b\u89e3\u8026\uff0c\u5426\u5219\u53ea\u8981\u5176\u4e2d\u4e00\u4e2a\u6b21\u8981\u6d41\u7a0b\u8c03\u7528\u5931\u8d25\uff0c\u6574\u4e2a\u6d41\u7a0b\u4e5f\u5c31\u5931\u8d25\u4e86\uff0c\u4f53\u73b0\u5728\u524d\u7aef\u5c31\u662f\u660e\u660e\u5df2\u7ecf\u6ce8\u518c\u6210\u529f\u4e86\uff0c\u4f46\u8fd4\u56de\u7ed9\u7528\u6237\u7684\u5374\u662f\u5931\u8d25\u7684"]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.strong,{children:"\u6d41\u91cf\u66b4\u589e\u98ce\u9669\uff1a"})," \u5982\u679c\u67d0\u5929\u8fd0\u8425\u641e\u6d3b\u52a8\uff0c\u6bd4\u5982\u6ce8\u518c\u540e\u9001\u65b0\u4eba\u7ea2\u5305\uff0c\u90a3\u4e48\u5f88\u6709\u53ef\u80fd\u5bfc\u81f4\u7528\u6237\u6ce8\u518c\u7684\u6d41\u91cf\u66b4\u589e\uff0c\u90a3\u4e48\u7531\u4e8e\u6211\u4eec\u7684\u6ce8\u518c\u7528\u6237\u6d41\u7a0b\u8fc7\u957f\uff0c\u5f88\u6709\u53ef\u80fd\u5bfc\u81f4\u6ce8\u518c\u7528\u6237\u7684\u670d\u52a1\u65e0\u6cd5\u627f\u8f7d\u76f8\u5e94\u7684\u6d41\u91cf\u538b\u529b\u800c\u5bfc\u81f4\u7cfb\u7edf\u96ea\u5d29"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"\u4e0d\u6127\u662f CTO\uff0c\u4e00\u773c\u770b\u51fa\u95ee\u9898\u6240\u5728\uff0c\u300c\u90a3\u8be5\u600e\u4e48\u89e3\u51b3\u5462\u300d\u5f20\u5927\u80d6\u95ee\u5230"}),"\n",(0,c.jsx)(s.p,{children:"\u300c\u5927\u80d6\uff0c\u4f60\u5e94\u8be5\u542c\u8bf4\u8fc7\u4e00\u53e5\u8bdd\uff1a\u4efb\u4f55\u8f6f\u4ef6\u95ee\u9898\u90fd\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0\u4e00\u5c42\u4e2d\u95f4\u5c42\u6765\u89e3\u51b3\uff0c\u5982\u679c\u4e0d\u80fd\uff0c\u90a3\u5c31\u518d\u52a0\u4e00\u5c42\uff0c\u540c\u6837\u7684\u9488\u5bf9\u4ee5\u4e0a\u95ee\u9898\u6211\u4eec\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u4e2d\u95f4\u5c42\u6765\u89e3\u51b3\uff0c\u6bd4\u5982\u6dfb\u52a0\u4e2a\u961f\u5217\uff0c\u628a\u7528\u6237\u6ce8\u518c\u8fd9\u4e2a\u4e8b\u4ef6\u653e\u5230\u961f\u5217\u4e2d\uff0c\u8ba9\u5176\u4ed6\u6a21\u5757\u53bb\u8fd9\u4e2a\u961f\u5217\u91cc\u53d6\u8fd9\u4e2a\u4e8b\u4ef6\u7136\u540e\u518d\u505a\u76f8\u5e94\u7684\u64cd\u4f5c\u300dBill \u8fb9\u8bf4\u8fb9\u753b\u51fa\u4e86\u4ed6\u6240\u8bf4\u7684\u4e2d\u95f4\u5c42\u961f\u5217"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(49144).A+"",width:"767",height:"332"})}),"\n",(0,c.jsx)(s.p,{children:"\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u662f\u4e2a\u5178\u578b\u7684\u751f\u4ea7\u8005-\u6d88\u8d39\u8005\u6a21\u578b\uff0c\u7528\u6237\u6ce8\u518c\u540e\u53ea\u8981\u628a\u6ce8\u518c\u4e8b\u4ef6\u4e22\u7ed9\u8fd9\u4e2a\u961f\u5217\u5c31\u53ef\u4ee5\u7acb\u5373\u8fd4\u56de\uff0c\u5b9e\u73b0\u4e86\u5c06\u540c\u6b65\u53d8\u4e86\u5f02\u6b65\uff0c\u5176\u4ed6\u670d\u52a1\u53ea\u8981\u4ece\u8fd9\u4e2a\u961f\u5217\u4e2d\u62c9\u53d6\u4e8b\u4ef6\u6d88\u8d39\u5373\u53ef\u8fdb\u884c\u540e\u7eed\u7684\u64cd\u4f5c\uff0c\u540c\u65f6\u4e5f\u5b9e\u73b0\u4e86\u6ce8\u518c\u7528\u6237\u903b\u8f91\u4e0e\u5176\u4ed6\u670d\u52a1\u7684\u89e3\u8026\uff0c\u53e6\u5916\u5373\u4f7f\u6d41\u91cf\u66b4\u589e\u4e5f\u6ca1\u6709\u5f71\u54cd\uff0c\u56e0\u4e3a\u6ce8\u518c\u7528\u6237\u5c06\u4e8b\u4ef6\u53d1\u7ed9\u961f\u5217\u540e\u9a6c\u4e0a\u8fd4\u56de\u4e86\uff0c\u8fd9\u4e00\u53d1\u6d88\u606f\u53ef\u80fd\u53ea\u8981 5 ms\uff0c\u4e5f\u5c31\u662f\u8bf4\u603b\u8017\u65f6\u662f 50ms+5ms = 55 ms\uff0c\u800c\u539f\u6765\u7684\u603b\u8017\u65f6\u662f 200 ms\uff0c\u7cfb\u7edf\u7684\u541e\u5410\u91cf\u548c\u54cd\u5e94\u901f\u5ea6\u63d0\u5347\u4e86\u8fd1 4 \u500d\uff0c\u5927\u5927\u63d0\u5347\u4e86\u7cfb\u7edf\u7684\u8d1f\u8d23\u80fd\u529b\uff0c\u8fd9\u4e00\u6b65\u4e5f\u5c31\u662f\u6211\u4eec\u5e38\u8bf4\u7684\u524a\u5cf0\uff0c\u5c06\u66b4\u589e\u7684\u6d41\u91cf\u653e\u5165\u961f\u5217\u4e2d\u4ee5\u5b9e\u73b0\u5e73\u7a33\u8fc7\u6e21"}),"\n",(0,c.jsx)(s.p,{children:"\u300c\u5999\u554a\uff0c\u52a0\u4e86\u4e00\u5c42\u961f\u5217\u5c31\u8fbe\u5230\u4e86\u5f02\u6b65\uff0c\u89e3\u85d5\uff0c\u524a\u5cf0\u7684\u76ee\u7684\uff0c\u4e5f\u5b8c\u7f8e\u5730\u89e3\u51b3\u4e86\u6211\u7684\u95ee\u9898\u300d\u5f20\u5927\u80d6\u5174\u594b\u5730\u8bf4"}),"\n",(0,c.jsx)(s.p,{children:"\u300c\u5148\u522b\u9ad8\u5174\u5f97\u592a\u65e9\uff0c\u4f60\u60f3\u60f3\u8fd9\u4e2a\u961f\u5217\u8be5\u7528\u54ea\u4e2a\uff0cJDK \u7684\u5185\u7f6e\u961f\u5217\u662f\u5426\u53ef\u884c\uff0c\u6216\u8005\u8bf4\u4ec0\u4e48\u6837\u7684\u961f\u5217\u624d\u80fd\u6ee1\u8db3\u6211\u4eec\u7684\u6761\u4ef6\u5462\u300dBill \u63d0\u9192\u9053"}),"\n",(0,c.jsx)(s.p,{children:"\u5f20\u5927\u80d6\u60f3\u4e86\u4e00\u4e0b\u5982\u679c\u76f4\u63a5\u4f7f\u7528 JDK \u7684\u961f\u5217\uff08Queue\uff09\u53ef\u80fd\u4f1a\u6709\u4ee5\u4e0b\u95ee\u9898\uff1a"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u7531\u4e8e\u961f\u5217\u5728\u751f\u4ea7\u8005\u6240\u5728\u670d\u52a1\u5185\u5b58\uff0c\u5176\u4ed6\u6d88\u8d39\u8005\u4e0d\u5f97\u4e0d\u4ece\u751f\u4ea7\u8005\u4e2d\u53d6\uff0c\u4e5f\u5c31\u610f\u5473\u7740\u751f\u4ea7\u8005\u4e0e\u6d88\u8d39\u8005\u7d27\u8026\u5408\uff0c\u8fd9\u663e\u7136\u4e0d\u5408\u7406"}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u6d88\u606f\u4e22\u5931\uff1a\u73b0\u5728\u662f\u628a\u6d88\u606f\u5b58\u50a8\u5728\u961f\u5217\u4e2d\uff0c\u800c\u961f\u5217\u662f\u5728\u5185\u5b58\u4e2d\u7684\uff0c\u90a3\u5982\u679c\u673a\u5668\u5b95\u673a\uff0c\u961f\u5217\u4e2d\u7684\u6d88\u606f\u4e0d\u5c31\u4e22\u5931\u4e86\u5417\uff0c\u663e\u7136\u4e0d\u53ef\u63a5\u53d7"}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u5355\u4e2a\u961f\u5217\u4e2d\u7684\u6d88\u606f\u53ea\u80fd\u88ab\u4e00\u4e2a\u670d\u52a1\u6d88\u8d39\uff0c\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u67d0\u4e2a\u670d\u52a1\u4ece\u961f\u5217\u4e2d\u53d6\u6d88\u606f\u6d88\u8d39\u540e\uff0c\u5176\u4ed6\u670d\u52a1\u5c31\u53d6\u4e0d\u4e86\u8fd9\u4e2a\u6d88\u606f\u4e86,\u6709\u4e00\u4e2a\u529e\u6cd5\u5012\u662f\u53ef\u4ee5\uff0c\u4e3a\u6bcf\u4e00\u4e2a\u670d\u52a1\u51c6\u5907\u4e00\u4e2a\u961f\u5217\uff0c\u8fd9\u6837\u53d1\u9001\u6d88\u606f\u7684\u65f6\u5019\u53ea\u53d1\u9001\u7ed9\u4e00\u4e2a\u961f\u5217\uff0c\u518d\u901a\u8fc7\u8fd9\u4e2a\u961f\u5217\u628a\u5b8c\u6574\u6d88\u606f\u590d\u5236\u7ed9\u5176\u4ed6\u961f\u5217\u5373\u53ef"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(10325).A+"",width:"722",height:"332"})}),"\n",(0,c.jsx)(s.p,{children:"\u8fd9\u79cd\u505a\u6cd5\u867d\u7136\u7406\u8bba\u4e0a\u53ef\u4ee5\uff0c\u4f46\u5b9e\u8df5\u8d77\u6765\u663e\u7136\u6709\u95ee\u9898\uff0c\u56e0\u4e3a\u8fd9\u5c31\u610f\u5473\u7740\u6bcf\u5bf9\u63a5\u4e00\u4e2a\u670d\u52a1\u90fd\u8981\u51c6\u5907\u4e00\u4efd\u4e00\u6a21\u4e00\u6837\u7684\u961f\u5217\uff0c\u800c\u4e14\u590d\u5236\u591a\u4efd\u6d88\u606f\u6027\u80fd\u4e5f\u5b58\u5728\u4e25\u91cd\u95ee\u9898\uff0c\u8fd8\u5f97\u4fdd\u8bc1\u590d\u5236\u4e2d\u6d88\u606f\u4e0d\u4e22\u5931\uff0c\u65e0\u7591\u589e\u52a0\u4e86\u6280\u672f\u4e0a\u7684\u5b9e\u73b0\u96be\u5ea6"}),"\n",(0,c.jsx)(s.h2,{id:"broker",children:"broker"}),"\n",(0,c.jsx)(s.p,{children:"\u9488\u5bf9\u4ee5\u4e0a\u95ee\u9898 Bill \u548c\u5f20\u5927\u80d6\u5546\u91cf\u4e86\u4e00\u4e0b\u51b3\u5b9a\u81ea\u5df1\u8bbe\u8ba1\u4e00\u4e2a\u72ec\u7acb\u4e8e\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u7684\u6d88\u606f\u961f\u5217\uff08\u59d1\u4e14\u628a\u4e2d\u95f4\u8fd9\u4e2a\u4fdd\u5b58\u6d88\u606f\u7684\u7ec4\u4ef6\u79f0\u4e3a Broker\uff09\uff0c\u8fd9\u6837\u7684\u8bdd\u5c31\u89e3\u51b3\u4e86\u95ee\u9898\u4e00\uff0c\u751f\u4ea7\u8005\u628a\u6d88\u606f\u53d1\u7ed9 Broker\uff0c\u6d88\u8d39\u8005\u53ea\u9700\u628a\u6d88\u606f\u4ece Broker \u91cc\u62c9\u51fa\u6765\u6d88\u8d39\u5373\u53ef\uff0c\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u5c31\u5f7b\u5e95\u89e3\u8026\u4e86\uff0c\u5982\u4e0b"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(73262).A+"",width:"707",height:"122"})}),"\n",(0,c.jsx)(s.p,{children:"\u90a3\u4e48\u8fd9\u4e2a Broker \u5e94\u8be5\u5982\u4f55\u8bbe\u8ba1\u624d\u80fd\u6ee1\u8db3\u6211\u4eec\u7684\u8981\u6c42\u5462\uff0c\u663e\u7136\u5b83\u5e94\u8be5\u6ee1\u8db3\u4ee5\u4e0b\u51e0\u4e2a\u6761\u4ef6\uff1a"}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.strong,{children:"\u6d88\u606f\u6301\u4e45\u5316\uff1a"})," \u4e0d\u80fd\u56e0\u4e3a Broker \u5b95\u673a\u4e86\u6d88\u606f\u5c31\u90fd\u4e22\u5931\u4e86\uff0c\u6240\u4ee5\u6d88\u606f\u4e0d\u80fd\u53ea\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u5e94\u8be5\u6301\u4e45\u5316\u5230\u78c1\u76d8\u4e0a\uff0c\u6bd4\u5982\u4fdd\u5b58\u5728\u6587\u4ef6\u91cc\uff0c\u8fd9\u6837\u7531\u4e8e\u6d88\u606f\u6301\u4e45\u5316\u4e86\uff0c\u5b83\u4e5f\u53ef\u4ee5\u88ab\u591a\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39\uff0c\u53ea\u8981\u6bcf\u4e2a\u6d88\u8d39\u8005\u4fdd\u5b58\u76f8\u5e94\u7684\u6d88\u8d39\u8fdb\u5ea6\uff0c\u5373\u53ef\u5b9e\u73b0\u591a\u4e2a\u6d88\u8d39\u8005\u7684\u72ec\u7acb\u6d88\u8d39"]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.strong,{children:"\u9ad8\u53ef\u7528\uff1a"})," \u5982\u679c Broker \u5b95\u673a\u4e86\uff0cproducer \u5c31\u53d1\u4e0d\u4e86\u6d88\u606f\u4e86\uff0cconsumer \u4e5f\u65e0\u6cd5\u6d88\u8d39\uff0c\u8fd9\u663e\u7136\u662f\u4e0d\u53ef\u63a5\u53d7\u7684\uff0c\u6240\u4ee5\u5fc5\u987b\u4fdd\u8bc1 Broker \u7684\u9ad8\u53ef\u7528"]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.strong,{children:"\u9ad8\u6027\u80fd\uff1a"})," \u6211\u4eec\u5b9a\u4e00\u4e2a\u6307\u6807\uff0c\u6bd4\u5982 10w TPS\uff0c\u90a3\u4e48\u8981\u5b9e\u73b0\u8fd9\u4e2a\u76ee\u7684\u5c31\u5f97\u6ee1\u8db3\u4ee5\u4e0b\u4e09\u4e2a\u6761\u4ef6\uff1a"]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"-- producer"})," \u53d1\u9001\u6d88\u606f\u8981\u5feb\uff08\u6216\u8005\u8bf4 broker \u63a5\u6536\u6d88\u606f\u8981\u5feb\uff09"]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"-- broker"})," \u6301\u4e45\u5316\u5230\u6587\u4ef6\u8981\u5feb"]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"-- consumer"})," \u62c9\u53d6\u6d88\u606f\u8981\u5feb"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"\u63a5\u4e0b\u6765\u6211\u4eec\u518d\u6765\u770b broker \u7684\u6574\u4f53\u8bbe\u8ba1\u60c5\u51b5"}),"\n",(0,c.jsx)(s.p,{children:"\u9488\u5bf9\u95ee\u9898\u4e00\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u6d88\u606f\u5b58\u50a8\u5728\u6587\u4ef6\u4e2d\uff0c\u6d88\u606f\u901a\u8fc7\u987a\u5e8f\u5199\u5165\u6587\u4ef6\u7684\u65b9\u5f0f\u6765\u4fdd\u8bc1\u5199\u5165\u6587\u4ef6\u7684\u9ad8\u6027\u80fd"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(52747).A+"",width:"455",height:"287"})}),"\n",(0,c.jsx)(s.p,{children:"\u987a\u5e8f\u5199\u6587\u4ef6\u7684\u6027\u80fd\u5f88\u9ad8\uff0c\u63a5\u8fd1\u4e8e\u5185\u5b58\u4e2d\u7684\u968f\u673a\u5199\uff0c\u5982\u4e0b\u56fe\u793a"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(27580).A+"",width:"566",height:"254"})}),"\n",(0,c.jsx)(s.p,{children:"\u8fd9\u6837 consumer \u5982\u679c\u8981\u6d88\u8d39\u7684\u8bdd\uff0c\u5c31\u53ef\u4ee5\u4ece\u5b58\u50a8\u6587\u4ef6\u4e2d\u8bfb\u53d6\u6d88\u606f\u4e86\u3002\u597d\u4e86\uff0c\u73b0\u5728\u95ee\u9898\u6765\u4e86\uff0c\u6211\u4eec\u90fd\u77e5\u9053\u6d88\u606f\u6587\u4ef6\u662f\u5b58\u5728\u786c\u76d8\u4e2d\u7684\uff0c\u5982\u679c\u6bcf\u6b21 broker \u63a5\u6536\u6d88\u606f\u90fd\u5199\u5165\u6587\u4ef6\uff0c\u6bcf\u6b21 consumer \u8bfb\u53d6\u6d88\u606f\u90fd\u4ece\u786c\u76d8\u8bfb\u53d6\u6587\u4ef6\uff0c\u7531\u4e8e\u90fd\u662f\u78c1\u76d8 IO\uff0c\u662f\u975e\u5e38\u8017\u65f6\u7684\uff0c\u6709\u4ec0\u4e48\u529e\u6cd5\u53ef\u4ee5\u89e3\u51b3\u5462"}),"\n",(0,c.jsx)(s.h2,{id:"page-cache",children:"page cache"}),"\n",(0,c.jsxs)(s.p,{children:["\u78c1\u76d8 IO \u662f\u5f88\u6162\u7684\uff0c\u4e3a\u4e86\u907f\u514d CPU \u6bcf\u6b21\u8bfb\u5199\u6587\u4ef6\u90fd\u5f97\u548c\u78c1\u76d8\u4ea4\u4e92\uff0c\u4e00\u822c\u5148\u5c06\u6587\u4ef6\u8bfb\u53d6\u5230\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u518d\u7531 CPU \u8bbf\u95ee\uff0c\u8fd9\u6837 CPU \u76f4\u63a5\u5728\u5185\u5b58\u4e2d\u8bfb\u5199\u6587\u4ef6\u5c31\u5feb\u591a\u4e86\uff0c\u90a3\u4e48\u6587\u4ef6\u600e\u4e48\u4ece\u78c1\u76d8\u8bfb\u53d6\u5165\u5185\u5b58\u5462\uff0c\u9996\u5148\u6211\u4eec\u9700\u8981\u660e\u767d\u6587\u4ef6\u662f\u4ee5 block\uff08\u5757\uff09\u7684\u5f62\u5f0f\u8bfb\u53d6\u7684\uff0c\u800c Linux \u5185\u6838\u5728\u5185\u5b58\u4e2d\u4f1a\u4ee5\u9875\u5927\u5c0f\uff08\u4e00\u822c\u4e3a 4KB\uff09\u4e3a\u5206\u914d\u5355\u4f4d\u3002\u5bf9\u6587\u4ef6\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u65f6\uff0c\u5185\u6838\u4f1a\u7533\u8bf7\u5185\u5b58\u9875\uff08\u5185\u5b58\u9875\u5373 page\uff0c\u591a\u4e2a page \u7ec4\u6210 page cache\uff0c\u5373\u9875\u7f13\u5b58\uff09\uff0c\u7136\u540e\u5c06\u6587\u4ef6\u7684 block \u52a0\u8f7d\u5230\u9875\u7f13\u5b58\u4e2d\uff08",(0,c.jsx)(s.code,{children:"n block size = 1 page size"}),"\uff0c\u5982\u679c\u4e00\u4e2a block \u5927\u5c0f\u7b49\u4e8e\u4e00\u4e2a page\uff0c\u5219 n = 1\uff09\u5982\u4e0b\u56fe\u793a"]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(71929).A+"",width:"437",height:"369"})}),"\n",(0,c.jsx)(s.p,{children:"\u8fd9\u6837\u7684\u8bdd\u8bfb\u5199\u6587\u4ef6\u7684\u8fc7\u7a0b\u5c31\u4e00\u76ee\u4e86\u89e3"}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.strong,{children:"\u5bf9\u4e8e\u8bfb\u6587\u4ef6\uff1a"})," CPU \u8bfb\u53d6\u6587\u4ef6\u65f6\uff0c\u9996\u5148\u4f1a\u5728 page cache \u4e2d\u67e5\u627e\u662f\u5426\u6709\u76f8\u5e94\u7684\u6587\u4ef6\u6570\u636e\uff0c\u5982\u679c\u6709\u76f4\u63a5\u5bf9 page cache \u8fdb\u884c\u64cd\u4f5c\uff0c\u5982\u679c\u6ca1\u6709\u5219\u4f1a\u89e6\u53d1\u4e00\u4e2a\u7f3a\u9875\u5f02\u5e38\uff08fault page\uff09\u5c06\u78c1\u76d8\u4e0a\u7684\u5757\u52a0\u8f7d\u5230 page cache \u4e2d\uff0c\u540c\u65f6\u7531\u4e8e\u7a0b\u5e8f\u5c40\u90e8\u6027\u539f\u7406\uff0c\u4f1a\u4e00\u6b21\u6027\u52a0\u8f7d\u591a\u4e2a page\uff08\u8bfb\u53d6\u6570\u636e\u6240\u5728\u7684 page \u53ca\u5176\u76f8\u90bb\u7684 page \uff09\u5230 page cache \u4e2d\u4ee5\u4fdd\u8bc1\u8bfb\u53d6\u6548\u7387"]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.strong,{children:"\u5bf9\u4e8e\u5199\u6587\u4ef6\uff1a"})," CPU \u9996\u5148\u4f1a\u5c06\u6570\u636e\u5199\u5165 page cache \u4e2d\uff0c\u7136\u540e\u518d\u5c06 page cache \u5237\u5165\u78c1\u76d8\u4e2d"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"CPU \u5bf9\u6587\u4ef6\u7684\u8bfb\u5199\u64cd\u4f5c\u5c31\u8f6c\u5316\u6210\u4e86\u5bf9\u9875\u7f13\u5b58\u7684\u8bfb\u5199\u64cd\u4f5c\uff0c\u8fd9\u6837\u53ea\u8981\u8ba9 producer/consumer \u5728\u5185\u5b58\u4e2d\u8bfb\u5199\u6d88\u606f\u6587\u4ef6\uff0c\u5c31\u907f\u514d\u4e86\u78c1\u76d8 IO"}),"\n",(0,c.jsx)(s.h2,{id:"mmap",children:"mmap"}),"\n",(0,c.jsx)(s.p,{children:"\u9700\u8981\u6ce8\u610f\u7684\u662f page cache \u662f\u5b58\u5728\u5185\u6838\u7a7a\u95f4\u4e2d\u7684\uff0c\u8fd8\u4e0d\u80fd\u76f4\u63a5\u4e3a\u5e94\u7528\u7a0b\u5e8f\u6240\u7528\uff0c\u5fc5\u987b\u7ecf\u7531 CPU \u5c06\u5185\u6838\u7a7a\u95f4 page cache \u62f7\u8d1d\u5230\u7528\u6237\u7a7a\u95f4\u4e2d\u624d\u80fd\u4e3a\u8fdb\u7a0b\u6240\u7528\uff08\u540c\u6837\u7684\u5982\u679c\u662f\u5199\u6587\u4ef6\uff0c\u4e5f\u662f\u5148\u5199\u5230\u7528\u6237\u7a7a\u95f4\u7684\u7f13\u51b2\u533a\u4e2d\uff0c\u518d\u62f7\u8d1d\u5230\u5185\u6838\u7a7a\u95f4\u7684 page cache\uff0c\u7136\u540e\u518d\u5237\u76d8\uff09"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(42658).A+"",width:"737",height:"497"})}),"\n",(0,c.jsx)(s.p,{children:"\u753b\u5916\u97f3\uff1a\u4e3a\u5565\u8981\u5c06 page cache \u62f7\u8d1d\u5230\u7528\u6237\u7a7a\u95f4\u5462\uff0c\u8fd9\u4e3b\u8981\u662f\u56e0\u4e3a\u9875\u7f13\u5b58\u5904\u5728\u5185\u6838\u7a7a\u95f4\uff0c\u4e0d\u80fd\u88ab\u7528\u6237\u8fdb\u7a0b\u76f4\u63a5\u5bfb\u5740"}),"\n",(0,c.jsx)(s.p,{children:"\u4e0a\u56fe\u4e3a\u7a0b\u5e8f\u8bfb\u53d6\u6587\u4ef6\u5b8c\u6574\u6d41\u7a0b\uff1a"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u9996\u5148\u662f\u786c\u76d8\u4e2d\u7684\u6587\u4ef6\u6570\u636e\u8f7d\u5165\u5904\u4e8e\u5185\u6838\u7a7a\u95f4\u4e2d\u7684 page cache\uff08\u4e5f\u5c31\u662f\u6211\u4eec\u5e73\u5e38\u6240\u8bf4\u7684\u5185\u6838\u7f13\u51b2\u533a\uff09"}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"CPU \u5c06\u5176\u62f7\u8d1d\u5230\u7528\u6237\u7a7a\u95f4\u4e2d\u7684\u7528\u6237\u7f13\u51b2\u533a\u4e2d"}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u7a0b\u5e8f\u901a\u8fc7\u7528\u6237\u7a7a\u95f4\u7684\u865a\u62df\u5185\u5b58\u6765\u6620\u5c04\u64cd\u4f5c\u7528\u6237\u7f13\u51b2\u533a\uff08\u4e24\u8005\u901a\u8fc7 MMU \u6765\u8f6c\u6362\uff09\uff0c\u8fdb\u800c\u8fbe\u5230\u4e86\u5728\u5185\u5b58\u4e2d\u8bfb\u5199\u6587\u4ef6\u7684\u76ee\u7684"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"\u5c06\u4ee5\u4e0a\u6d41\u7a0b\u7b80\u5316\u5982\u4e0b"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(55327).A+"",width:"663",height:"431"})}),"\n",(0,c.jsx)(s.p,{children:"\u4ee5\u4e0a\u662f\u4f20\u7edf\u7684\u6587\u4ef6\u8bfb IO \u6d41\u7a0b\uff0c\u53ef\u4ee5\u770b\u5230\u7a0b\u5e8f\u7684\u4e00\u6b21\u8bfb\u6587\u4ef6\u7ecf\u5386\u4e86\u4e00\u6b21 read \u7cfb\u7edf\u8c03\u7528\u548c\u4e00\u6b21 CPU \u62f7\u8d1d\uff0c\u90a3\u4e48\u4ece\u5185\u6838\u7f13\u51b2\u533a\u62f7\u8d1d\u5230\u7528\u6237\u7f13\u51b2\u533a\u7684\u8fd9\u4e00\u6b65\u80fd\u5426\u53d6\u6d88\u6389\u5462\uff0c\u7b54\u6848\u662f\u80af\u5b9a\u7684"}),"\n",(0,c.jsx)(s.p,{children:"\u53ea\u8981\u5c06\u865a\u62df\u5185\u5b58\u6620\u5c04\u5230\u5185\u6838\u7f13\u5b58\u533a\u5373\u53ef\uff0c\u5982\u4e0b"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(57255).A+"",width:"737",height:"605"})}),"\n",(0,c.jsx)(s.p,{children:"\u53ef\u4ee5\u770b\u5230\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u6709\u4e24\u4e2a\u597d\u5904"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u7701\u53bb\u4e86 CPU \u62f7\u8d1d\uff0c\u539f\u672c\u9700\u8981 CPU \u4ece\u5185\u6838\u7f13\u51b2\u533a\u62f7\u8d1d\u5230\u7528\u6237\u7f13\u51b2\u533a\uff0c\u73b0\u5728\u8fd9\u4e00\u6b65\u7701\u53bb\u4e86"}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u8282\u7701\u4e86\u4e00\u534a\u7684\u7a7a\u95f4: \u56e0\u4e3a\u4e0d\u9700\u8981\u5c06 page cache \u62f7\u8d1d\u5230\u7528\u6237\u7a7a\u95f4\u4e86\uff0c\u53ef\u4ee5\u8ba4\u4e3a\u7528\u6237\u7a7a\u95f4\u548c\u5185\u6838\u7a7a\u95f4\u5171\u4eab page cache"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"\u6211\u4eec\u628a\u8fd9\u79cd\u901a\u8fc7\u5c06\u6587\u4ef6\u6620\u5c04\u5230\u8fdb\u7a0b\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4ece\u800c\u5b9e\u73b0\u5728\u5185\u5b58\u4e2d\u8bfb\u5199\u6587\u4ef6\u7684\u65b9\u5f0f\u79f0\u4e3a mmap\uff08Memory Mapped Files\uff09"}),"\n",(0,c.jsx)(s.p,{children:"\u4e0a\u9762\u8fd9\u5f20\u56fe\u753b\u5f97\u6709\u70b9\u7b80\u5355\u4e86\uff0c\u518d\u6765\u770b\u4e00\u4e0b mmap \u7684\u7ec6\u8282"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(5866).A+"",width:"1080",height:"711"})}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u5148\u628a\u78c1\u76d8\u4e0a\u7684\u6587\u4ef6\u6620\u5c04\u5230\u8fdb\u7a0b\u7684\u865a\u62df\u5730\u5740\u4e0a\uff08\u6b64\u65f6\u8fd8\u672a\u5206\u914d\u7269\u7406\u5185\u5b58\uff09\uff0c\u5373\u8c03\u7528 mmap \u51fd\u6570\u8fd4\u56de\u6307\u9488 ptr\uff0c\u5b83\u6307\u5411\u865a\u62df\u5185\u5b58\u4e2d\u7684\u4e00\u4e2a\u5730\u5740\uff0c\u8fd9\u6837\u8fdb\u7a0b\u65e0\u9700\u518d\u8c03\u7528 read \u6216 write \u5bf9\u6587\u4ef6\u8fdb\u884c\u8bfb\u5199\uff0c\u53ea\u9700\u8981\u901a\u8fc7 ptr \u5c31\u80fd\u64cd\u4f5c\u6587\u4ef6\uff0c\u6240\u4ee5\u5982\u679c\u9700\u8981\u5bf9\u6587\u4ef6\u8fdb\u884c\u591a\u6b21\u8bfb\u5199\uff0c\u663e\u7136\u4f7f\u7528 mmap \u66f4\u9ad8\u6548\uff0c\u56e0\u4e3a\u53ea\u4f1a\u8fdb\u884c\u4e00\u6b21\u7cfb\u7edf\u8c03\u7528\uff0c\u6bd4\u8d77\u591a\u6b21 read \u6216 write \u9020\u6210\u7684\u591a\u6b21\u7cfb\u7edf\u8c03\u7528\u663e\u7136\u5f00\u9500\u4f1a\u66f4\u4f4e"}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u4f46\u9700\u8981\u6ce8\u610f\u7684\u662f\u6b64\u65f6\u7684 ptr \u6307\u5411\u7684\u662f\u903b\u8f91\u5730\u5740\uff0c\u5e76\u672a\u771f\u6b63\u5206\u914d\u7269\u7406\u5185\u5b58\uff0c\u53ea\u6709\u901a\u8fc7 ptr \u5bf9\u6587\u4ef6\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u65f6\u624d\u4f1a\u5206\u914d\u7269\u7406\u5185\u5b58\uff0c\u5206\u914d\u4e4b\u540e\u4f1a\u66f4\u65b0\u9875\u8868\uff0c\u5c06\u865a\u62df\u5185\u5b58\u4e0e\u7269\u7406\u5185\u5b58\u6620\u5c04\u8d77\u6765\uff0c\u8fd9\u6837\u865a\u62df\u5185\u5b58\u5373\u53ef\u901a\u8fc7 MMU \u627e\u5230\u7269\u7406\u5185\u5b58\uff0c\u5206\u914d\u5b8c\u5185\u5b58\u540e\u5373\u53ef\u5c06\u6587\u4ef6\u52a0\u8f7d\u5230 page cache\uff0c\u4e8e\u662f\u8fdb\u7a0b\u5c31\u53ef\u5728\u5185\u5b58\u4e2d\u6109\u5feb\u5730\u8bfb\u5199\u6587\u4ef6\u4e86"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"\u4f7f\u7528 mmap \u6709\u529b\u5730\u63d0\u5347\u4e86\u6587\u4ef6\u7684\u8bfb\u5199\u6027\u80fd\uff0c\u5b83\u4e5f\u662f\u6211\u4eec\u5e38\u8bf4\u7684\u96f6\u62f7\u8d1d\u7684\u4e00\u79cd\u5b9e\u73b0\u65b9\u5f0f\uff0c\u65e2\u7136 mmap \u8fd9\u4e48\u597d\uff0c\u53ef\u80fd\u6709\u4eba\u5c31\u8981\u95ee\u4e86\uff0c\u90a3\u4e3a\u4ec0\u4e48\u6587\u4ef6\u8bfb\u5199\u4e0d\u90fd\u7528 mmap \u5462\uff0c\u5929\u4e0b\u6ca1\u6709\u514d\u8d39\u7684\u5348\u9910\uff0cmmap \u4e5f\u662f\u6709\u6210\u672c\u7684\uff0c\u5b83\u6709\u5982\u4e0b\u7f3a\u70b9"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.strong,{children:"\u6587\u4ef6\u65e0\u6cd5\u5b8c\u6210\u62d3\u5c55\uff1a"})," \u56e0\u4e3a\u6267\u884c mmap \u7684\u65f6\u5019\uff0c\u4f60\u6240\u80fd\u64cd\u4f5c\u7684\u8303\u56f4\u5c31\u5df2\u7ecf\u786e\u5b9a\u4e86\uff0c\u65e0\u6cd5\u589e\u52a0\u6587\u4ef6\u957f\u5ea6"]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.strong,{children:"\u5730\u5740\u6620\u5c04\u7684\u5f00\u9500\uff1a"})," \u4e3a\u4e86\u521b\u5efa\u5e76\u7ef4\u6301\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4e0e\u6587\u4ef6\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u5185\u6838\u4e2d\u9700\u8981\u6709\u7279\u5b9a\u7684\u6570\u636e\u7ed3\u6784\u6765\u5b9e\u73b0\u8fd9\u4e00\u6620\u5c04\u3002\u5185\u6838\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u7ef4\u62a4\u4e00\u4e2a\u4efb\u52a1\u7ed3\u6784 task_struct\uff0ctask_struct \u4e2d\u7684 mm_struct \u63cf\u8ff0\u4e86\u865a\u62df\u5185\u5b58\u7684\u4fe1\u606f\uff0cmm_struct \u4e2d\u7684 mmap \u5b57\u6bb5\u662f\u4e00\u4e2a vm_area_struct \u6307\u9488\uff0c\u5185\u6838\u4e2d\u7684 vm_area_struct \u5bf9\u8c61\u88ab\u7ec4\u7ec7\u6210\u4e00\u4e2a\u94fe\u8868 + \u7ea2\u9ed1\u6811\u7684\u7ed3\u6784\u3002\u5982\u4e0b\u56fe\u793a"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(81589).A+"",width:"1024",height:"546"})}),"\n",(0,c.jsx)(s.p,{children:"\u6240\u4ee5\u7406\u8bba\u4e0a\uff0c\u8fdb\u7a0b\u8c03\u7528\u4e00\u6b21 mmap \u5c31\u4f1a\u4ea7\u751f\u4e00\u4e2a vm_area_struct \u5bf9\u8c61\uff08\u4e0d\u8003\u8651\u5185\u6838\u81ea\u52a8\u5408\u5e76\u76f8\u90bb\u4e14\u7b26\u5408\u6761\u4ef6\u7684\u5185\u5b58\u533a\u57df\uff09\uff0cvm_area_struct \u6570\u91cf\u7684\u589e\u52a0\u4f1a\u589e\u5927\u5185\u6838\u7684\u7ba1\u7406\u5de5\u4f5c\u91cf\uff0c\u589e\u5927\u7cfb\u7edf\u5f00\u9500"}),"\n",(0,c.jsxs)(s.ol,{start:"3",children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.strong,{children:"\u7f3a\u9875\u4e2d\u65ad\uff08page fault\uff09\u7684\u5f00\u9500:"})," \u8c03\u7528 mmap \u5185\u6838\u53ea\u662f\u5efa\u7acb\u4e86\u903b\u8f91\u5730\u5740\uff08\u865a\u62df\u5185\u5b58\uff09\u5230\u7269\u7406\u5730\u5740\uff08\u7269\u7406\u5185\u5b58\uff09\u7684\u6620\u5c04\u8868\uff0c\u5b9e\u9645\u5e76\u6ca1\u6709\u4efb\u4f55\u6570\u636e\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\u4e2d\uff0c\u53ea\u6709\u5728\u4e3b\u52a8\u8bfb\u5199\u6587\u4ef6\u7684\u65f6\u5019\u53d1\u73b0\u6570\u636e\u6240\u5728\u5206\u9875\u4e0d\u5728\u5185\u5b58\u4e2d\u65f6\u624d\u4f1a\u89e6\u53d1\u7f3a\u9875\u4e2d\u65ad\uff0c\u5206\u914d\u7269\u7406\u5185\u5b58\uff0c\u7f3a\u9875\u4e2d\u65ad\u4e00\u6b21\u8bfb\u5199\u53ea\u4f1a\u89e6\u53d1\u4e00\u4e2a page \u7684\u52a0\u8f7d\uff0c\u4e00\u4e2a page \u53ea\u6709 4k\uff0c\u60f3\u8c61\u4e00\u6b21\uff0c\u5982\u679c\u4e00\u4e2a\u6587\u4ef6\u662f 1G\uff0c\u90a3\u5c31\u5f97\u89e6\u53d1 256 \u6b21\u7f3a\u9875\u4e2d\u65ad\uff01\u4e2d\u65ad\u7684\u5f00\u9500\u662f\u5f88\u5927\u7684\uff0c\u90a3\u4e48\u5bf9\u4e8e\u5927\u6587\u4ef6\u6765\u8bf4\uff0c\u5c31\u4f1a\u53d1\u751f\u5f88\u591a\u6b21\u7684\u7f3a\u9875\u4e2d\u65ad\uff0c\u8fd9\u663e\u7136\u662f\u4e0d\u53ef\u63a5\u53d7\u7684\uff0c\u6240\u4ee5\u4e00\u822c mmap \u5f97\u914d\u5408\u53e6\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528 madvise\uff0c\u5b83\u6709\u4e2a",(0,c.jsx)(s.strong,{children:"\u6587\u4ef6\u9884\u70ed"}),"\u7684\u529f\u80fd\u53ef\u4ee5\u5efa\u8bae\u5185\u6838\u4e00\u6b21\u6027\u5c06\u4e00\u5927\u6bb5\u6587\u4ef6\u6570\u636e\u8bfb\u53d6\u5165\u5185\u5b58\uff0c\u8fd9\u6837\u5c31\u907f\u514d\u4e86\u591a\u6b21\u7684\u7f3a\u9875\u4e2d\u65ad\uff0c\u540c\u65f6\u4e3a\u4e86\u907f\u514d\u6587\u4ef6\u4ece\u5185\u5b58\u4e2d swap \u5230\u78c1\u76d8\uff0c\u4e5f\u53ef\u4ee5\u5bf9\u8fd9\u5757\u5185\u5b58\u533a\u57df\u8fdb\u884c\u9501\u5b9a\uff0c\u907f\u514d\u6362\u51fa"]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.strong,{children:"mmap \u5e76\u4e0d\u9002\u5408\u8bfb\u53d6\u8d85\u5927\u578b\u6587\u4ef6"})," \uff0cmmap \u9700\u8981",(0,c.jsx)(s.strong,{children:"\u9884\u5148\u5206\u914d\u8fde\u7eed\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4"}),"\u7528\u4e8e\u6620\u5c04\u6587\u4ef6\uff0c\u5982\u679c\u6587\u4ef6\u8f83\u5927\uff0c\u5bf9\u4e8e 32 \u4f4d\u5730\u5740\u7a7a\u95f4\uff084 G\uff09\u7684\u7cfb\u7edf\u6765\u8bf4\uff0c\u53ef\u80fd\u627e\u4e0d\u5230\u8db3\u591f\u5927\u7684\u8fde\u7eed\u533a\u57df\uff0c\u800c\u4e14\u5982\u679c\u67d0\u4e2a\u6587\u4ef6\u592a\u5927\u7684\u8bdd\uff0c\u4f1a\u6324\u538b\u5176\u4ed6\u70ed\u70b9\u5c0f\u6587\u4ef6\u7684 page cache \u7a7a\u95f4\uff0c\u5f71\u54cd\u8fd9\u4e9b\u6587\u4ef6\u7684\u8bfb\u5199\u6027\u80fd"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"\u7efc\u4e0a\u8003\u8651\uff0c\u6211\u4eec\u7ed9\u6bcf\u4e00\u4e2a\u6d88\u606f\u6587\u4ef6\u5b9a\u4e3a\u56fa\u5b9a\u7684 1G \u5927\u5c0f\uff0c\u5982\u679c\u6587\u4ef6\u6ee1\u4e86\u7684\u8bdd\u518d\u521b\u5efa\u4e00\u4e2a\u5373\u53ef\uff0c\u6211\u4eec\u628a\u8fd9\u4e9b\u5b58\u50a8\u6d88\u606f\u7684\u6587\u4ef6\u96c6\u5408\u79f0\u4e3a commitlog\u3002\u8fd9\u6837\u7684\u8bbe\u8ba1\u8fd8\u6709\u53e6\u4e00\u4e2a\u597d\u5904\uff1a\u5728\u5220\u9664\u8fc7\u671f\u6587\u4ef6\u7684\u65f6\u5019\u4f1a\u5f88\u65b9\u4fbf\uff0c\u76f4\u63a5\u628a\u4e4b\u524d\u7684\u6587\u4ef6\u6574\u4e2a\u5220\u6389\u5373\u53ef\uff0c\u6700\u65b0\u7684\u6587\u4ef6\u65e0\u9700\u6539\u52a8\uff0c\u800c\u5982\u679c\u628a\u6240\u6709\u6d88\u606f\u90fd\u5199\u5230\u4e00\u4e2a\u6587\u4ef6\u91cc\uff0c\u663e\u7136\u5220\u9664\u4e4b\u524d\u7684\u8fc7\u671f\u6d88\u606f\u4f1a\u975e\u5e38\u9ebb\u70e6"}),"\n",(0,c.jsx)(s.h2,{id:"consumequeue-\u6587\u4ef6",children:"consumeQueue \u6587\u4ef6"}),"\n",(0,c.jsx)(s.p,{children:"\u901a\u8fc7 mmap \u7684\u65b9\u5f0f\u6211\u4eec\u6781\u5927\u5730\u63d0\u9ad8\u4e86\u8bfb\u5199\u6587\u4ef6\u7684\u6548\u7387\uff0c\u8fd9\u6837\u7684\u8bdd\u5373\u53ef\u5c06 commitlog \u91c7\u7528 mmap \u7684\u65b9\u5f0f\u52a0\u8f7d\u5230 page cache \u4e2d\uff0c\u7136\u540e\u518d\u5728 page cache \u4e2d\u8bfb\u5199\u6d88\u606f\uff0c\u5982\u679c\u662f\u5199\u6d88\u606f\u76f4\u63a5\u5199\u5165 page cache \u5f53\u7136\u6ca1\u95ee\u9898\uff0c\u4f46\u5982\u679c\u662f\u8bfb\u6d88\u606f\uff08\u6d88\u8d39\u8005\u6839\u636e\u6d88\u8d39\u8fdb\u5ea6\u62c9\u53d6\u6d88\u606f\uff09\u7684\u8bdd\u53ef\u5c31\u6ca1\u8fd9\u4e48\u7b80\u5355\u4e86\uff0c\u5f53\u7136\u5982\u679c\u6bcf\u4e2a\u6d88\u606f\u7684\u5927\u5c0f\u90fd\u4e00\u6837\uff0c\u90a3\u4e48\u6587\u4ef6\u8bfb\u53d6\u5230\u5185\u5b58\u4e2d\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8e\u6570\u7ec4\u4e86\uff0c\u6839\u636e\u6d88\u606f\u8fdb\u5ea6\u5c31\u80fd\u5f88\u5feb\u5730\u5b9a\u4f4d\u5230\u5176\u5728\u6587\u4ef6\u7684\u4f4d\u7f6e\uff08\u5047\u8bbe\u6d88\u606f\u8fdb\u5ea6\u4e3a offset\uff0c\u6bcf\u4e2a\u6d88\u606f\u7684\u5927\u5c0f\u4e3a size\uff0c\u5219\u6240\u8981\u6d88\u8d39\u7684\u4f4d\u7f6e\u4e3a offset * size\uff09\uff0c\u4f46\u5f88\u663e\u7136\u6bcf\u4e2a\u6d88\u606f\u7684\u5927\u5c0f\u57fa\u672c\u4e0d\u53ef\u80fd\u76f8\u540c\uff0c\u5b9e\u9645\u60c5\u51b5\u5f88\u53ef\u80fd\u662f\u7c7b\u4f3c\u4e0b\u9762\u8fd9\u6837"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(77272).A+"",width:"737",height:"434"})}),"\n",(0,c.jsx)(s.p,{children:"\u5982\u56fe\u793a:\u8fd9\u91cc\u6709\u4e09\u4e2a\u6d88\u606f\uff0c\u6bcf\u4e2a\u6d88\u606f\u7684\u6d88\u606f\u4f53\u5206\u522b\u4e3a 2kb\uff0c3kb\uff0c4kb\uff0c\u6d88\u606f\u5927\u5c0f\u90fd\u4e0d\u4e00\u6837"}),"\n",(0,c.jsx)(s.p,{children:"\u8fd9\u6837\u7684\u8bdd\u4f1a\u6709\u4e24\u4e2a\u95ee\u9898"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u6d88\u606f\u8fb9\u754c\u4e0d\u6e05\uff0c\u65e0\u6cd5\u533a\u5206\u76f8\u90bb\u7684\u4e24\u4e2a\u6d88\u606f"}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u5373\u4f7f\u89e3\u51b3\u4e86\u4ee5\u4e0a\u95ee\u9898\uff0c\u4e5f\u65e0\u6cd5\u89e3\u51b3\u6839\u636e\u6d88\u8d39\u8fdb\u5ea6\u5feb\u901f\u5b9a\u4f4d\u5176\u6240\u5bf9\u5e94\u6d88\u606f\u5728\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002\u5047\u8bbe broker \u91cd\u542f\u4e86\uff0c\u7136\u540e\u8bfb\u53d6\u6d88\u8d39\u8fdb\u5ea6\uff08\u6d88\u8d39\u8fdb\u5ea6\u53ef\u4ee5\u6301\u4e45\u5316\u5230\u6587\u4ef6\u4e2d\uff09\uff0c\u6b64\u65f6\u4e0d\u5f97\u4e0d\u4ece\u5934\u8bfb\u53d6\u6587\u4ef6\u6765\u5b9a\u4f4d\u6d88\u606f\u5728\u6587\u4ef6\u7684\u4f4d\u7f6e\uff0c\u8fd9\u5728\u6548\u7387\u4e0a\u663e\u7136\u662f\u4e0d\u53ef\u63a5\u53d7\u7684"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"\u90a3\u80fd\u5426\u65e2\u80fd\u5229\u7528\u5230\u6570\u7ec4\u7684\u5feb\u901f\u5bfb\u5740\uff0c\u53c8\u80fd\u5feb\u901f\u5b9a\u4f4d\u6d88\u8d39\u8fdb\u5ea6\u5bf9\u5e94\u6d88\u606f\u5728\u6587\u4ef6\u4e2d\u7684\u4f4d\u7f6e\u5462\uff0c\u7b54\u6848\u662f\u53ef\u4ee5\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u65b0\u5efa\u4e00\u4e2a\u7d22\u5f15\u6587\u4ef6\uff08\u6211\u4eec\u5c06\u5176\u79f0\u4e3a consumeQueue \u6587\u4ef6\uff09\uff0c\u6bcf\u6b21\u5199\u5165 commitlog \u6587\u4ef6\u540e\uff0c\u90fd\u628a\u6b64\u6d88\u606f\u5728 commitlog \u6587\u4ef6\u4e2d\u7684 offset\uff08\u6211\u4eec\u5c06\u5176\u79f0\u4e3a commit offset\uff0c8 \u5b57\u8282\uff09 \u53ca\u5176\u5927\u5c0f\uff08size\uff0c4 \u5b57\u8282\uff09\u8fd8\u6709\u4e00\u4e2a tag hashcode\uff088 \u5b57\u8282\uff0c\u5b83\u7684\u4f5c\u7528\u540e\u6587\u4f1a\u63d0\u5230\uff09\u8fd9\u4e09\u4e2a\u5b57\u6bb5\u987a\u5e8f\u5199\u5165 consumeQueue \u6587\u4ef6\u4e2d"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(24011).A+"",width:"602",height:"212"})}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(45966).A+"",width:"1080",height:"344"})}),"\n",(0,c.jsx)(s.p,{children:"\u8fd9\u6837\u6bcf\u6b21\u8ffd\u52a0\u5199\u5165 consumeQueue \u6587\u4ef6\u7684\u5927\u5c0f\u5c31\u56fa\u5b9a\u4e3a 20 \u5b57\u8282\u4e86\uff0c\u7531\u4e8e\u5927\u5c0f\u56fa\u5b9a\uff0c\u6839\u636e\u6570\u7ec4\u7684\u7279\u6027\uff0c\u5c31\u80fd\u8fc5\u901f\u5b9a\u4f4d\u6d88\u8d39\u8fdb\u5ea6\u5728\u7d22\u5f15\u6587\u4ef6\u4e2d\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u5373\u53ef\u83b7\u53d6 commitlog offset \u548c size\uff0c\u8fdb\u800c\u5feb\u901f\u5b9a\u4f4d\u5176\u5728 commitlog \u4e2d\u6d88\u606f"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(26233).A+"",width:"558",height:"396"})}),"\n",(0,c.jsxs)(s.p,{children:["\u8fd9\u91cc\u6709\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u4e0a\u6587\u63d0\u5230 commitlog \u6587\u4ef6\u56fa\u5b9a\u5927\u5c0f 1G\uff0c\u5199\u6ee1\u4e86\u4f1a\u518d\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\uff0c\u4e3a\u4e86\u65b9\u4fbf\u6839\u636e commitlog offset \u5feb\u901f\u5b9a\u4f4d\u6d88\u606f\u662f\u5728\u54ea\u4e2a commitlog \u7684\u54ea\u4e2a\u4f4d\u7f6e\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee5\u6d88\u606f\u504f\u79fb\u91cf\u6765\u547d\u540d\u6587\u4ef6\uff0c\u6bd4\u5982\u7b2c\u4e00\u4e2a\u6587\u4ef6\u7684\u504f\u79fb\u91cf\u662f 0\uff0c\u7b2c\u4e8c\u4e2a\u6587\u4ef6\u7684\u504f\u79fb\u91cf\u4e3a 1G\uff081024",(0,c.jsx)(s.em,{children:"1024"}),"1024 = 1073741824 B\uff09\uff0c\u7b2c\u4e09\u4e2a\u6587\u4ef6\u504f\u79fb\u91cf\u4e3a 2G\uff082147483648 B\uff09\uff0c\u5982\u4e0b\u56fe\u793a"]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(55708).A+"",width:"437",height:"179"})}),"\n",(0,c.jsx)(s.p,{children:"\u540c\u7406\uff0cconsumeQueue \u6587\u4ef6\u4e5f\u4f1a\u5199\u6ee1\uff0c\u5199\u6ee1\u540e\u4e5f\u8981\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u518d\u5199\u5165,\u6211\u4eec\u89c4\u5b9a consumeQueue \u53ef\u4ee5\u4fdd\u5b58 30w \u6761\u6570\u636e\uff0c\u4e5f\u5c31\u662f 30w * 20 byte = 600w Byte = 5.72 M\uff0c\u4e3a\u4e86\u4fbf\u4e8e\u5b9a\u4f4d\u6d88\u8d39\u8fdb\u5ea6\u662f\u5728\u54ea\u4e2a consumeQueue\u6587\u4ef6\u4e2d\uff0c\u6bcf\u4e2a\u6587\u4ef6\u7684\u540d\u79f0\u4e5f\u662f\u4ee5\u504f\u79fb\u91cf\u6765\u547d\u540d\u7684\uff0c\u5982\u4e0b"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(83455).A+"",width:"437",height:"164"})}),"\n",(0,c.jsx)(s.p,{children:"\u77e5\u9053\u4e86\u6587\u4ef6\u7684\u5199\u5165\u4e0e\u547d\u540d\u89c4\u5219\uff0c\u6211\u4eec\u518d\u6765\u770b\u4e0b\u6d88\u606f\u7684\u5199\u5165\u4e0e\u6d88\u8d39\u8fc7\u7a0b"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u6d88\u606f\u5199\u5165\uff1a\u9996\u5148\u662f\u6d88\u606f\u88ab\u987a\u5e8f\u5199\u5165 commitlog \u6587\u4ef6\u4e2d\uff0c\u5199\u5165\u540e\u6b64\u6d88\u606f\u5728\u6587\u4ef6\u4e2d\u7684\u504f\u79fb\uff08commitlog offset\uff09\u548c\u5927\u5c0f\uff08size\uff09\u4f1a\u88ab\u987a\u5e8f\u5199\u5165\u76f8\u5e94\u7684 consumeQueue \u6587\u4ef6\u4e2d"}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u6d88\u8d39\u6d88\u606f\uff1a\u6bcf\u4e2a\u6d88\u8d39\u8005\u90fd\u6709\u4e00\u4e2a\u6d88\u8d39\u8fdb\u5ea6\uff0c\u7531\u4e8e\u6bcf\u4e2a consumeQueue \u6587\u4ef6\u662f\u6839\u636e\u504f\u79fb\u91cf\u6765\u547d\u540d\u7684\uff0c\u9996\u5148\u6d88\u8d39\u8fdb\u5ea6\u53ef\u6839\u636e\u4e8c\u5206\u67e5\u627e\u5feb\u901f\u5b9a\u4f4d\u5230\u8fdb\u5ea6\u662f\u5728\u54ea\u4e2a consumeQueue \u6587\u4ef6\uff0c\u8fdb\u4e00\u6b65\u5b9a\u4e49\u5230\u662f\u5728\u6b64\u6587\u4ef6\u7684\u54ea\u4e2a\u4f4d\u7f6e\uff0c\u7531\u6b64\u53ef\u4ee5\u8bfb\u53d6\u5230\u6d88\u606f\u7684 commitlog offset \u548c size\uff0c\u7136\u540e\u7531\u4e8e commitlog \u6bcf\u4e2a\u6587\u4ef6\u7684\u547d\u540d\u90fd\u662f\u6309\u7167\u504f\u79fb\u91cf\u547d\u540d\u7684\uff0c\u90a3\u4e48\u6839\u636e commitlog offset \u663e\u7136\u53ef\u4ee5\u6839\u636e\u4e8c\u5206\u67e5\u627e\u5feb\u901f\u5b9a\u4f4d\u5230\u6d88\u606f\u662f\u5728\u54ea\u4e2a commitlog \u6587\u4ef6\uff0c\u8fdb\u800c\u518d\u83b7\u53d6\u5230\u6d88\u606f\u5728\u6587\u4ef6\u4e2d\u7684\u5177\u4f53\u4f4d\u7f6e\u4ece\u800c\u8bfb\u5230\u6d88\u606f"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"\u540c\u6837\u7684\u4e3a\u4e86\u63d0\u5347\u6027\u80fd\uff0c consumeQueue \u4e5f\u5229\u7528\u4e86 mmap \u8fdb\u884c\u8bfb\u5199"}),"\n",(0,c.jsx)(s.p,{children:"\u6709\u4eba\u53ef\u80fd\u4f1a\u8bf4\u8fd9\u6837\u67e5\u627e\u4e86\u4e24\u6b21\u6587\u4ef6\uff0c\u6027\u80fd\u53ef\u80fd\u4f1a\u6709\u4e9b\u95ee\u9898\uff0c\u5b9e\u9645\u4e0a\u5e76\u4e0d\u4f1a\uff0c\u6839\u636e\u524d\u6587\u6240\u8ff0\uff0c\u53ef\u4ee5\u4f7f\u7528 mmap + \u6587\u4ef6\u9884\u70ed + \u9501\u5b9a\u5185\u5b58\u6765\u5c06\u6587\u4ef6\u52a0\u8f7d\u5e76\u4e00\u76f4\u4fdd\u7559\u5230\u5185\u5b58\u4e2d\uff0c\u8fd9\u6837\u4e0d\u7ba1\u662f commitlog \u8fd8\u662f consumeQueue \u90fd\u662f\u5728 page cache \u4e2d\u7684\uff0c\u65e2\u7136\u662f\u5728\u5185\u5b58\u4e2d\u67e5\u627e\u6587\u4ef6\u90a3\u6027\u80fd\u5c31\u4e0d\u662f\u95ee\u9898\u4e86"}),"\n",(0,c.jsx)(s.h2,{id:"\u5bf9-consumequeue-\u7684\u6539\u8fdb--\u6570\u636e\u5206\u7247",children:"\u5bf9 ConsumeQueue \u7684\u6539\u8fdb--\u6570\u636e\u5206\u7247"}),"\n",(0,c.jsx)(s.p,{children:"\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u8ba8\u8bba\u7684\u573a\u666f\u662f\u591a\u4e2a\u6d88\u8d39\u8005\u72ec\u7acb\u6d88\u8d39\u6d88\u606f\u7684\u573a\u666f\uff0c\u8fd9\u79cd\u573a\u666f\u6211\u4eec\u5c06\u5176\u79f0\u4e3a\u5e7f\u64ad\u6a21\u5f0f\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u6bcf\u4e2a\u6d88\u8d39\u8005\u90fd\u4f1a\u5168\u91cf\u6d88\u8d39\u6d88\u606f\uff0c\u4f46\u8fd8\u6709\u4e00\u79cd\u66f4\u5e38\u89c1\u7684\u573a\u666f\u6211\u4eec\u8fd8\u6ca1\u8003\u8651\u5230\uff0c\u90a3\u5c31\u662f\u96c6\u7fa4\u6a21\u5f0f\uff0c\u96c6\u7fa4\u6a21\u5f0f\u4e0b\u6bcf\u4e2a\u6d88\u8d39\u8005\u53ea\u4f1a\u6d88\u8d39\u90e8\u5206\u6d88\u606f\uff0c\u5982\u4e0b\u56fe\u793a\uff1a"}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.img,{alt:"img",src:n(91746).A+"",width:"864",height:"782"}),"\n",(0,c.jsx)(s.strong,{children:"\u96c6\u7fa4\u6a21\u5f0f\u4e0b\u6bcf\u4e2a\u6d88\u8d39\u8005\u91c7\u7528\u8d1f\u8f7d\u5747\u8861\u7684\u65b9\u5f0f\u5206\u522b\u5e76\u884c\u6d88\u8d39\u4e00\u90e8\u5206\u6d88\u606f\uff0c\u4e3b\u8981\u76ee\u7684\u662f\u4e3a\u4e86\u52a0\u901f\u6d88\u606f\u6d88\u8d39\u4ee5\u907f\u514d\u6d88\u606f\u79ef\u538b"}),"\uff0c\u90a3\u4e48\u73b0\u5728\u95ee\u9898\u6765\u4e86\uff0cBroker \u4e2d\u53ea\u6709\u4e00\u4e2a consumerQueue\uff0c\u663e\u7136\u6ca1\u6cd5\u6ee1\u8db3\u96c6\u7fa4\u6a21\u5f0f\u4e0b\u5e76\u884c\u6d88\u8d39\u7684\u9700\u6c42\uff0c\u8be5\u600e\u4e48\u529e\u5462\uff0c\u6211\u4eec\u53ef\u4ee5\u501f\u9274\u5206\u5e93\u5206\u8868\u7684\u8bbe\u8ba1\u7406\u5ff5\uff1a",(0,c.jsx)(s.strong,{children:"\u5c06\u6570\u636e\u5206\u7247\u5b58\u50a8"}),"\uff0c\u5177\u4f53\u505a\u6cd5\u662f\u521b\u5efa\u591a\u4e2a consumeQueue\uff0c\u7136\u540e\u5c06\u6570\u636e\u5e73\u5747\u5206\u914d\u5230\u8fd9\u4e9b consumerQueue \u4e2d\uff0c\u8fd9\u6837\u7684\u8bdd\u6bcf\u4e2a consumer \u5404\u81ea\u8d1f\u8d23\u72ec\u7acb\u7684 consumerQueue \u5373\u53ef\u505a\u5230\u5e76\u884c\u6d88\u8d39"]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(61346).A+"",width:"827",height:"294"})}),"\n",(0,c.jsx)(s.p,{children:"\u5982\u56fe\u793a: Producer \u628a\u6d88\u606f\u8d1f\u8f7d\u5747\u8861\u5206\u522b\u53d1\u9001\u5230 queue 0 \u548c queue 1 \u961f\u5217\u4e2d\uff0cconsumer A \u8d1f\u8d23 queue 0\uff0cconsumer B \u8d1f\u8d23 queue 1 \u4e2d\u7684\u6d88\u606f\u6d88\u8d39\uff0c\u8fd9\u6837\u53ef\u4ee5\u505a\u5230\u5e76\u884c\u6d88\u8d39\uff0c\u6781\u5927\u5730\u63d0\u5347\u4e86\u6027\u80fd"}),"\n",(0,c.jsx)(s.h2,{id:"topic",children:"topic"}),"\n",(0,c.jsxs)(s.p,{children:["\u73b0\u5728\u6240\u6709\u6d88\u606f\u90fd\u6301\u4e45\u5316\u5230 Broker \u7684\u6587\u4ef6\u4e2d\uff0c\u90fd\u80fd\u88ab consumer \u6d88\u8d39\u4e86\uff0c\u4f46\u5b9e\u9645\u4e0a\u67d0\u4e9b consumer \u53ef\u80fd\u53ea\u5bf9\u67d0\u4e00\u7c7b\u578b\u7684\u6d88\u606f\u611f\u5174\u8da3\uff0c\u6bd4\u5982\u53ea\u5bf9\u8ba2\u5355\u7c7b\u7684\u6d88\u606f\u611f\u5174\u8da3\uff0c\u800c\u5bf9\u7528\u6237\u6ce8\u518c\u7c7b\u7684\u6d88\u606f\u65e0\u611f\uff0c\u90a3\u4e48\u73b0\u5728\u7684\u8bbe\u8ba1\u663e\u7136\u4e0d\u5408\u7406\uff0c\u6240\u4ee5\u9700\u8981\u5bf9\u6d88\u606f\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u7ec6\u5206\uff0c\u6211\u4eec\u628a",(0,c.jsx)(s.strong,{children:"\u540c\u4e00\u79cd\u4e1a\u52a1\u7c7b\u578b\u7684\u7684\u6d88\u606f\u96c6\u5408\u79f0\u4e3a Topic"}),"\u3002\u8fd9\u6837\u6d88\u8d39\u8005\u5c31\u53ef\u4ee5\u53ea\u8ba2\u9605\u5b83\u611f\u5174\u8da3\u7684 Topic \u8fdb\u884c\u6d88\u8d39\uff0c\u56e0\u6b64\u4e5f\u4e0d\u96be\u7406\u89e3 consumeQueue \u662f\u9488\u5bf9 Topic \u800c\u8a00\u7684\uff0cproducer \u53d1\u9001\u6d88\u606f\u65f6\u90fd\u4f1a\u6307\u5b9a\u6d88\u606f\u7684 Topic\uff0c\u6d88\u606f\u5230\u8fbe Broker \u540e\u4f1a\u53d1\u9001\u5230 Topic \u4e2d\u5bf9\u5e94\u7684 consumeQueue\uff0c\u8fd9\u6837\u6d88\u8d39\u8005\u5c31\u53ef\u4ee5\u53ea\u6d88\u8d39\u5b83\u611f\u5174\u8da3\u7684\u6d88\u606f\u4e86"]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(53055).A+"",width:"917",height:"437"})}),"\n",(0,c.jsx)(s.h2,{id:"tag",children:"tag"}),"\n",(0,c.jsx)(s.p,{children:"\u628a\u6d88\u606f\u6309\u4e1a\u52a1\u7c7b\u578b\u5212\u5206\u6210 Topic \u7c92\u5ea6\u8fd8\u662f\u6709\u70b9\u5927\uff0c\u4ee5\u8ba2\u5355\u6d88\u606f\u4e3a\u4f8b\uff0c\u8ba2\u5355\u6709\u5f88\u591a\u79cd\u72b6\u6001\uff0c\u6bd4\u5982\u8ba2\u5355\u521b\u5efa\uff0c\u8ba2\u5355\u5173\u95ed,\u8ba2\u5355\u5b8c\u7ed3\u7b49\uff0c\u67d0\u4e9b\u6d88\u8d39\u8005\u53ef\u80fd\u53ea\u5bf9\u67d0\u4e9b\u8ba2\u5355\u72b6\u6001\u611f\u5174\u8da3\uff0c\u6240\u4ee5\u6211\u4eec\u6709\u65f6\u8fd8\u9700\u8981\u8fdb\u4e00\u6b65\u5bf9\u67d0\u4e2a Topic \u4e0b\u7684\u6d88\u606f\u8fdb\u884c\u5206\u7c7b\uff0c\u6211\u4eec\u5c06\u8fd9\u4e9b\u5206\u7c7b\u79f0\u4e3a tag\uff0c\u6bd4\u5982\u8ba2\u5355\u6d88\u606f\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5212\u5206\u4e3a\u8ba2\u5355\u521b\u5efa\uff0c\u8ba2\u5355\u5173\u95ed,\u8ba2\u5355\u5b8c\u7ed3\u7b49 tag"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(52980).A+"",width:"1080",height:"181"})}),"\n",(0,c.jsx)(s.h2,{id:"topic-\u4e0e-tag-\u5173\u7cfb",children:"topic \u4e0e tag \u5173\u7cfb"}),"\n",(0,c.jsx)(s.p,{children:"producer \u5728\u53d1\u6d88\u606f\u7684\u65f6\u5019\u4f1a\u6307\u5b9a topic \u548c tag\uff0cBroker \u4e5f\u4f1a\u628a topic, tag \u6301\u4e45\u5316\u5230\u6587\u4ef6\u4e2d\uff0c\u90a3\u4e48 consumer \u5c31\u53ef\u4ee5\u53ea\u8ba2\u9605\u5b83\u611f\u5174\u8da3\u7684 topic + tag \u6d88\u606f\u4e86\uff0c\u73b0\u5728\u95ee\u9898\u6765\u4e86\uff0cconsumer \u6765\u62c9\u6d88\u606f\u7684\u65f6\u5019\uff0cBroker \u600e\u4e48\u53ea\u4f20\u7ed9 consumer \u6839\u636e topic + tag \u8ba2\u9605\u7684\u6d88\u606f\u5462"}),"\n",(0,c.jsx)(s.p,{children:"\u8fd8\u8bb0\u5f97\u4e0a\u6587\u4e2d\u63d0\u5230\u6d88\u606f\u6301\u4e45\u5316\u5230 commitlog \u540e\u5199\u5165 consumeQueue \u7684\u4fe1\u606f\u5417"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(74109).A+"",width:"602",height:"212"})}),"\n",(0,c.jsx)(s.p,{children:"\u4e3b\u8981\u5199\u5165\u4e09\u4e2a\u5b57\u6bb5\uff0c\u6700\u540e\u4e00\u4e2a\u5b57\u6bb5\u4e3a tag \u7684 hashcode\uff0c\u8fd9\u6837\u7684\u8bdd\u7531\u4e8e consumer \u5728\u62c9\u6d88\u606f\u7684\u65f6\u5019\u4f1a\u628a topic\uff0ctag \u53d1\u7ed9 Broker \uff0cBroker \u5c31\u53ef\u4ee5\u5148\u6839\u636e tag \u7684 hashcode \u6765\u5bf9\u6bd4\u4e00\u4e0b\u770b\u770b\u6b64\u6d88\u606f\u662f\u5426\u7b26\u5408\u6761\u4ef6\uff0c\u5982\u679c\u4e0d\u662f\u7565\u8fc7\u7ee7\u7eed\u5f80\u540e\u53d6\uff0c\u5982\u679c\u662f\u518d\u4ece commitlog \u4e2d\u53d6\u6d88\u606f\u540e\u4f20\u7ed9 consumer\uff0c\u6709\u4eba\u53ef\u80fd\u4f1a\u95ee\u4e3a\u4ec0\u4e48\u5b58\u7684\u662f tag hashcode \u800c\u4e0d\u662f tag\uff0c\u4e3b\u8981\u6709\u4e24\u4e2a\u539f\u56e0"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"hashcode \u662f\u6574\u6570\uff0c\u6574\u6570\u5bf9\u6bd4\u66f4\u5feb"}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u4e3a\u4e86\u4fdd\u8bc1\u6b64\u5b57\u6bb5\u4e3a\u56fa\u5b9a\u7684\u5b57\u8282\u5927\u5c0f\uff08hashcode \u4e3a int \u578b\uff0c\u56fa\u5b9a\u4e3a 4 \u4e2a\u5b57\u8282\uff09\uff0c\u8fd9\u6837\u6bcf\u6b21\u5199\u5165 consumeQueue \u7684\u4e09\u4e2a\u5b57\u6bb5\u5373\u4e3a\u56fa\u5b9a\u7684 20 \u5b57\u8282\uff0c\u5373\u53ef\u5229\u7528\u6570\u7ec4\u7684\u7279\u6027\u5feb\u901f\u5b9a\u4f4d\u6d88\u606f\u8fdb\u5ea6\u5728\u6587\u4ef6\u4e2d\u7684\u4f4d\u7f6e\uff0c\u5982\u679c\u7528 tag \u7684\u8bdd\uff0c\u7531\u4e8e tag \u662f\u5b57\u7b26\u4e32\uff0c\u662f\u53d8\u957f\u7684\uff0c\u6ca1\u6cd5\u4fdd\u8bc1\u56fa\u5b9a\u7684\u5b57\u8282\u5927\u5c0f"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"\u81f3\u6b64\u6211\u4eec\u7b80\u5355\u603b\u7ed3\u4e0b\u6d88\u606f\u7684\u53d1\u9001\uff0c\u5b58\u50a8\u4e0e\u6d88\u606f\u6d41\u7a0b"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(71846).A+"",width:"1080",height:"442"})}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u9996\u5148 producer \u53d1\u9001 topic\uff0cqueueId\uff0cmessage \u5230 Broker \u4e2d\uff0cBroker \u5c06\u6d88\u606f\u901a\u8fc7\u987a\u5e8f\u5199\u7684\u5f62\u5f0f\u6301\u4e45\u5316\u5230 commitlog \u4e2d\uff0c\u8fd9\u91cc\u7684 queueId \u662f Topic \u4e2d\u6307\u5b9a\u7684 consumeQueue 0\uff0cconsumeQueue 1\uff0cconsumeQueue \u2026\uff0c\u4e00\u822c\u901a\u8fc7\u8d1f\u8f7d\u5747\u8861\u7684\u65b9\u5f0f\u8f6e\u8be2\u5199\u5165\u5bf9\u5e94\u7684\u961f\u5217\uff0c\u6bd4\u5982\u5f53\u524d\u6d88\u606f\u5199\u5165 consumeQueue 0\uff0c\u4e0b\u4e00\u6761\u5199\u5165 consumeQueue 1,\u2026\uff0c\u4e0d\u65ad\u5730\u5faa\u73af"}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u6301\u4e45\u5316\u4e4b\u540e\u53ef\u4ee5\u77e5\u9053\u6d88\u606f\u5728 commitlog \u6587\u4ef6\u4e2d\u7684\u504f\u79fb\u91cf\u548c\u6d88\u606f\u4f53\u5927\u5c0f\uff0c\u5982\u679c consumer \u6307\u5b9a\u8ba2\u9605\u4e86 topic \u548c tag\uff0c\u8fd8\u4f1a\u7b97\u51fa tag hashCode\uff0c\u8fd9\u6837\u7684\u8bdd\u5c31\u53ef\u4ee5\u5c06\u8fd9\u4e09\u8005\u987a\u5e8f\u5199\u5165 queueId \u5bf9\u5e94\u7684 consumeQueue \u4e2d"}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u6d88\u8d39\u8005\u6d88\u8d39\uff1a\u6bcf\u4e00\u4e2a consumeQueue \u90fd\u80fd\u627e\u5230\u6bcf\u4e2a\u6d88\u8d39\u8005\u7684\u6d88\u606f\u8fdb\u5ea6\uff08consumeOffset\uff09\uff0c\u636e\u6b64\u53ef\u4ee5\u5feb\u901f\u5b9a\u4f4d\u5176\u6240\u5728\u7684 consumeQueue \u7684\u6587\u4ef6\u4f4d\u7f6e\uff0c\u53d6\u51fa commitlog offset\uff0csize\uff0ctag hashcode \u8fd9\u4e09\u4e2a\u503c\uff0c\u7136\u540e\u9996\u5148\u6839\u636e tag hashcode \u6765\u8fc7\u6ee4\u6d88\u606f\uff0c\u5982\u679c\u5339\u914d\u4e0a\u4e86\u518d\u6839\u636e commitlog offset\uff0csize \u8fd9\u4e24\u4e2a\u5143\u7d20\u5230 commitlog \u4e2d\u53bb\u67e5\u627e\u76f8\u5e94\u7684\u6d88\u606f\u7136\u540e\u518d\u53d1\u7ed9\u6d88\u8d39\u8005"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.strong,{children:"\u6ce8\u610f\uff1a"})," \u6240\u6709 Topic \u7684\u6d88\u606f\u90fd\u5199\u5165\u540c\u4e00\u4e2a commitlog \u6587\u4ef6\uff08\u800c\u4e0d\u662f\u6bcf\u4e2a Topic \u5bf9\u5e94\u4e00\u4e2a commitlog \u6587\u4ef6\uff09\uff0c\u7136\u540e\u6d88\u606f\u5199\u5165\u540e\u4f1a\u6839\u636e topic,queueId \u627e\u5230 Topic \u6240\u5728\u7684 consumeQueue \u518d\u5199\u5165"]}),"\n",(0,c.jsx)(s.p,{children:"\u9700\u8981\u6ce8\u610f\u7684\u662f\u6211\u4eec\u7684 Broker \u662f\u8981\u8bbe\u5b9a\u4e3a\u9ad8\u6027\u80fd\u7684\uff0810 w QPS\uff09\u90a3\u4e48\u4e0a\u9762\u8fd9\u4e9b\u6b65\u9aa4\u6709\u4e24\u4e2a\u74f6\u9888\u70b9"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsx)(s.li,{children:"producer \u53d1\u9001\u6d88\u606f\u5230\u6301\u4e45\u5316\u81f3 commitlog \u6587\u4ef6\u7684\u6027\u80fd\u95ee\u9898\u3002\u5148\u6765\u770b\u4e0b\u5237\u76d8\u6d41\u7a0b"}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(31331).A+"",width:"677",height:"302"})}),"\n",(0,c.jsxs)(s.p,{children:["\u5982\u56fe\u793a\uff0cBroker \u6536\u5230\u6d88\u606f\u540e\u662f\u5148\u5c06\u6d88\u606f\u5199\u5230\u4e86\u5185\u6838\u7f13\u51b2\u533a \u7684 page cache \u4e2d\uff0c\u6700\u7ec8\u5c06\u6d88\u606f\u5237\u76d8\uff0c\u90a3\u4e48\u6d88\u606f\u662f\u5199\u5230 page cache \u8fd4\u56de ack\uff0c\u8fd8\u662f\u5237\u76d8\u540e\u518d\u8fd4\u56de\u5462\uff0c\u8fd9\u53d6\u51b3\u4e8e\u4f60\u6d88\u606f\u7684\u91cd\u8981\u6027\uff0c\u5982\u679c\u662f\u50cf\u65e5\u5fd7\u8fd9\u6837\u7684\u6d88\u606f\uff0c\u4e22\u4e86\u5176\u5b9e\u4e5f\u6ca1\u5565\u5f71\u54cd\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u663e\u7136\u53ef\u4ee5\u9009\u62e9\u5199\u5230 page cache \u540e\u5c31\u9a6c\u4e0a\u8fd4\u56de\uff0cOS \u4f1a\u62e9\u673a\u5c06\u5176\u5237\u76d8\uff0c\u8fd9\u79cd\u5237\u76d8\u65b9\u5f0f\u6211\u4eec\u5c06\u5176\u79f0\u4e3a",(0,c.jsx)(s.strong,{children:"\u5f02\u6b65\u5237\u76d8"}),"\uff0c\u8fd9\u4e5f\u662f\u5927\u591a\u6570\u4e1a\u52a1\u573a\u666f\u9009\u62e9\u7684\u5237\u76d8\u65b9\u5f0f\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5176\u5b9e\u5df2\u7ecf\u8db3\u591f\u5b89\u5168\u4e86\uff0c\u54ea\u6015 JVM \u6302\u6389\u4e86\uff0c\u7531\u4e8e page cache \u662f\u7531 OS \u7ba1\u7406\u7684\uff0cOS \u4e5f\u80fd\u4fdd\u8bc1\u5c06\u5176\u5237\u76d8\u6210\u529f\uff0c\u9664\u975e Broker \u673a\u5668\u5b95\u673a\u3002\u5f53\u7136\u5bf9\u4e8e\u50cf\u8f6c\u8d26\u7b49\u5b89\u5168\u6027\u6781\u9ad8\u7684\u91d1\u878d\u573a\u666f\uff0c\u6211\u4eec\u53ef\u80fd\u8fd8\u662f\u8981\u5c06\u6d88\u606f\u4ece page cache \u5237\u76d8\u540e\u518d\u8fd4\u56de ack\uff0c\u8fd9\u79cd\u65b9\u5f0f\u6211\u4eec\u79f0\u4e3a",(0,c.jsx)(s.strong,{children:"\u540c\u6b65\u5237\u76d8"}),"\uff0c\u663e\u7136\u8fd9\u79cd\u65b9\u5f0f\u4f1a\u8ba9\u6027\u80fd\u5927\u5927\u964d\u4f4e\uff0c\u4f7f\u7528\u8981\u614e\u91cd"]}),"\n",(0,c.jsxs)(s.ol,{start:"2",children:["\n",(0,c.jsx)(s.li,{children:"consumer \u62c9\u53d6\u6d88\u606f\u7684\u6027\u80fd\u95ee\u9898"}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"\u5f88\u663e\u7136\u8fd9\u4e00\u70b9\u4e0d\u662f\u4ec0\u4e48\u95ee\u9898\uff0c\u4e0a\u6587\u63d0\u5230\uff0c\u4e0d\u7ba1\u662f commitlog \u8fd8\u662f consumeQueue \u6587\u4ef6\uff0c\u90fd\u7f13\u5b58\u5728 page cache \u4e2d\uff0c\u90a3\u4e48\u76f4\u63a5\u4ece page cache \u4e2d\u8bfb\u6d88\u606f\u5373\u53ef\uff0c\u7531\u4e8e\u662f\u57fa\u4e8e\u5185\u5b58\u7684\u64cd\u4f5c\uff0c\u4e0d\u5b58\u5728\u4ec0\u4e48\u74f6\u9888\uff0c\u5f53\u7136\u8fd9\u662f\u57fa\u4e8e\u6d88\u8d39\u8fdb\u5ea6\u4e0e\u751f\u4ea7\u8fdb\u5ea6\u5dee\u4e0d\u591a\u7684\u524d\u63d0\uff0c\u5982\u679c\u67d0\u4e2a\u6d88\u8d39\u8005\u6307\u5b9a\u8981\u4ece\u67d0\u4e2a\u8fdb\u5ea6\u5f00\u59cb\u6d88\u8d39\uff0c\u4e14\u6b64\u8fdb\u5ea6\u5bf9\u5e94\u7684 commitlog \u6587\u4ef6\u4e0d\u5728 page cache \u4e2d\uff0c\u90a3\u5c31\u4f1a\u89e6\u53d1\u78c1\u76d8 IO"}),"\n",(0,c.jsx)(s.h2,{id:"broker-\u7684\u9ad8\u53ef\u7528",children:"Broker \u7684\u9ad8\u53ef\u7528"}),"\n",(0,c.jsx)(s.p,{children:"\u4e0a\u6587\u6211\u4eec\u90fd\u662f\u57fa\u4e8e\u4e00\u4e2a Broker \u6765\u8ba8\u8bba\u7684\uff0c\u8fd9\u663e\u7136\u6709\u95ee\u9898\uff0cBroker \u5982\u679c\u6302\u4e86\uff0c\u4f9d\u8d56\u5b83\u7684 producer\uff0cconsumer \u4e0d\u5c31\u4e5f\u55dd\u5c41\u4e86\u5417\uff0c\u6240\u4ee5 broker \u7684\u9ad8\u53ef\u7528\u662f\u5fc5\u987b\u7684\uff0c\u4e00\u822c\u91c7\u7528\u4e3b\u4ece\u6a21\u5f0f\u6765\u5b9e\u73b0 broker \u7684\u9ad8\u53ef\u7528"}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.img,{alt:"img",src:n(85268).A+"",width:"662",height:"362"}),"\n\u5982\u56fe\u793a\uff1aProducer \u5c06\u6d88\u606f\u53d1\u7ed9 \u4e3b Broker \uff0c\u7136\u540e consumer \u4ece\u4e3b Broker \u91cc\u62c9\u6d88\u606f\uff0c\u800c \u4ece Broker \u5219\u4f1a\u4ece\u4e3b Broker \u540c\u6b65\u6d88\u606f\uff0c\u8fd9\u6837\u7684\u8bdd\u4e00\u65e6\u4e3b Broker \u5b95\u673a\u4e86\uff0cconsumer \u53ef\u4ee5\u4ece Broker \u91cc\u62c9\u6d88\u606f\uff0c\u540c\u65f6\u5728 RocketMQ 4.5 \u4ee5\u540e\uff0c\u5f15\u5165\u4e00\u79cd dledger \u6a21\u5f0f\uff0c\u8fd9\u79cd\u6a21\u5f0f\u8981\u6c42\u4e00\u4e3b\u591a\u4ece\uff08\u81f3\u5c11 3 \u4e2a\u8282\u70b9\uff09\uff0c\u8fd9\u6837\u5982\u679c\u4e3b Broker \u5b95\u673a\u540e\uff0c\u53e6\u5916\u591a\u4e2a\u4ece Broker \u4f1a\u6839\u636e Raft \u534f\u8bae\u9009\u4e3e\u51fa\u4e00\u4e2a\u4e3b Broker\uff0cProducer \u5c31\u53ef\u4ee5\u5411\u8fd9\u4e2a\u65b0\u9009\u4e3e\u51fa\u6765\u7684\u4e3b\u8282\u70b9\u53d1\u9001\u6d88\u606f\u4e86"]}),"\n",(0,c.jsx)(s.p,{children:"\u5982\u679c QPS \u5f88\u9ad8\u53ea\u6709\u4e00\u4e2a\u4e3b Broker \u7684\u8bdd\u4e5f\u5b58\u5728\u6027\u80fd\u4e0a\u7684\u74f6\u9888\uff0c\u6240\u4ee5\u751f\u4ea7\u4e0a\u4e00\u822c\u91c7\u7528\u591a\u4e3b\u7684\u5f62\u5f0f\uff0c\u5982\u4e0b\u56fe\u793a"}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.img,{alt:"img",src:n(99601).A+"",width:"767",height:"638"}),"\n\u8fd9\u6837\u7684\u8bdd Producer \u53ef\u4ee5\u8d1f\u8f7d\u5747\u8861\u5730\u5c06\u6d88\u606f\u53d1\u9001\u5230\u591a\u4e2a Broker \u4e0a\uff0c\u63d0\u9ad8\u4e86\u7cfb\u7edf\u7684\u8d1f\u8f7d\u80fd\u529b\uff0c\u4e0d\u96be\u53d1\u73b0\u8fd9\u610f\u5473\u7740 Topic \u662f\u5206\u5e03\u5f0f\u5b58\u50a8\u5728\u591a\u4e2a Broker \u4e0a\u7684\uff0c\u800c Topic \u5728\u6bcf\u4e2a Broker \u4e0a\u7684\u5b58\u50a8\u90fd\u662f\u4ee5\u591a\u4e2a consumeQueue \u7684\u5f62\u5f0f\u5b58\u5728\u7684\uff0c\u8fd9\u6781\u5927\u5730\u63d0\u5347\u4e86 Topic \u7684\u6c34\u5e73\u6269\u5c55\u4e0e\u7cfb\u7edf\u7684\u5e76\u53d1\u6267\u884c\u80fd\u529b"]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(28490).A+"",width:"813",height:"587"})}),"\n",(0,c.jsx)(s.h2,{id:"nameserver",children:"nameserver"}),"\n",(0,c.jsx)(s.p,{children:"\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u7684\u8bbe\u8ba1\u8c8c\u4f3c\u4e0d\u9519\uff0c\u901a\u8fc7\u4e00\u7cfb\u5217\u8bbe\u8ba1\u8ba9 Broker \u6ee1\u8db3\u4e86\u9ad8\u6027\u80fd\uff0c\u9ad8\u6269\u5c55\u7684\u8981\u6c42\uff0c\u4f46\u6211\u4eec\u4f3c\u4e4e\u5ffd\u7565\u4e86\u4e00\u4e2a\u95ee\u9898\uff0cProducer\uff0cConsumer \u8be5\u600e\u4e48\u548c Broker \u901a\u4fe1\u5462\uff0c\u4e00\u79cd\u505a\u6cd5\u662f\u5728 Producer\uff0cConsumer \u5199\u6b7b\u8981\u901a\u4fe1\u7684 Broker ip \u5730\u5740\uff0c\u867d\u7136\u53ef\u884c\uff0c\u4f46\u8fd9\u4e48\u505a\u7684\u8bdd\u663e\u7136\u4f1a\u6709\u5f88\u5927\u7684\u95ee\u9898\uff0c\u914d\u7f6e\u6b7b\u677f\uff0c\u6269\u5c55\u6027\u5dee\uff0c\u8003\u8651\u4ee5\u4e0b\u573a\u666f"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u5982\u679c\u6269\u5bb9\uff08\u65b0\u589e Broker)\uff0cproducer \u548c consumer \u662f\u4e0d\u662f\u4e5f\u8981\u8ddf\u7740\u65b0\u589e Broker ip \u5730\u5740"}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u6bcf\u6b21\u65b0\u589e Topic \u90fd\u8981\u6307\u5b9a\u5728\u54ea\u4e9b Broker \u5b58\u50a8\uff0c\u6211\u4eec\u77e5\u9053 producer \u5728\u53d1\u6d88\u606f\uff0cconsumer \u5728\u8ba2\u9605\u6d88\u606f\u7684\u65f6\u5019\u90fd\u8981\u6307\u5b9a\u5bf9\u5e94\u7684 Topic \uff0c\u90a3\u5c31\u610f\u5473\u7740\u6bcf\u6b21\u65b0\u589e Topic \u540e\u90fd\u9700\u8981\u5728 producer\uff0cconsumer \u505a\u76f8\u5e94\u53d8\u66f4\uff08\u8bb0\u5f55 topic -> broker \u5730\u5740\uff09"}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u5982\u679c broker \u5b95\u673a\u4e86\uff0cproducer \u548c consumer \u9700\u8981\u5c06\u5176\u4ece\u914d\u7f6e\u4e2d\u79fb\u9664\uff0c\u8fd9\u5c31\u610f\u5473\u7740 producer,consumer \u9700\u8981\u4e0e\u76f8\u5173\u7684 brokers \u901a\u8fc7\u5fc3\u8df3\u6765\u901a\u4fe1\u4ee5\u4fbf\u77e5\u9053\u5176\u5b58\u6d3b\u4e0e\u5426\uff0c\u8fd9\u6837\u65e0\u7591\u589e\u52a0\u4e86\u8bbe\u8ba1\u7684\u590d\u6742\u5ea6"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"\u53c2\u8003\u4e0b dubbo \u8fd9\u7c7b RPC \u6846\u67b6\uff0c\u4f60\u4f1a\u53d1\u73b0\u57fa\u672c\u4e0a\u90fd\u4f1a\u65b0\u589e\u4e00\u4e2a\u7c7b\u4f3c Zookeeper \u8fd9\u6837\u7684\u6ce8\u518c\u4e2d\u5fc3\u7684\u4e2d\u95f4\u5c42\uff08\u4e00\u822c\u79f0\u5176\u4e3a nameserver\uff09\uff0c\u5982\u4e0b"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(84327).A+"",width:"1080",height:"623"})}),"\n",(0,c.jsx)(s.p,{children:"\u4e3b\u8981\u539f\u7406\u5982\u4e0b\uff1a"}),"\n",(0,c.jsx)(s.p,{children:"\u4e3a\u4e86\u4fdd\u8bc1\u9ad8\u53ef\u7528\uff0c\u4e00\u822c nameserver \u4ee5\u96c6\u7fa4\u7684\u5f62\u5f0f\u5b58\u5728\uff08\u81f3\u5c11\u4e24\u4e2a\uff09\uff0cBroker \u542f\u52a8\u540e\u4e0d\u7ba1\u4e3b\u4ece\u90fd\u4f1a\u5411\u6bcf\u4e00\u4e2a nameserver \u6ce8\u518c\uff0c\u6ce8\u518c\u7684\u4fe1\u606f\u6709\u54ea\u4e9b\u5462\uff0c\u60f3\u60f3\u770b producer \u8981\u53d1\u6d88\u606f\u7ed9 broker \u9700\u8981\u77e5\u9053\u54ea\u4e9b\u4fe1\u606f\u5462\uff0c\u9996\u5148\u53d1\u6d88\u606f\u8981\u6307\u5b9a Topic\uff0c\u7136\u540e\u8981\u6307\u5b9a Topic \u6240\u5728\u7684 broker\uff0c\u518d\u7136\u540e\u662f\u77e5\u9053 Topic \u5728 Broker \u4e2d\u7684\u961f\u5217\u6570\u91cf\uff08\u53ef\u4ee5\u8fd9\u6837\u8d1f\u8f7d\u5747\u8861\u5730\u5c06\u6d88\u606f\u53d1\u9001\u5230\u8fd9\u4e9b queue \u4e2d\uff09\uff0c\u6240\u4ee5 broker \u5411 nameserver \u6ce8\u518c\u7684\u4fe1\u606f\u4e2d\u5e94\u8be5\u5305\u542b\u4ee5\u4e0b\u4fe1\u606f"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(19929).A+"",width:"1080",height:"440"})}),"\n",(0,c.jsx)(s.p,{children:"\u8fd9\u6837\u7684\u8bdd producer \u548c consumer \u5c31\u53ef\u4ee5\u901a\u8fc7\u4e0e nameserver \u5efa\u7acb\u957f\u8fde\u63a5\u6765\u5b9a\u65f6\uff08\u6bd4\u5982\u6bcf\u9694 30 s\uff09\u62c9\u53d6\u8fd9\u4e9b\u8def\u7531\u4fe1\u606f\u4ece\u800c\u66f4\u65b0\u5230\u672c\u5730\uff0c\u53d1\u9001/\u6d88\u8d39\u6d88\u606f\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u4f9d\u636e\u8fd9\u4e9b\u8def\u7531\u4fe1\u606f\u8fdb\u884c\u53d1\u9001/\u6d88\u8d39"}),"\n",(0,c.jsx)(s.p,{children:"\u90a3\u4e48\u52a0\u4e86\u4e00\u4e2a nameserver \u548c\u539f\u6765\u7684\u65b9\u6848\u76f8\u6bd4\u6709\u4ec0\u4e48\u597d\u5904\u5462\uff0c\u53ef\u4ee5\u5f88\u660e\u663e\u5730\u770b\u51fa\uff1aproducer/consumer \u4e0e\u5177\u4f53\u7684 broker \u89e3\u8026\u4e86\uff0c\u6781\u5927\u63d0\u5347\u4e86\u6574\u4f53\u67b6\u6784\u7684\u53ef\u6269\u5c55\u6027\uff1a"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"producer/consumer \u7684\u6240\u6709\u8def\u7531\u4fe1\u606f\u90fd\u80fd\u901a\u8fc7 nameserver \u5f97\u5230\uff0c\u6bd4\u5982\u73b0\u5728\u8981\u5728 brokers \u4e0a\u65b0\u5efa\u4e00\u4e2a Topic\uff0c\u90a3\u4e48 brokers \u4f1a\u628a\u8fd9\u4e9b\u4fe1\u606f\u540c\u6b65\u5230 nameserver\uff0c\u800c producer/consumer \u4f1a\u5b9a\u65f6\u53bb nameserver \u62c9\u53d6\u8fd9\u4e9b\u8def\u7531\u4fe1\u606f\u66f4\u65b0\u5230\u672c\u5730\uff0c\u505a\u5230\u4e86\u8def\u7531\u4fe1\u606f\u914d\u7f6e\u7684\u81ea\u52a8\u5316"}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:"\u540c\u6837\u7684\u5982\u679c\u67d0\u4e9b broker \u5b95\u673a\u4e86\uff0c\u7531\u4e8e broker \u4f1a\u5b9a\u65f6\u4e0a\u62a5\u5fc3\u8df3\u5230 nameserver \u4ee5\u544a\u77e5\u5176\u5b58\u6d3b\u72b6\u6001\uff0c\u4e00\u65e6 nameserver \u76d1\u6d4b\u5230 broker \u5931\u6548\u4e86\uff0cproducer/consumer \u4e5f\u80fd\u4ece\u4e2d\u5f97\u5230\u5176\u5931\u6548\u4fe1\u606f\uff0c\u4ece\u800c\u5728\u672c\u5730\u8def\u7531\u4e2d\u5c06\u5176\u5254\u9664"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"\u53ef\u4ee5\u770b\u5230\u901a\u8fc7\u52a0\u4e86\u4e00\u5c42 nameserver\uff0cproducer/consumer \u8def\u7531\u4fe1\u606f\u505a\u5230\u4e86\u914d\u7f6e\u81ea\u52a8\u5316\uff0c\u518d\u4e5f\u4e0d\u7528\u624b\u52a8\u53bb\u64cd\u4f5c\u4e86\uff0c\u6574\u4f53\u67b6\u6784\u751a\u4e3a\u5408\u7406"}),"\n",(0,c.jsx)(s.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,c.jsx)(s.p,{children:"\u4ee5\u4e0a\u5373\u6211\u4eec\u6240\u8981\u9610\u8ff0\u7684 RocketMQ \u7684\u8bbe\u8ba1\u7406\u5ff5\uff0c\u57fa\u672c\u4e0a\u6db5\u76d6\u4e86\u91cd\u8981\u6982\u5ff5\u7684\u4ecb\u7ecd\uff0c\u6211\u4eec\u518d\u6765\u7b80\u5355\u56de\u987e\u4e00\u4e0b:"}),"\n",(0,c.jsx)(s.p,{children:"\u9996\u5148\u6839\u636e\u4e1a\u52a1\u573a\u666f\u6211\u4eec\u63d0\u51fa\u4e86 RocketMQ \u8bbe\u8ba1\u7684\u4e09\u5927\u76ee\u6807:\u6d88\u606f\u6301\u4e45\u5316\uff0c\u9ad8\u6027\u80fd\uff0c\u9ad8\u53ef\u7528\uff0c\u6beb\u65e0\u7591\u95ee broker \u7684\u8bbe\u8ba1\u662f\u5b9e\u73b0\u8fd9\u4e09\u5927\u76ee\u6807\u7684\u5173\u952e\uff0c\u4e3a\u4e86\u6d88\u606f\u6301\u4e45\u5316\uff0c\u6211\u4eec\u8bbe\u8ba1\u4e86 commitlog \u6587\u4ef6\uff0c\u901a\u8fc7\u987a\u5e8f\u5199\u7684\u65b9\u5f0f\u4fdd\u8bc1\u4e86\u6587\u4ef6\u5199\u5165\u7684\u9ad8\u6027\u80fd\uff0c\u4f46\u5982\u679c\u6bcf\u6b21 producer \u5199\u5165\u6d88\u606f\u6216\u8005 consumer \u8bfb\u53d6\u6d88\u606f\u90fd\u4ece\u6587\u4ef6\u6765\u8bfb\u5199\uff0c\u7531\u4e8e\u6d89\u53ca\u5230\u78c1\u76d8 IO \u663e\u7136\u6027\u80fd\u4f1a\u6709\u5f88\u5927\u7684\u95ee\u9898\uff0c\u4e8e\u662f\u6211\u4eec\u4e86\u89e3\u5230\u64cd\u4f5c\u7cfb\u7edf\u8bfb\u5199\u6587\u4ef6\u4f1a\u5148\u5c06\u6587\u4ef6\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u7684 page cache \u4e2d\u3002\u5bf9\u4e8e\u4f20\u7edf\u7684\u6587\u4ef6 IO\uff0c\u7531\u4e8e page cache \u5b58\u5728\u5185\u6838\u7a7a\u95f4\u4e2d\uff0c\u8fd8\u9700\u8981\u5c06\u5176\u62f7\u8d1d\u5230\u7528\u6237\u7a7a\u95f4\u4e2d\u624d\u80fd\u4e3a\u8fdb\u7a0b\u6240\u7528\uff08\u540c\u6837\u7684\uff0c\u5199\u5165\u6d88\u606f\u4e5f\u8981\u5199\u5c06\u6d88\u606f\u5199\u5165\u7528\u6237\u7a7a\u95f4\u7684 buffer\uff0c\u518d\u62f7\u8d1d\u5230 \u5185\u6838\u7a7a\u95f4\u4e2d\u7684 page cache\uff09\uff0c\u4e8e\u662f\u6211\u4eec\u4f7f\u7528\u4e86 mmap \u6765\u907f\u514d\u4e86\u8fd9\u6b21\u62f7\u8d1d\uff0c\u8fd9\u6837\u7684\u8bdd producer \u53d1\u9001\u6d88\u606f\u53ea\u8981\u5148\u628a\u6d88\u606f\u5199\u5165 page cache \u518d\u5f02\u6b65\u5237\u76d8\uff0c\u800c consumer \u53ea\u8981\u4fdd\u8bc1\u6d88\u606f\u8fdb\u5ea6\u80fd\u8ddf\u5f97\u4e0a producer \u4ea7\u751f\u6d88\u606f\u7684\u8fdb\u5ea6\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u4ece page cache \u4e2d\u8bfb\u53d6\u6d88\u606f\u8fdb\u884c\u6d88\u8d39\uff0c\u4e8e\u662f producer \u4e0e consumer \u90fd\u53ef\u4ee5\u76f4\u63a5\u4ece page cache \u4e2d\u8bfb\u5199\u6d88\u606f\uff0c\u6781\u5927\u5730\u63d0\u5347\u4e86\u6d88\u606f\u7684\u8bfb\u5199\u6027\u80fd\uff0c\u90a3\u600e\u4e48\u4fdd\u8bc1 consumer \u6d88\u8d39\u8db3\u591f\u5feb\u4ee5\u8ddf\u4e0a producer \u4ea7\u751f\u6d88\u606f\u7684\u901f\u5ea6\u7684\uff0c\u663e\u7136\uff0c\u8ba9\u6d88\u606f\u5206\u5e03\u5f0f\uff0c\u5206\u7247\u5b58\u50a8\u662f\u4e00\u79cd\u901a\u7528\u65b9\u6848\uff0c\u8fd9\u6837\u7684\u8bdd\u901a\u8fc7\u589e\u52a0 consumer \u5373\u53ef\u8fbe\u5230\u5e76\u53d1\u6d88\u8d39\u6d88\u606f\u7684\u76ee\u7684"}),"\n",(0,c.jsx)(s.p,{children:"\u6700\u540e\uff0c\u4e3a\u4e86\u907f\u514d\u6bcf\u6b21\u521b\u5efa Topic \u6216\u8005 broker \u5b95\u673a\u90fd\u5f97\u4fee\u6539 producer/consumer \u4e0a\u7684\u914d\u7f6e\uff0c\u6211\u4eec\u5f15\u5165\u4e86 nameserver\uff0c \u5b9e\u73b0\u4e86\u670d\u52a1\u7684\u81ea\u52a8\u53d1\u73b0\u529f\u80fd\u3002"}),"\n",(0,c.jsx)(s.p,{children:"\u4ed4\u7ec6\u4e0e\u5176\u5b83 RPC \u6846\u67b6\u6a2a\u5411\u5bf9\u6bd4\u540e\uff0c\u4f60\u4f1a\u53d1\u73b0\u8fd9\u4e9b RPC \u6846\u67b6\u7528\u7684\u601d\u60f3\u5176\u5b9e\u90fd\u5f88\u7c7b\u4f3c\uff0c\u6bd4\u5982\u6570\u636e\u4f7f\u7528\u5206\u7247\u5b58\u50a8\u4ee5\u63d0\u5347\u6570\u636e\u5b58\u50a8\u7684\u6c34\u5e73\u6269\u5c55\u4e0e\u5e76\u53d1\u6267\u884c\u80fd\u529b\uff0c\u4f7f\u7528 zookeeper\uff0cnameserver \u7b49\u6ce8\u518c\u4e2d\u5fc3\u6765\u8fbe\u5230\u670d\u52a1\u6ce8\u518c\u4e0e\u81ea\u52a8\u53d1\u73b0\u7684\u76ee\u7684\uff0c\u6240\u4ee5\u638c\u63e1\u4e86\u8fd9\u4e9b\u601d\u60f3\uff0c \u6211\u4eec\u518d\u53bb\u89c2\u5bdf\u5b66\u4e60\u6216\u8bbe\u8ba1 RPC \u65f6\u5c31\u80fd\u8fbe\u5230\u4e8b\u534a\u529f\u500d\u7684\u6548\u679c"})]})}function p(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,c.jsx)(s,{...e,children:(0,c.jsx)(l,{...e})}):l(e)}},81991:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-1-6dfd9439c4ecf209e7e803084772e3cb.jpg"},57255:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-10-523e4bf2c2f324f91c047e1536668e28.jpg"},5866:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-11-93c969001b984610dc83ae53ed35c541.jpg"},81589:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-12-e2fa93ab5be3a0bbb97a7b04bf630c71.jpg"},77272:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-13-1e17b5f9d0bc9496d7abaf14e1314b08.jpg"},24011:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-14-26da81eb54ffe3c625aa730b4945c752.jpg"},45966:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-15-88b1a2c840224347f6af1bd3672ab23e.jpg"},26233:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-16-cc142a7ab25473a543c75b84d68cf50b.jpg"},55708:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-17-4822c41d586a0c7c76f7a74107cc0e39.jpg"},83455:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-18-56ffc53a1fa03027b52feca587fd89de.jpg"},91746:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-19-62339286b575518af0d90ad972151a57.jpg"},49144:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-2-9ac64a6a2431a8ebbb05255e9d08e16b.jpg"},61346:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-20-7e050d4ed72f61bf016ad279614636a5.jpg"},53055:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-21-f712d5215978227da5f68a88f1a183f5.jpg"},52980:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-22-d72b92d3c18253a91d59b4a31afa07b1.png"},74109:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-23-6b4e7630fd427ec9b3b0b5d9f8571152.png"},71846:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-24-d58e7b69f8b19b223109f3bfa9ad7852.jpg"},31331:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-25-3358efdd818b71e4766a3cb4624d755e.jpg"},85268:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-26-eb9f4b3c19e16dcf462424eabb6805fd.jpg"},99601:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-27-0919e8064462602de865a472bba44e12.jpg"},28490:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-28-c89096a87308fdd435cca1819edeae6e.jpg"},84327:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-29-eaca07f09bbc013c30f68014775f76aa.jpg"},10325:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-3-665e2f517f57332cd9b40da79841c53d.jpg"},19929:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-30-90beed3b13ef5354b4a40025534cf429.jpg"},73262:(e,s,n)=>{n.d(s,{A:()=>c});const c="data:image/jpeg;base64,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"},52747:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-5-09d59df7542ee0e3bea363bb42339656.jpg"},27580:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-6-8f28ff2e194fc71f5a06aedec658b0db.jpg"},71929:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-7-960bad658719812db61097bc9c5e8ff7.jpg"},42658:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-8-26394a2f4bccb22933459cc3c56a6fdc.jpg"},55327:(e,s,n)=>{n.d(s,{A:()=>c});const c=n.p+"assets/images/4-9-a283a177ad88baf1e02b91a0961c4e91.jpg"},28453:(e,s,n)=>{n.d(s,{R:()=>d,x:()=>o});var c=n(96540);const r={},i=c.createContext(r);function d(e){const s=c.useContext(i);return c.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),c.createElement(i.Provider,{value:s},e.children)}}}]);