"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[9664],{24769:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>c});var i=n(74848),l=n(28453);const a={},s=void 0,r={id:"zh-cn/linux/install/Install-Gitea",title:"Install-Gitea",description:"1. \u5b89\u88c5 Gitea",source:"@site/docs/zh-cn/linux/install/4-Install-Gitea.md",sourceDirName:"zh-cn/linux/install",slug:"/zh-cn/linux/install/Install-Gitea",permalink:"/light-docusaurus/docs/zh-cn/linux/install/Install-Gitea",draft:!1,unlisted:!1,editUrl:"https://github.com/lorchr/light-docusaurus/tree/main/docs/zh-cn/linux/install/4-Install-Gitea.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{},sidebar:"troch",previous:{title:"Install-Maven",permalink:"/light-docusaurus/docs/zh-cn/linux/install/Install-Maven"},next:{title:"Install-Nexus3",permalink:"/light-docusaurus/docs/zh-cn/linux/install/Install-Nexus3"}},o={},c=[{value:"1. \u5b89\u88c5 Gitea",id:"1-\u5b89\u88c5-gitea",level:2},{value:"1. \u5b89\u88c5",id:"1-\u5b89\u88c5",level:3},{value:"2. \u6ce8\u518c\u4e3a\u670d\u52a1",id:"2-\u6ce8\u518c\u4e3a\u670d\u52a1",level:3},{value:"3. \u521d\u59cb\u5316Gitea",id:"3-\u521d\u59cb\u5316gitea",level:3},{value:"4. \u57df\u540d\u8bbf\u95ee",id:"4-\u57df\u540d\u8bbf\u95ee",level:3}];function d(e){const t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"1-\u5b89\u88c5-gitea",children:"1. \u5b89\u88c5 Gitea"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://dl.gitea.io/gitea",children:"https://dl.gitea.io/gitea"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://www.kernel.org/pub/software/scm/git/git-2.37.2.tar.gz",children:"https://www.kernel.org/pub/software/scm/git/git-2.37.2.tar.gz"})}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"1-\u5b89\u88c5",children:"1. \u5b89\u88c5"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"# \u5b89\u88c5\u4f9d\u8d56\nyum install -y \\\n  git \\\n  gcc-c++ \\\n  zlib-devel \\\n  perl-ExtUtils-MakeMaker \\\n  sqlite3\n\n# \u4e0b\u8f7dGit\nwget https://www.kernel.org/pub/software/scm/git/git-2.37.2.tar.gz -O /usr/local/git/\n\n# \u521b\u5efa\u5b89\u88c5\u76ee\u5f55\nmkdir /usr/local/gitea\n\n# \u521b\u5efa\u6570\u636e\u76ee\u5f55\u5e76\u65b0\u5efa\u6570\u636e\u5e93\nmkdir /usr/local/gitea/data/\n\n# \u521b\u5efaSqlite\u6570\u636e\u5e93\u5b58\u50a8\u6570\u636e\nsqlite3 /usr/local/gitea/data/gitea.db\n\n# \u4e0b\u8f7dGitea\nwget https://dl.gitea.io/gitea/1.8.3/gitea-1.8.3-linux-amd64 -O /usr/local/gitea/gitea\n\n# \u4fee\u6539\u6587\u4ef6\u7684\u6267\u884c\u6743\u9650\nchmod +x /usr/local/gitea/gitea\n"})}),"\n",(0,i.jsx)(t.h3,{id:"2-\u6ce8\u518c\u4e3a\u670d\u52a1",children:"2. \u6ce8\u518c\u4e3a\u670d\u52a1"}),"\n",(0,i.jsxs)(t.p,{children:["\u65b0\u5efa\u4e00\u4e2a",(0,i.jsx)(t.code,{children:"gitea.service"}),"\u6587\u4ef6\uff1a"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"vim /usr/lib/systemd/system/gitea.service"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"[Unit]\nDescription=gitea\nAfter=network.target\n\n[Service]\nType=forking\n# Gitea\u7684\u6267\u884c\u6587\u4ef6\nExecStart=/uar/local/gitea/gitea\nUser=root\nRestart=on-abort\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,i.jsx)(t.h3,{id:"3-\u521d\u59cb\u5316gitea",children:"3. \u521d\u59cb\u5316Gitea"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"# \u91cd\u8f7ddaemon\uff0c\u8ba9\u65b0\u7684\u670d\u52a1\u6587\u4ef6\u751f\u6548\uff1a\nsystemctl daemon-reload\n\n# \u542f\u52a8gitea\u670d\u52a1\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\nsystemctl start gitea && systemctl enable gitea\n\n# \u4fee\u6539conf\u6587\u4ef6\u6765\u4fee\u6539gitea\u914d\u7f6e\nvim /usr/local/gitea/custom/conf/app.ini\n\n# \u5907\u4efd\nmv /usr/local/gitea/custom/ /usr/local/gitea/custom.bak\nmv /usr/local/gitea/data/ /usr/local/gitea/data.bak\nmv /usr/local/gitea/gitea-repositories/ /usr/local/gitea/gitea-repositories.bak\n\n# \u6062\u590d\nmv /usr/local/gitea/custom.bak/ /usr/local/gitea/custom\nmv /usr/local/gitea/data.bak/ /usr/local/gitea/data\nmv /usr/local/gitea/gitea-repositories.bak/ /usr/local/gitea/gitea-repositories\n"})}),"\n",(0,i.jsx)(t.h3,{id:"4-\u57df\u540d\u8bbf\u95ee",children:"4. \u57df\u540d\u8bbf\u95ee"}),"\n",(0,i.jsx)(t.p,{children:"\u5982\u679c\u60f3\u7528\u57df\u540d\u8bbf\u95ee\uff0c\u53ef\u4ee5\u7528Nginx\u53cd\u4ee3\u3002\u53cd\u4ee3\u914d\u7f6e\u4e3a\uff1a"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-conf",children:"# \u5728\u914d\u7f6e\u6587\u4ef6\u91cc\u6dfb\u52a0\nlocation /gitea/ {\n  proxy_pass http://localhost:3000/\n  proxy_redirect off;\n  proxy_set_header X-Real-IP $remote_addr;\n  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n}\n"})}),"\n",(0,i.jsxs)(t.p,{children:["\u8bbf\u95eeWeb\u9875\u9762: ",(0,i.jsx)(t.a,{href:"http://192.168.137.101:3000",children:"http://192.168.137.101:3000"})]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"root/admin"}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["\u914d\u7f6e\u6570\u636e\u5e93\u7b49\uff0c\u5e76",(0,i.jsx)(t.strong,{children:"\u8bbe\u7f6e\u7ba1\u7406\u5458\u8d26\u53f7\u5bc6\u7801"})]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["git remote set-url --add origin ",(0,i.jsx)(t.a,{href:"http://192.168.137.101:3000/root/pi-diginn.git",children:"http://192.168.137.101:3000/root/pi-diginn.git"})]}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var i=n(96540);const l={},a=i.createContext(l);function s(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),i.createElement(a.Provider,{value:t},e.children)}}}]);