"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[3748],{40753:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>h,contentTitle:()=>d,default:()=>o,frontMatter:()=>c,metadata:()=>r,toc:()=>t});var l=i(85893),s=i(11151);const c={},d=void 0,r={id:"homeassistant/HA-Initialization",title:"HA-Initialization",description:"\u5b98\u65b9\u63d2\u4ef6\u5e02\u573a",source:"@site/diy/homeassistant/2-HA-Initialization.md",sourceDirName:"homeassistant",slug:"/homeassistant/HA-Initialization",permalink:"/light-docusaurus/diy/homeassistant/HA-Initialization",draft:!1,unlisted:!1,editUrl:"https://github.com/lorchr/light-docusaurus/tree/main/diy/homeassistant/2-HA-Initialization.md",tags:[],version:"current",lastUpdatedBy:"Lorchr",lastUpdatedAt:1705891060,formattedLastUpdatedAt:"2024\u5e741\u670822\u65e5",sidebarPosition:2,frontMatter:{},sidebar:"diy",previous:{title:"HA-Install",permalink:"/light-docusaurus/diy/homeassistant/HA-Install"},next:{title:"HA-Quick-Start",permalink:"/light-docusaurus/diy/homeassistant/HA-Quick-Start"}},h={},t=[{value:"\u5b98\u65b9\u63d2\u4ef6\u5e02\u573a",id:"\u5b98\u65b9\u63d2\u4ef6\u5e02\u573a",level:2},{value:"\u5b89\u88c5\u9700\u77e5",id:"\u5b89\u88c5\u9700\u77e5",level:3},{value:"\u63a8\u8350\u5b89\u88c5\u7684\u63d2\u4ef6\u5217\u8868",id:"\u63a8\u8350\u5b89\u88c5\u7684\u63d2\u4ef6\u5217\u8868",level:3},{value:"HACS(Home Assistant Community Store) \u63d2\u4ef6",id:"hacshome-assistant-community-store-\u63d2\u4ef6",level:2},{value:"\u5b89\u88c5 HACS \u793e\u533a\u63d2\u4ef6\u5546\u5e97",id:"\u5b89\u88c5-hacs-\u793e\u533a\u63d2\u4ef6\u5546\u5e97",level:3},{value:"\u5b89\u88c5\u63d2\u4ef6",id:"\u5b89\u88c5\u63d2\u4ef6",level:3},{value:"\u914d\u7f6e\u63d2\u4ef6",id:"\u914d\u7f6e\u63d2\u4ef6",level:2},{value:"OpenWrt",id:"openwrt",level:3},{value:"\u7ffb\u9875\u65f6\u949f",id:"\u7ffb\u9875\u65f6\u949f",level:3},{value:"\u5929\u6c14\u9884\u62a5",id:"\u5929\u6c14\u9884\u62a5",level:3},{value:"\u5f69\u4e91\u5929\u6c14",id:"\u5f69\u4e91\u5929\u6c14",level:3},{value:"windy\u5929\u6c14",id:"windy\u5929\u6c14",level:3},{value:"\u7f16\u8f91\u5929\u6c14 \u65f6\u949f\u9875\u9762",id:"\u7f16\u8f91\u5929\u6c14-\u65f6\u949f\u9875\u9762",level:3}];function a(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.ah)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"\u5b98\u65b9\u63d2\u4ef6\u5e02\u573a",children:"\u5b98\u65b9\u63d2\u4ef6\u5e02\u573a"}),"\n",(0,l.jsx)(e.h3,{id:"\u5b89\u88c5\u9700\u77e5",children:"\u5b89\u88c5\u9700\u77e5"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u542f\u7528\u63d2\u4ef6\u9700\u8981\u5f00\u542f\u9ad8\u7ea7\u6a21\u5f0f\uff0c\u5728\u3010\u8d26\u6237\u3011-\u3010\u9ad8\u7ea7\u6a21\u5f0f\u3011\u4e2d\u5f00\u542f"}),"\n",(0,l.jsx)(e.li,{children:"\u5b98\u65b9\u63d2\u4ef6\u5728\u3010\u914d\u7f6e\u3011-\u3010\u52a0\u8f7d\u9879\u3011\u4e2d\u5b89\u88c5"}),"\n",(0,l.jsx)(e.li,{children:"\u5b89\u88c5\u5b8c\u6210\u540e\u68c0\u67e5\u63d2\u4ef6\u7684\u3010\u914d\u7f6e\u3011Tab\u9875\u662f\u5426\u6709\u9700\u8981\u914d\u7f6e\u7684\u9879\u76ee"}),"\n",(0,l.jsx)(e.li,{children:"\u542f\u52a8\u524d\u53ef\u5c06\u9664\u4e86\u3010\u81ea\u52a8\u66f4\u65b0\u3011\u5916\u7684\u6240\u6709\u529f\u80fd\u52fe\u9009\uff0c\u4f8b\u5982\u3010\u81ea\u52a8\u542f\u52a8\u3011\u3001\u3010\u5b88\u62a4\u8fdb\u7a0b\u3011\u3001\u3010\u663e\u793a\u5728\u5230\u5de6\u4fa7\u83dc\u5355\u680f\u3011"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u63a8\u8350\u5b89\u88c5\u7684\u63d2\u4ef6\u5217\u8868",children:"\u63a8\u8350\u5b89\u88c5\u7684\u63d2\u4ef6\u5217\u8868"}),"\n",(0,l.jsx)(e.p,{children:"\u4ee5\u4e0b\u63d2\u4ef6\u5728\u3010\u914d\u7f6e\u3011-\u3010\u52a0\u8f7d\u9879\u3011\u4e2d"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"Terminal     Web\u7aef\u547d\u4ee4\u884c"}),"\n",(0,l.jsx)(e.li,{children:"Samba Share  \u5c40\u57df\u7f51\u6587\u4ef6\u5171\u4eab"}),"\n",(0,l.jsx)(e.li,{children:"File Editor  \u53ef\u89c6\u5316\u6587\u672c\u7f16\u8f91\u5668"}),"\n",(0,l.jsx)(e.li,{children:"Mosquitto    MQTT\u670d\u52a1\u7aef"}),"\n",(0,l.jsx)(e.li,{children:"Node-Red     \u81ea\u52a8\u5316\u811a\u672c\u7f16\u8f91"}),"\n",(0,l.jsx)(e.li,{children:"ESP Home     \u901a\u8fc7YAML \u63a7\u5236\u7ba1\u7406\u4f20\u611f\u5668"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u4ee5\u4e0b\u63d2\u4ef6\u5728\u3010\u914d\u7f6e\u3011-\u3010\u96c6\u6210\u4e0e\u670d\u52a1\u3011\u4e2d"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"HACS         \u793e\u533a\u63d2\u4ef6\u5546\u5e97"}),"\n",(0,l.jsx)(e.li,{children:"OpenWrt      \u914d\u7f6e\u76d1\u63a7OpenWrt"}),"\n",(0,l.jsx)(e.li,{children:"Upnp/IGD     TP-Link"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"hacshome-assistant-community-store-\u63d2\u4ef6",children:"HACS(Home Assistant Community Store) \u63d2\u4ef6"}),"\n",(0,l.jsx)(e.h3,{id:"\u5b89\u88c5-hacs-\u793e\u533a\u63d2\u4ef6\u5546\u5e97",children:"\u5b89\u88c5 HACS \u793e\u533a\u63d2\u4ef6\u5546\u5e97"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u6253\u5f00Terminal\uff0c\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"# \u5b98\u65b9\u5730\u5740\nwget -O - https://get.hacs.xyz | bash -\n# \u56fd\u5185\u52a0\u901f\u5730\u5740\nwget -O - https://hacs.vip/get | bash -\n# \u56fd\u5185\u52a0\u901f\u5730\u5740\nwget -O - https://hacs.vip/get | HUB_DOMAIN=ghproxy.com/github.com bash -\n# cdn\u4ee3\u7406\u5730\u5740 \u4e0d\u53ef\u7528\nwget -O - https://cdn.jsdelivr.net/gh/hasscc/get@main/get | HUB_DOMAIN=ghproxy.com/github.com DOMAIN=hacs REPO_PATH=hacs-china/integration ARCHIVE_TAG=china bash -\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"\u5728\u3010\u914d\u7f6e\u3011-\u3010\u96c6\u6210\u3011\u4e2d\u641c\u7d22\u3010HACS\u3011"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u5b89\u88c5\u63d2\u4ef6",children:"\u5b89\u88c5\u63d2\u4ef6"}),"\n",(0,l.jsx)(e.p,{children:"\u8fdb\u5165HACS\u5b89\u88c5\u5e38\u7528\u63d2\u4ef6"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"Xiaomi MIot Auto"}),"\n",(0,l.jsx)(e.li,{children:"Tuya"}),"\n",(0,l.jsx)(e.li,{children:"Yeelight"}),"\n",(0,l.jsx)(e.li,{children:"Zigbee"}),"\n",(0,l.jsx)(e.li,{children:"Homekit"}),"\n",(0,l.jsx)(e.li,{children:"Mushroom"}),"\n",(0,l.jsx)(e.li,{children:"iKuai"}),"\n",(0,l.jsx)(e.li,{children:"\u5929\u6c14\u9884\u62a5"}),"\n",(0,l.jsx)(e.li,{children:"\u5f69\u4e91\u5929\u6c14"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u914d\u7f6e\u63d2\u4ef6",children:"\u914d\u7f6e\u63d2\u4ef6"}),"\n",(0,l.jsx)(e.h3,{id:"openwrt",children:"OpenWrt"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.home-assistant.io/integrations/luci",children:"HA\u5b98\u65b9 OpenWrt\u914d\u7f6e\u6587\u6863"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.home-assistant.io/integrations/device_tracker/",children:"HA\u5b98\u65b9 \u8bbe\u5907\u8ffd\u8e2a\u914d\u7f6e\u6587\u6863"})}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u5728OpenWrt\u4e2d\u6253\u5f00\u7ec8\u7aef\u5b89\u88c5\u4f9d\u8d56"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"# \u66f4\u65b0\u8f6f\u4ef6\u5217\u8868\nopkg update\n\n# \u5b89\u88c5\u4f9d\u8d56\u6a21\u5757\nopkg install luci-mod-rpc\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:["\u7f16\u8f91HA\u914d\u7f6e\u6587\u4ef6",(0,l.jsx)(e.code,{children:"configuration.yaml"})]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"vim /root/homeassistant/configuration.yaml\n\n# Example configuration.yaml entry\ndevice_tracker:\n  - platform: luci\n    host: 192.168.0.254\n    username: root\n    password: password\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u7ffb\u9875\u65f6\u949f",children:"\u7ffb\u9875\u65f6\u949f"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/liaoliao007/leoha/",children:"\u7ffb\u9875\u65f6\u949f"})}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u4e0b\u8f7d\u524d\u7aef\u5e93"}),"\n",(0,l.jsxs)(e.li,{children:["\u5c06",(0,l.jsx)(e.code,{children:"clock"}),"\u6587\u4ef6\u5939\u7c98\u8d34\u5230 ",(0,l.jsx)(e.code,{children:"www"})," \u4e0b"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u5929\u6c14\u9884\u62a5",children:"\u5929\u6c14\u9884\u62a5"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5728HACS\u4e2d\u6dfb\u52a0\u81ea\u5b9a\u4e49\u4ed3\u5e93",(0,l.jsx)(e.a,{href:"https://github.com/hasscc/tianqi",children:"\u5929\u6c14\u9884\u62a5"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u5728\u3010\u914d\u7f6e\u3011-\u3010\u96c6\u6210\u4e0e\u670d\u52a1\u3011\u4e2d\u6dfb\u52a0",(0,l.jsx)(e.code,{children:"\u5929\u6c14\u9884\u62a5"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u670d\u52a1\u57df: ",(0,l.jsx)(e.code,{children:"weather.com.cn "})]}),"\n",(0,l.jsx)(e.li,{children:"\u5730\u70b9: \u6b66\u6c49"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u5f69\u4e91\u5929\u6c14",children:"\u5f69\u4e91\u5929\u6c14"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["HACS\u5b89\u88c5\u96c6\u6210 ",(0,l.jsx)(e.code,{children:"\u5f69\u4e91\u5929\u6c14"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u5b89\u88c5\u524d\u7aef\uff0c\u4ece\u521a\u624d\u5b89\u88c5\u7684\u96c6\u6210\u4ecb\u7ecd\u9875\u8fdb\u53bb\uff0c\u590d\u5236",(0,l.jsx)(e.a,{href:"https://github.com/fineemb/lovelace-colorfulclouds-weather-card",children:"\u524d\u7aef\u5e93\u5730\u5740"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u9009\u62e9",(0,l.jsx)(e.code,{children:"\u81ea\u5b9a\u4e49\u4ed3\u5e93"}),"\uff0c\u8d34\u4e0a\u524d\u7aef\u5e93\u5730\u5740\uff0c\u7c7b\u522b\u9009\u62e9 ",(0,l.jsx)(e.code,{children:"Lovelace"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u53bb\u5f69\u4e91\u5929\u6c14\u5b98\u7f51",(0,l.jsx)(e.a,{href:"https://platform.caiyunapp.com/login?redirect=/dashboard",children:"\u7533\u8bf7key"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u6ce8\u518c\u8d26\u53f7-\u8eab\u4efd\u8ba4\u8bc1\u4e4b\u540e\uff0c\u521b\u5efa\u5e94\u7528\uff0c\u7c7b\u578b\u9009",(0,l.jsx)(e.code,{children:"\u5929\u6c14"}),"\uff0c\u573a\u666f\u9009",(0,l.jsx)(e.code,{children:"\u6c14\u8c61\u670d\u52a1"})]}),"\n",(0,l.jsx)(e.li,{children:"\uff0c\u6dfb\u52a0\u6210\u529f\u540e\u590d\u5236Token"}),"\n",(0,l.jsxs)(e.li,{children:["\u8fdb\u5165\u3010\u914d\u7f6e\u3011-\u3010\u8bbe\u5907\u4e0e\u96c6\u6210\u3011\uff0c\u6dfb\u52a0\u96c6\u6210",(0,l.jsx)(e.code,{children:"colorfulclouds"}),"\uff0c\u7c98\u8d34\u521a\u624d\u590d\u5236\u7684key\u5373\u53ef"]}),"\n",(0,l.jsx)(e.li,{children:"\u4fee\u6539\u5f69\u4e91\u5929\u6c14\u7684\u8c03\u7528\u9891\u7387\uff08\u514d\u8d39\u7248\u6bcf\u5929\u53ea\u67091w\u6b21\uff0c\u9ed8\u8ba46\u5206\u949f\u4e00\u6b21\uff09"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"cd /custom_components/colorfulclouds\n\n# \u7f16\u8f91 __init__.py\nvim __init__.py\n\u5c06 update_interval \u7684\u503c\u4ece 6 \u6539\u4e3a 30 \n"})}),"\n",(0,l.jsx)(e.h3,{id:"windy\u5929\u6c14",children:"windy\u5929\u6c14"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u6253\u5f00",(0,l.jsx)(e.a,{href:"https://windy.com",children:"windy\u5929\u6c14\u5b98\u7f51"}),"\uff0c\u627e\u5230\u76ee\u6807\u5730\u5740"]}),"\n",(0,l.jsxs)(e.li,{children:["\u70b9\u51fb\u5de6\u4fa7",(0,l.jsx)(e.code,{children:"\u83dc\u5355"}),"-",(0,l.jsx)(e.code,{children:"\u9875\u9762\u5d4c\u5165\u5f0f\u5fae\u4ef6"}),"\uff0c\u9009\u4e2d\u4ee5\u4e0b\u9879\u76ee\uff0c\u590d\u5236\u4ee3\u7801","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5728\u4e2d\u95f4\u663e\u793a\u6807\u8bb0"}),"\n",(0,l.jsx)(e.li,{children:"\u7b49\u538b\u7ebf"}),"\n",(0,l.jsx)(e.li,{children:"Include spot forecast"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-html",children:'<iframe width="650" height="450" src="https://embed.windy.com/embed2.html?lat=30.436&lon=114.432&detailLat=30.489&detailLon=114.432&width=650&height=450&zoom=11&level=surface&overlay=wind&product=ecmwf&menu=&message=&marker=true&calendar=now&pressure=true&type=map&location=coordinates&detail=true&metricWind=default&metricTemp=default&radarRange=-1" frameborder="0"></iframe>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\u7f16\u8f91\u5929\u6c14-\u65f6\u949f\u9875\u9762",children:"\u7f16\u8f91\u5929\u6c14 \u65f6\u949f\u9875\u9762"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u6982\u89c8-\u7f16\u8f91\u4eea\u8868\u76d8-\u7ba1\u7406\u4eea\u8868\u76d8-\u6dfb\u52a0\u4eea\u8868\u76d8\uff0c\u8f93\u5165\u540d\u79f0\u56fe\u6807\u5373\u53ef\uff0c"}),"\n",(0,l.jsxs)(e.li,{children:["\u8fdb\u5165\u65b0\u4eea\u8868\u76d8\uff0c\u6dfb\u52a0\u5361\u7247\uff0c\u7c7b\u578b\u9009",(0,l.jsx)(e.code,{children:"\u5782\u76f4\u5806\u53e0"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u7ffb\u9875\u65f6\u949f\u914d\u7f6e\uff1a\u7f16\u8f91\u5782\u76f4\u5806\u53e0\uff0c\u7c7b\u578b\u9009",(0,l.jsx)(e.code,{children:"\u7f51\u9875"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u540d\u79f0: \u7ffb\u9875\u65f6\u949f"}),"\n",(0,l.jsxs)(e.li,{children:["URL: ",(0,l.jsx)(e.code,{children:"/local/clock/index.html"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u5f69\u4e91\u5929\u6c14\u914d\u7f6e: \u7f16\u8f91\u5782\u76f4\u5806\u53e0\uff0c\u70b9\u51fb ",(0,l.jsx)(e.code,{children:"+"})," \u7b26\u53f7\uff0c\u65b0\u5efa\u5361\u7247\uff0c\u7c7b\u578b\u9009\u62e9",(0,l.jsx)(e.code,{children:"\u81ea\u5b9a\u4e49 Colorfulclouds"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u52fe\u9009 ",(0,l.jsx)(e.code,{children:"\u8be6\u7ec6\u9884\u62a5"}),"\uff0c",(0,l.jsx)(e.code,{children:"\u5c0f\u65f6\u9884\u62a5"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Windy\u5929\u6c14\u914d\u7f6e\uff1a\u7f16\u8f91\u5782\u76f4\u5806\u53e0\uff0c\u7c7b\u578b\u9009",(0,l.jsx)(e.code,{children:"\u7f51\u9875"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u540d\u79f0: Windy\u5929\u6c14"}),"\n",(0,l.jsx)(e.li,{children:"URL: \u4e0a\u9762Windy\u5929\u6c14html\u4ee3\u7801\u4e2dSRC\u7684\u503c"}),"\n"]}),"\n"]}),"\n"]})]})}function o(n={}){const{wrapper:e}={...(0,s.ah)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(a,{...n})}):a(n)}},11151:(n,e,i)=>{i.d(e,{ah:()=>c});var l=i(67294);const s=l.createContext({});function c(n){const e=l.useContext(s);return l.useMemo((()=>"function"==typeof n?n(e):{...e,...n}),[e,n])}}}]);