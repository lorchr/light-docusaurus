"use strict";(self.webpackChunklight_docusaurus=self.webpackChunklight_docusaurus||[]).push([[98703],{28453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>o});var i=t(96540);const l={},s=i.createContext(l);function d(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),i.createElement(s.Provider,{value:n},e.children)}},66578:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"note/outline","title":"Outline QuickStart","description":"- \u5b89\u88c5\u6587\u6863","source":"@site/diy/note/outline.md","sourceDirName":"note","slug":"/note/outline","permalink":"/diy/note/outline","draft":false,"unlisted":false,"editUrl":"https://github.com/lorchr/light-docusaurus/tree/main/diy/note/outline.md","tags":[],"version":"current","lastUpdatedBy":"Lorchr","lastUpdatedAt":1749279355000,"frontMatter":{}}');var l=t(74848),s=t(28453);const d={},o="Outline QuickStart",r={},c=[{value:"\u7f16\u5199 Docker Compose \u914d\u7f6e\u6587\u4ef6 <code>outline.yaml</code>",id:"\u7f16\u5199-docker-compose-\u914d\u7f6e\u6587\u4ef6-outlineyaml",level:2},{value:"\u7f16\u5199\u73af\u5883\u53d8\u91cf\u6587\u4ef6",id:"\u7f16\u5199\u73af\u5883\u53d8\u91cf\u6587\u4ef6",level:2},{value:"\u542f\u52a8\u7a0b\u5e8f",id:"\u542f\u52a8\u7a0b\u5e8f",level:2},{value:"\u8bbf\u95ee\u5730\u5740",id:"\u8bbf\u95ee\u5730\u5740",level:2},{value:"\u521d\u6b65\u4f53\u9a8c",id:"\u521d\u6b65\u4f53\u9a8c",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"outline-quickstart",children:"Outline QuickStart"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.getoutline.com/s/hosting/",children:"\u5b89\u88c5\u6587\u6863"})}),"\n"]}),"\n",(0,l.jsxs)(n.h2,{id:"\u7f16\u5199-docker-compose-\u914d\u7f6e\u6587\u4ef6-outlineyaml",children:["\u7f16\u5199 Docker Compose \u914d\u7f6e\u6587\u4ef6 ",(0,l.jsx)(n.code,{children:"outline.yaml"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'version: "3"\n\nservices:\n  outline:\n    image: docker.getoutline.com/outlinewiki/outline:latest\n    env_file: ./outline.env\n    networks:\n      - default\n      - develop\n    ports:\n      - 3000:3000\n    expose:\n      - 3000\n    volumes:\n      - outline-data:/var/lib/outline/data\n    depends_on:\n      - postgres\n      - redis\n\n  postgres:\n    image: postgres:15.3\n    env_file: ./outline.env\n    volumes:\n      - postgres-data:/var/lib/postgresql/data\n    environment:\n      POSTGRES_USER: "outline"\n      POSTGRES_PASSWORD: "strong_password"\n      POSTGRES_DB: "outline"\n\n  redis:\n    image: redis:6.2\n    env_file: ./outline.env\n\nnetworks:\n  develop:\n    external: true\n\nvolumes:\n  outline-data:\n  postgres-data:\n\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u7f16\u5199\u73af\u5883\u53d8\u91cf\u6587\u4ef6",children:"\u7f16\u5199\u73af\u5883\u53d8\u91cf\u6587\u4ef6"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-env",children:'NODE_ENV=production\n\n# Generate a hex-encoded 32-byte random key. You should use `openssl rand -hex 32`\n# in your terminal to generate a random value.\nSECRET_KEY=00b5677d3ce6c106f3d95ec830f9530f9014a2620d16fe60ed867a30c4964c5e\n\n# Generate a unique random key. The format is not important but you could still use\n# `openssl rand -hex 32` in your terminal to produce this.\nUTILS_SECRET=4b8235fdc01295571bd0946abb5eaf7c131f1a652386c98b658bbc4b1b4e3540\n\n# For production point these at your databases, in development the default\n# should work out of the box.\nDATABASE_URL=postgres://outline:outline@pgsql.light.local:5432/outline\n# DATABASE_CONNECTION_POOL_MIN=\n# DATABASE_CONNECTION_POOL_MAX=\n# Uncomment this to disable SSL for connecting to Postgres\nPGSSLMODE=disable\n\n# For redis you can either specify an ioredis compatible url like this\nREDIS_URL=redis://redis.light.local:6379\n# or alternatively, if you would like to provide additional connection options,\n# use a base64 encoded JSON connection option object. Refer to the ioredis documentation\n# for a list of available options.\n# Example: Use Redis Sentinel for high availability\n# {"sentinels":[{"host":"sentinel-0","port":26379},{"host":"sentinel-1","port":26379}],"name":"mymaster"}\n# REDIS_URL=ioredis://eyJzZW50aW5lbHMiOlt7Imhvc3QiOiJzZW50aW5lbC0wIiwicG9ydCI6MjYzNzl9LHsiaG9zdCI6InNlbnRpbmVsLTEiLCJwb3J0IjoyNjM3OX1dLCJuYW1lIjoibXltYXN0ZXIifQ==\n\n# URL should point to the fully qualified, publicly accessible URL. If using a\n# proxy the port in URL and PORT may be different.\nURL=http://outline.light.local:3000\nPORT=3000\n\nLANGUAGE_CODE=en-us\nTIME_ZONE=Asia/Shanghai\n\n# See translate.getoutline.com for a list of available language codes and their\n# percentage translated.\nDEFAULT_LANGUAGE=zh_CN\n\n# See [documentation](docs/SERVICES.md) on running a separate collaboration\n# server, for normal operation this does not need to be set.\nCOLLABORATION_URL=\n\n# Specify what storage system to use. Possible value is one of "s3" or "local".\n# For "local", the avatar images and document attachments will be saved on local disk. \nFILE_STORAGE=local\n\n# If "local" is configured for FILE_STORAGE above, then this sets the parent directory under\n# which all attachments/images go. Make sure that the process has permissions to create\n# this path and also to write files to it.\nFILE_STORAGE_LOCAL_ROOT_DIR=/var/lib/outline/data\n\n# Maximum allowed size for the uploaded attachment.\nFILE_STORAGE_UPLOAD_MAX_SIZE=262144000\n\n# Override the maximum size of document imports, generally this should be lower\n# than the document attachment maximum size.\nFILE_STORAGE_IMPORT_MAX_SIZE=\n\n# Override the maximum size of workspace imports, these can be especially large\n# and the files are temporary being automatically deleted after a period of time.\nFILE_STORAGE_WORKSPACE_IMPORT_MAX_SIZE=\n\n#ALLOWED_DOMAINS=\nFORCE_HTTPS=false\n\n# \u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013 AUTHENTICATION \u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\n\n# Third party signin credentials, at least ONE OF EITHER Google, Slack,\n# or Microsoft is required for a working installation or you\'ll have no sign-in\n# options.\n\n# To configure Google auth, you\'ll need to create an OAuth Client ID at\n# => https://console.cloud.google.com/apis/credentials\n#\n# When configuring the Client ID, add an Authorized redirect URI:\n# https://<URL>/auth/google.callback\nGOOGLE_CLIENT_ID=\nGOOGLE_CLIENT_SECRET=\n\nSLACK_CLIENT_ID=\nSLACK_CLIENT_SECRET=\n\nOIDC_CLIENT_ID=Outline\nOIDC_CLIENT_SECRET=96FtOgb8VCrJuIVaZLxvCC1LFwBZr0QH\nOIDC_AUTH_URI=http://keycloak.light.local:3679/realms/master\nOIDC_TOKEN_URI=http://keycloak.light.local:3679/realms/master/protocol/openid-connect/token\nOIDC_USERINFO_URI=http://keycloak.light.local:3679/realms/master/protocol/openid-connect/userinfo\nOIDC_LOGOUT_URI=http://keycloak.light.local:3679/realms/master/protocol/openid-connect/logout?redirect_uri=http%3A%2F%2Foutline.light.local%2F\nOIDC_DISABLE_REDIRECT=true\n\nOIDC_DISPLAY_NAME=OpenID\nOIDC_USERNAME_CLAIM=preferred_username\nOIDC_SCOPES=openid profile email\n\n# smtp information\nSMTP_HOST=\nSMTP_PORT=\nSMTP_FROM_EMAIL=\nSMTP_REPLY_EMAIL=\nSMTP_SECURE=\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u542f\u52a8\u7a0b\u5e8f",children:"\u542f\u52a8\u7a0b\u5e8f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker compose -f outline.yaml -p outline up -d\n\ndocker compose -f outline.yaml -p outline down\n\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-f"})," ",(0,l.jsx)(n.code,{children:"--file"})," \u6307\u5b9a docker-compose ",(0,l.jsx)(n.code,{children:"outline.yaml"})," \u811a\u672c\u6587\u4ef6"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-p"})," \xa0",(0,l.jsx)(n.code,{children:"--project"})," \u6307\u5b9a\u9879\u76ee\u540d\u79f0 ",(0,l.jsx)(n.code,{children:"outline"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"up"})," \u542f\u52a8\u7a0b\u5e8f"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"down"})," \u505c\u6b62\u7a0b\u5e8f"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-d"})," \u4ee5\u5b88\u62a4\u8fdb\u7a0b\u5728\u540e\u53f0\u8fd0\u884c"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u8bbf\u95ee\u5730\u5740",children:"\u8bbf\u95ee\u5730\u5740"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"http://localhost:3000",children:"Dashboard"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u521d\u6b65\u4f53\u9a8c",children:"\u521d\u6b65\u4f53\u9a8c"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u7279\u6027"}),(0,l.jsx)(n.th,{children:"Affine"}),(0,l.jsx)(n.th,{children:"BookStack"}),(0,l.jsx)(n.th,{children:"Docmost"}),(0,l.jsx)(n.th,{children:"Outline"}),(0,l.jsx)(n.th,{children:"Trilium"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u90e8\u7f72"}),(0,l.jsx)(n.td,{children:"\u7b80\u5355"}),(0,l.jsx)(n.td,{children:"\u7b80\u5355"}),(0,l.jsx)(n.td,{children:"\u7b80\u5355"}),(0,l.jsx)(n.td,{children:"\u590d\u6742"}),(0,l.jsx)(n.td,{children:"\u7b80\u5355"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u4f9d\u8d56"}),(0,l.jsx)(n.td,{children:"\u6570\u636e\u5e93 \u7f13\u5b58"}),(0,l.jsx)(n.td,{children:"\u6570\u636e\u5e93"}),(0,l.jsx)(n.td,{children:"\u6570\u636e\u5e93 \u7f13\u5b58"}),(0,l.jsx)(n.td,{children:"OIDC\u8ba4\u8bc1 \u6570\u636e\u5e93 \u7f13\u5b58"}),(0,l.jsx)(n.td,{children:"\u65e0"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u754c\u9762"}),(0,l.jsx)(n.td,{children:"\u81c3\u80bf"}),(0,l.jsx)(n.td,{children:"\u7b80\u6d01"}),(0,l.jsx)(n.td,{children:"\u7b80\u6d01"}),(0,l.jsx)(n.td,{children:"\u7b80\u6d01"}),(0,l.jsx)(n.td,{children:"\u7b80\u6d01"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u7b14\u8bb0"}),(0,l.jsx)(n.td,{children:"\u6d41\u7545"}),(0,l.jsx)(n.td,{children:"\u6d41\u7545"}),(0,l.jsx)(n.td,{children:"\u6d41\u7545"}),(0,l.jsx)(n.td,{children:"\u6d41\u7545"}),(0,l.jsx)(n.td,{children:"\u7e41\u7410"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u56fe\u7247"}),(0,l.jsx)(n.td,{children:"\u6d41\u7545"}),(0,l.jsx)(n.td,{children:"\u6d41\u7545"}),(0,l.jsx)(n.td,{children:"\u6d41\u7545"}),(0,l.jsx)(n.td,{children:"\u6d41\u7545"}),(0,l.jsx)(n.td,{children:"\u7e41\u7410"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u7ed8\u56fe"}),(0,l.jsx)(n.td,{children:"\u652f\u6301"}),(0,l.jsx)(n.td,{children:"\u4e0d\u652f\u6301"}),(0,l.jsx)(n.td,{children:"\u4e0d\u652f\u6301"}),(0,l.jsx)(n.td,{children:"\u4e0d\u652f\u6301"}),(0,l.jsx)(n.td,{children:"\u4e0d\u652f\u6301"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u5bfc\u51fa"}),(0,l.jsx)(n.td,{children:"\u6d41\u7545"}),(0,l.jsx)(n.td,{children:"\u56fe\u7247\u7f3a\u5931"}),(0,l.jsx)(n.td,{children:"\u62a5\u9519"}),(0,l.jsx)(n.td,{children:"\u6d41\u7545"}),(0,l.jsx)(n.td,{children:"\u6709BUG"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u6a21\u677f"}),(0,l.jsx)(n.td,{children:"\u4e0d\u652f\u6301"}),(0,l.jsx)(n.td,{children:"\u652f\u6301"}),(0,l.jsx)(n.td,{children:"\u4e0d\u652f\u6301"}),(0,l.jsx)(n.td,{children:"\u652f\u6301"}),(0,l.jsx)(n.td,{children:"\u652f\u6301"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u4fdd\u5b58"}),(0,l.jsx)(n.td,{children:"\u81ea\u52a8"}),(0,l.jsx)(n.td,{children:"\u624b\u52a8"}),(0,l.jsx)(n.td,{children:"\u81ea\u52a8"}),(0,l.jsx)(n.td,{children:"\u81ea\u52a8"}),(0,l.jsx)(n.td,{children:"\u81ea\u52a8"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u641c\u7d22"}),(0,l.jsx)(n.td,{children:"\u652f\u6301"}),(0,l.jsx)(n.td,{children:"\u652f\u6301"}),(0,l.jsx)(n.td,{children:"\u652f\u6301"}),(0,l.jsx)(n.td,{children:"\u652f\u6301"}),(0,l.jsx)(n.td,{children:"\u652f\u6301"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u534f\u4f5c"}),(0,l.jsx)(n.td,{children:"\u5b9e\u65f6"}),(0,l.jsx)(n.td,{children:"\u591a\u7528\u6237"}),(0,l.jsx)(n.td,{children:"\u5b9e\u65f6"}),(0,l.jsx)(n.td,{children:"\u5b9e\u65f6"}),(0,l.jsx)(n.td,{children:"\u4e0d\u652f\u6301"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);