<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-middleware docs-version-current docs-doc-page docs-doc-id-redis/Redis-Data-Type" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Redis-Data-Type | Light Docusaurus</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://lorchr.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://lorchr.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://lorchr.github.io/middleware/redis/Redis-Data-Type/"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-middleware-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-middleware-current"><meta data-rh="true" property="og:title" content="Redis-Data-Type | Light Docusaurus"><meta data-rh="true" name="description" content="- Redis 八种常用数据类型常用命令和应用场景"><meta data-rh="true" property="og:description" content="- Redis 八种常用数据类型常用命令和应用场景"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lorchr.github.io/middleware/redis/Redis-Data-Type/"><link data-rh="true" rel="alternate" href="https://lorchr.github.io/middleware/redis/Redis-Data-Type/" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://lorchr.github.io/middleware/redis/Redis-Data-Type/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://TLGHDZ3Y2I-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Light Docusaurus RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Light Docusaurus Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Light Docusaurus" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.e8086d6f.css">
<script src="/assets/js/runtime~main.c1801180.js" defer="defer"></script>
<script src="/assets/js/main.0392788b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Torch Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Torch Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Torch</b></a><a class="navbar__item navbar__link" href="/docs/category/guide/">Torch</a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/middleware/">Middleware</a><a class="navbar__item navbar__link" href="/electron/">Electron</a><a class="navbar__item navbar__link" href="/postman/">Postman</a><a class="navbar__item navbar__link" href="/diy/">DIY</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/middleware/redis/Redis-Data-Type/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">简体中文</a></li></ul></div><a href="https://github.com/lorchr/light-docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索 (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/middleware/">MiddleWare</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/middleware/category/compare/">Compare</a><button aria-label="展开侧边栏分类 &#x27;Compare&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/middleware/category/mysql/">Mysql</a><button aria-label="展开侧边栏分类 &#x27;Mysql&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/middleware/category/postgresql/">Postgresql</a><button aria-label="展开侧边栏分类 &#x27;Postgresql&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/middleware/category/redis/">Redis</a><button aria-label="折叠侧边栏分类 &#x27;Redis&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Build-Redis-Cluster-With-Docker-Compose/">Build-Redis-Cluster-With-Docker-Compose</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Spring-Boot-RateLimit/">Spring-Boot-RateLimit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Spring-Boot-Redis-BitMap/">Spring-Boot-Redis-BitMap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Redis-Bigkey-Analysis/">Redis-Bigkey-Analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Redis-Memory-Usage/">Redis-Memory-Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Redis-Data-Persistence/">Redis-Data-Persistence</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Feed-Stream-System/">Feed-Stream-System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Redis-Use-Situation/">Redis-Use-Situation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Risk-Control/">Risk-Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Lua-In-Redis/">Lua-In-Redis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Lettuce-RedisCommandTimeoutException/">Lettuce-RedisCommandTimeoutException</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Lettuce-pipeline-1/">Lettuce-pipeline-1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Lettuce-pipeline-2/">Lettuce-pipeline-2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Login-Max-Times-Limit/">Login-Max-Times-Limit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Redis-Best-Practice/">Redis-Best-Practice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Redisson-Lock/">Redisson-Lock</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/middleware/redis/Redis-Data-Type/">Redis-Data-Type</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Redis-Memory-Fragment-Clear/">Redis-Memory-Fragment-Clear</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/Make-Redis-Message-Queue/">Make-Redis-Message-Queue</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/middleware/redis/RedisConfigBean/">RedisConfigBean</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/middleware/category/nginx/">Nginx</a><button aria-label="展开侧边栏分类 &#x27;Nginx&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/middleware/category/netty/">Netty</a><button aria-label="展开侧边栏分类 &#x27;Netty&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/middleware/category/mqtt/">MQTT</a><button aria-label="展开侧边栏分类 &#x27;MQTT&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/middleware/category/influxdb/">InfluxDB</a><button aria-label="展开侧边栏分类 &#x27;InfluxDB&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/middleware/category/kafka/">Kafka</a><button aria-label="展开侧边栏分类 &#x27;Kafka&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/middleware/category/rabbitmq/">RabbitMQ</a><button aria-label="展开侧边栏分类 &#x27;RabbitMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/middleware/category/rocketmq/">RocketMQ</a><button aria-label="展开侧边栏分类 &#x27;RocketMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/middleware/category/workflow/">Workflow</a><button aria-label="展开侧边栏分类 &#x27;Workflow&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/middleware/category/plusar/">Plusar</a><button aria-label="展开侧边栏分类 &#x27;Plusar&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/middleware/category/shardingsphere/">ShardingSphere</a><button aria-label="展开侧边栏分类 &#x27;ShardingSphere&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/middleware/category/redis/"><span itemprop="name">Redis</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Redis-Data-Type</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Redis-Data-Type</h1></header><ul>
<li><a href="https://mp.weixin.qq.com/s/tjf3nBq0GsTh564NTVUq3g" target="_blank" rel="noopener noreferrer">Redis 八种常用数据类型常 用命令和应用场景</a></li>
</ul>
<p>夯实基础，通过这篇文章带着大家简单回顾一下 Redis 中的 8 种常用数据类型：</p>
<ul>
<li>5 种基础数据类型：String（字符串）、List（列表）、Set（集合）、Hash（散列）、Zset（有序集合）。</li>
<li>3 种特殊数据类型：HyperLogLog（基数统计）、Bitmap （位图）、Geospatial (地理位置)。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="redis-5-种基本数据类型">Redis 5 种基本数据类型<a href="#redis-5-种基本数据类型" class="hash-link" aria-label="Redis 5 种基本数据类型的直接链接" title="Redis 5 种基本数据类型的直接链接">​</a></h2>
<p>Redis 共有 5 种基本数据类型：String（字符串）、List（列表）、Set（集合）、Hash（散列）、Zset（有序集合）。</p>
<p>这 5 种数据类型是直接提供给用户使用的，是数据的保存形式，其底层实现主要依赖这 8 种数据结构：简单动态字符串（SDS）、LinkedList（双向链表）、Dict（哈希表/字典）、SkipList（跳跃表）、Intset（整数集合）、ZipList（压缩列表）、QuickList（快速列表）。</p>
<p>Redis 5 种基本数据类型对应的底层数据结构实现如下表所示：</p>
<table><thead><tr><th>String</th><th>List</th><th>Hash</th><th>Set</th><th>Zset</th></tr></thead><tbody><tr><td>SDS</td><td>LinkedList/ZipList/QuickList</td><td>Dict、ZipList</td><td>Dict、Intset</td><td>ZipList、SkipList</td></tr></tbody></table>
<p>Redis 3.2 之前，List 底层实现是 LinkedList 或者 ZipList。Redis 3.2 之后，引入了 LinkedList 和 ZipList 的结合 QuickList，List 的底层实现变为 QuickList。从 Redis 7.0 开始， ZipList 被 ListPack 取代。</p>
<p>你可以在 Redis 官网上找到 Redis 数据类型/结构非常详细的介绍：</p>
<ul>
<li>Redis Data Structures[1]</li>
<li>Redis Data types tutorial[2]</li>
</ul>
<p>未来随着 Redis 新版本的发布，可能会有新的数据结构出 现，通过查阅 Redis 官网对应的介绍，你总能获取到最靠谱的信息。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/17-1-537f3a98b508c484bd691b7e77176187.png" width="450" height="374" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="string字符串">String（字符串）<a href="#string字符串" class="hash-link" aria-label="String（字符串）的直接链接" title="String（字符串）的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="介绍">介绍<a href="#介绍" class="hash-link" aria-label="介绍的直接链接" title="介绍的直接链接">​</a></h3>
<p>String 是 Redis 中最简单同时也是最常用的一个数据类型。</p>
<p>String 是一种二进制安全的数据类型，可以用来存储任何类型的数据比如字符串、整数、浮点数、图片（图片的 base64 编码或者解码或者图片的路径）、序列化后的对象。</p>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/png;base64,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" width="450" height="279" class="img_ev3q"></p>
<p>虽然 Redis 是用 C 语言写的，但是 Redis 并没有使用 C 的字符串表示，而是自己构建了一种 简单动态字符串（Simple Dynamic String，SDS）。相比于 C 的原生字符串，Redis 的 SDS 不光可以保存文本数据还可以保存二进制数据，并且获取字符串长度复杂度为 O(1)（C 字符串为 O(N)）,除此之外，Redis 的 SDS API 是安全的，不会造成缓冲区溢出。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用命令">常用命令<a href="#常用命令" class="hash-link" aria-label="常用命令的直接链接" title="常用命令的直接链接">​</a></h3>
<table><thead><tr><th>命令</th><th>介绍</th></tr></thead><tbody><tr><td>SET key value</td><td>设置指定 key 的值</td></tr><tr><td>SETNX key value</td><td>只有在 key 不存在时设置 key 的值</td></tr><tr><td>GET key</td><td>获取指定 key 的值</td></tr><tr><td>MSET key1 value1 key2 value2 ……</td><td>设置一个或多个指定 key 的值</td></tr><tr><td>MGET key1 key2 ...</td><td>获取一个或多个指定 key 的值</td></tr><tr><td>STRLEN key</td><td>返回 key 所储存的字符串值的长度</td></tr><tr><td>INCR key</td><td>将 key 中储存的数字值增一</td></tr><tr><td>DECR key</td><td>将 key 中储存的数字值减一</td></tr><tr><td>EXISTS key</td><td>判断指定 key 是否存在</td></tr><tr><td>DEL key（通用）</td><td>删除指定的 key</td></tr><tr><td>EXPIRE key seconds（通用）</td><td>给指定 key 设置过期时间</td></tr></tbody></table>
<p>更多 Redis String 命令以及详细使用指南，请查看 Redis 官网对应的介绍：<a href="https://redis.io/commands/?group=string" target="_blank" rel="noopener noreferrer">https://redis.io/commands/?group=string</a> 。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="基本操作">基本操作：<a href="#基本操作" class="hash-link" aria-label="基本操作：的直接链接" title="基本操作：的直 接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SET key value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; GET key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;value&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; EXISTS key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; STRLEN key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; DEL key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; GET key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(nil)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="批量设置">批量设置：<a href="#批量设置" class="hash-link" aria-label="批量设置：的直接链接" title="批量设置：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; MSET key1 value1 key2 value2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; MGET key1 key2 # 批量获取多个 key 对应的 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;value1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2) &quot;value2&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="计数器字符串的内容为整数的时候可以使用">计数器（字符串的内容为整数的时候可以使用）：<a href="#计数器字符串的内容为整数的时候可以使用" class="hash-link" aria-label="计数器（字符串的内容为整数的时候可以使用）：的直接链接" title="计数器（字符串的内容为整数的时候可以使用）：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SET number 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; INCR number # 将 key 中储存的数字值增一</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; GET number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; DECR number # 将 key 中储存的数字值减一</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; GET number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;1&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="设置过期时间默认为永不过期">设置过期时间（默认为永不过期）：<a href="#设置过期时间默认为永不过期" class="hash-link" aria-label="设置过期时间（默认为永不过期）：的直接链接" title="设置过期时间（默认为永不过期）：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; EXPIRE key 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SETEX key 60 value # 设置值并设置过期时间</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; TTL key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 56</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="应用场景">应用场景<a href="#应用场景" class="hash-link" aria-label="应用场景的直接链接" title="应用场景的直接链接">​</a></h3>
<ol>
<li>
<p>需要存储常规数据的场景</p>
<ul>
<li>举例：缓存 Session、Token、图片地址、序列化后的对象(相比较于 Hash 存储更节省内存)。</li>
<li>相关命令：SET、GET。</li>
</ul>
</li>
<li>
<p>需要计数的场景</p>
<ul>
<li>举例：用户单位时间的请求数（简单限流可以用到）、页面单位时间的访问数。</li>
<li>相关命令：SET、GET、 INCR、DECR 。</li>
</ul>
</li>
<li>
<p>分布式锁</p>
<ul>
<li>利用 SETNX key value 命令可以实现一个最简易的分布式锁（存在一些缺陷，通常不建议这样实现分布式锁）。</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="list列表">List（列表）<a href="#list列表" class="hash-link" aria-label="List（列表）的直接链接" title="List（列表）的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="介绍-1">介绍<a href="#介绍-1" class="hash-link" aria-label="介绍的直接链接" title="介绍的直接链接">​</a></h3>
<p>Redis 中的 List 其实就是链表数据结构的实现。我在 线性数据结构 :数组、链表、栈、队列[3] 这篇文章中详细介绍了链表这种数据结构，我这里就不多做介绍了。</p>
<p>许多高级编程语言都内置了链表的实现比如 Java 中的 LinkedList，但是 C 语言并没有实现链表，所以 Redis 实现了自己的链表数据结构。Redis 的 List 的实现为一个 双向链表，即可以支持反向查找和遍历，更方便操作，不过带来了部分额外的内存开销。</p>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/png;base64,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" width="450" height="290" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用命令-1">常用命令<a href="#常用命令-1" class="hash-link" aria-label="常用命令的直接链接" title="常用命令的直接链接">​</a></h3>
<table><thead><tr><th>命令</th><th>介绍</th></tr></thead><tbody><tr><td>RPUSH key value1 value2 ...</td><td>在指定列表的尾部（右边）添加一个或多个元素</td></tr><tr><td>LPUSH key value1 value2 ...</td><td>在指定列表的头部（左边）添加一个或多个元素</td></tr><tr><td>LSET key index value</td><td>将指定列表索引 index 位置的值设置为 value</td></tr><tr><td>LPOP key</td><td>移除并获取指定列表的第一个元素(最左边)</td></tr><tr><td>RPOP key</td><td>移除并获取指定列表的最后一个元素(最右边)</td></tr><tr><td>LLEN key</td><td>获取列表元素数量</td></tr><tr><td>LRANGE key start end</td><td>获取列表 start 和 end 之间 的元素</td></tr></tbody></table>
<p>更多 Redis List 命令以及详细使用指南，请查看 Redis 官网对应的介绍：<a href="https://redis.io/commands/?group=list" target="_blank" rel="noopener noreferrer">https://redis.io/commands/?group=list</a> 。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="通过-rpushlpop-或者-lpushrpop实现队列">通过 RPUSH/LPOP 或者 LPUSH/RPOP实现队列：<a href="#通过-rpushlpop-或者-lpushrpop实现队列" class="hash-link" aria-label="通过 RPUSH/LPOP 或者 LPUSH/RPOP实现队列：的直接链接" title="通过 RPUSH/LPOP 或者 LPUSH/RPOP实现队列：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; RPUSH myList value1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; RPUSH myList value2 value3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; LPOP myList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;value1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; LRANGE myList 0 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;value2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2) &quot;value3&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; LRANGE myList 0 -1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;value2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2) &quot;value3&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="通过-rpushrpop或者lpushlpop-实现栈">通过 RPUSH/RPOP或者LPUSH/LPOP 实现栈：<a href="#通过-rpushrpop或者lpushlpop-实现栈" class="hash-link" aria-label="通过 RPUSH/RPOP或者LPUSH/LPOP 实现栈：的直接链接" title="通过 RPUSH/RPOP或者LPUSH/LPOP 实现栈：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; RPUSH myList2 value1 value2 value3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; RPOP myList2 # 将 list的最右边的元素取出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;value3&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我专门画了一个图方便大家理解 RPUSH , LPOP , lpush , RPOP 命令：</p>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/png;base64,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" width="696" height="111" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="通过-lrange-查看对应下标范围的列表元素">通过 LRANGE 查看对应下标范围的列表元素：<a href="#通过-lrange-查看对应下标范围的列表元素" class="hash-link" aria-label="通过 LRANGE 查看对应下标范围的列表元素：的直接链接" title="通过 LRANGE 查看对应下标范围的列表元素：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; RPUSH myList value1 value2 value3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; LRANGE myList 0 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;value1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2) &quot;value2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; LRANGE myList 0 -1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;value1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2) &quot;value2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3) &quot;value3&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>通过 LRANGE 命令，你可以基于 List 实现分页查询，性能非常高！</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="通过-llen-查看链表长度">通过 LLEN 查看链表长度：<a href="#通过-llen-查看链表长度" class="hash-link" aria-label="通过 LLEN 查看链表长度：的直接链接" title="通过 LLEN 查看链表长度：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; LLEN myList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="应用场景-1">应用场景<a href="#应用场景-1" class="hash-link" aria-label="应用场景的直接链接" title="应用场景的直接链接">​</a></h3>
<ol>
<li>
<p>信息流展示</p>
<ul>
<li>举例：最新文章、最新动态。</li>
<li>相关命令：LPUSH、LRANGE。</li>
</ul>
</li>
<li>
<p>消息队列</p>
</li>
</ol>
<p>List 可以用来做消息队列，只是功能过于简单且存在很多缺陷，不建议这样做。</p>
<p>相对来说，Redis 5.0 新增加的一个数据结构 Stream 更适合做消息队列一些，只是功能依然非常简陋。和专业的消息队列相比，还是有很多欠缺的地方比如消息丢失和堆积问题不好解决。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hash哈希">Hash（哈希）<a href="#hash哈希" class="hash-link" aria-label="Hash（哈希）的直接链接" title="Hash（哈希）的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="介绍-2">介绍<a href="#介绍-2" class="hash-link" aria-label="介绍的直接链接" title="介绍的直接链接">​</a></h3>
<p>Redis 中的 Hash 是一个 String 类型的 field-value（键值对） 的映射表，特别适合用于存储对象，后续操作的时候，你可以直接修改这个对象中的某些字段的值。</p>
<p>Hash 类似于 JDK1.8 前的 HashMap，内部实现也差不多(数组 + 链表)。不过，Redis 的 Hash 做了更多优化。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/17-5-fe3e1333934d3a1752c4278c0375848c.png" width="450" height="328" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用命令-2">常用命令<a href="#常用命令-2" class="hash-link" aria-label="常用命令的直接链接" title="常用命令的直接链接">​</a></h3>
<table><thead><tr><th>命令</th><th>介绍</th></tr></thead><tbody><tr><td>HSET key field value</td><td>设置指定哈希表中指定字段的值</td></tr><tr><td>HSETNX key field value</td><td>只有指定字段不存在时设置指定字段的值</td></tr><tr><td>HMSET key field1 value1 field2 value2 ...</td><td>同时将一个或多个 field-value (域-值)对设置到指定哈希表中</td></tr><tr><td>HGET key field</td><td>获取指定哈希表中指定字段的值</td></tr><tr><td>HMGET key field1 field2 ...</td><td>获取指定哈希表中一个或者多个指定字段的值</td></tr><tr><td>HGETALL key</td><td>获取指定哈希表中所有的键值对</td></tr><tr><td>HEXISTS key field</td><td>查看指定哈希表中指定的字段是否存在</td></tr><tr><td>HDEL key field1 field2 ...</td><td>删除一个或多个哈希表字段</td></tr><tr><td>HLEN key</td><td>获取指定哈希表中字段的数量</td></tr><tr><td>HINCRBY key field increment</td><td>对指定哈希中的指定字段做运算操作（正数为加，负数为减）</td></tr></tbody></table>
<p>更多 Redis Hash 命令以及详细使用指南，请查看 Redis 官网对应的介绍：<a href="https://redis.io/commands/?group=hash" target="_blank" rel="noopener noreferrer">https://redis.io/commands/?group=hash</a> 。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="模拟对象数据存储">模拟对象数据存储：<a href="#模拟对象数据存储" class="hash-link" aria-label="模拟对象数据存储：的直接链接" title="模拟对象数据存储：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; HMSET userInfoKey name &quot;guide&quot; description &quot;dev&quot; age 24</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; HEXISTS userInfoKey name # 查看 key 对应的 value中指定的 字段是否存在。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; HGET userInfoKey name # 获取存储在哈希表中指定字段的值。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;guide&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; HGET userInfoKey age</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;24&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; HGETALL userInfoKey # 获取在哈希表中指定 key 的所有字段和值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2) &quot;guide&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3) &quot;description&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4) &quot;dev&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5) &quot;age&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6) &quot;24&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; HSET userInfoKey name &quot;GuideGeGe&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; HGET userInfoKey name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;GuideGeGe&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; HINCRBY userInfoKey age 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 26</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="应用场景-2">应用场景<a href="#应用场景-2" class="hash-link" aria-label="应用场景的直接链接" title="应用场景的直接链接">​</a></h3>
<ol>
<li>
<p>对象数据存储场景</p>
<ul>
<li>举例：用户信息、商品信息、文章信息、购物车信息。</li>
<li>相关命令：HSET （设置单个字段的值）、HMSET（设置多个字段的值）、HGET（获取单个字段的值）、HMGET（获取多个字段的值）。</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="set集合">Set（集合）<a href="#set集合" class="hash-link" aria-label="Set（集合）的直接链接" title="Set（集合）的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="介绍-3">介绍<a href="#介绍-3" class="hash-link" aria-label="介绍的直接链接" title="介绍的直接链接">​</a></h3>
<p>Redis 中的 Set 类型是一种无序集合，集合中的元素没有先后顺序但都唯一，有点类似于 Java 中的 HashSet 。当你需要存储一个列表数据，又不希望出现重复数据时，Set 是一个很好的选择，并且 Set 提供了判断某个元素是否在一个 Set 集合内的重要接口，这个也是 List 所不能提供的。</p>
<p>你可以基于 Set 轻易实现交集、并集、差集的操作，比如你可以将一个用户所有的关注人存在一个集合中，将其所有粉丝存在一个集合。这样的话，Set 可以非常方便的实现如共同关注、共同粉丝、共同喜好等功能。这个过程也就是求交集的过程。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/17-6-175c0913c4ecf79e1d55f654c54e3754.png" width="450" height="285" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用命令-3">常用命令<a href="#常用命令-3" class="hash-link" aria-label="常用命令的直接链接" title="常用命令的直接链接">​</a></h3>
<table><thead><tr><th>命令</th><th>介绍</th></tr></thead><tbody><tr><td>SADD key member1 member2 ...</td><td>向指定集合添加一个或多个元素</td></tr><tr><td>SMEMBERS key</td><td>获取指定集合中的所有元素</td></tr><tr><td>SCARD key</td><td>获取指定集合的元素数量</td></tr><tr><td>SISMEMBER key member</td><td>判断指定元素是否在指定集合中</td></tr><tr><td>SINTER key1 key2 ...</td><td>获取给定所有集合的交集</td></tr><tr><td>SINTERSTORE destination key1 key2 ...</td><td>将给定所有集合的交集存储在 destination 中</td></tr><tr><td>SUNION key1 key2 ...</td><td>获取给定所有集合的并集</td></tr><tr><td>SUNIONSTORE destination key1 key2 ...</td><td>将给定所有集合的并集存储在 destination 中</td></tr><tr><td>SDIFF key1 key2 ...</td><td>获取给定所有集合的差集</td></tr><tr><td>SDIFFSTORE destination key1 key2 ...</td><td>将给定所有集合的差集存储在 destination 中</td></tr><tr><td>SPOP key count</td><td>随机移除并获取指定集合中一个或多个元素</td></tr><tr><td>SRANDMEMBER key count</td><td>随机获取指定集合中指定数量的元素</td></tr></tbody></table>
<p>更多 Redis Set 命令以及详细使用指南，请查看 Redis 官网对应的介绍：<a href="https://redis.io/commands/?group=set" target="_blank" rel="noopener noreferrer">https://redis.io/commands/?group=set</a> 。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="基本操作-1">基本操作：<a href="#基本操作-1" class="hash-link" aria-label="基本操作：的直接链接" title="基本操作：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SADD mySet value1 value2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SADD mySet value1 # 不允许有重复元素，因此添加失败</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SMEMBERS mySet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;value1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2) &quot;value2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SCARD mySet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SISMEMBER mySet value1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SADD mySet2 value2 value3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mySet : value1、value2 。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mySet2：value2、value3 。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="求交集">求交集：<a href="#求交集" class="hash-link" aria-label="求交集：的直接链接" title="求交集：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SINTERSTORE mySet3 mySet mySet2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SMEMBERS mySet3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;value2&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="求并集">求并集：<a href="#求并集" class="hash-link" aria-label="求并集：的直接链接" title="求并集：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SUNION mySet mySet2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;value3&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2) &quot;value2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3) &quot;value1&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="求差集">求差集：<a href="#求差集" class="hash-link" aria-label="求差集：的直接链接" title="求差集：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SDIFF mySet mySet2 # 差集是由所有属于 mySet 但不属于 A 的元素组成的集合</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;value1&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="应用场景-3">应用场景<a href="#应用场景-3" class="hash-link" aria-label="应用场景的直接链接" title="应用场景的直接链接">​</a></h3>
<ol>
<li>需要存放的数据不能重复的场景</li>
</ol>
<ul>
<li>举例：网站 UV 统计（数据量巨大的场景还是 HyperLogLog更适合一些）、文章点赞、动态点赞等场景。</li>
<li>相关命令：SCARD（获取集合数量） 。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/17-7-5ebf0399793861c070daf597f3bc8276.png" width="450" height="229" class="img_ev3q"></p>
<ol start="2">
<li>需要获取多个数据源交集、并 集和差集的场景</li>
</ol>
<ul>
<li>举例：共同好友(交集)、共同粉丝(交集)、共同关注(交集)、好友推荐（差集）、音乐推荐（差集）、订阅号推荐（差集+交集） 等场景。</li>
<li>相关命令：SINTER（交集）、SINTERSTORE （交集）、SUNION （并集）、SUNIONSTORE（并集）、SDIFF（差集）、SDIFFSTORE （差集）。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/17-8-817a218c1792c5f8ed0cf200659c59a2.png" width="389" height="445" class="img_ev3q"></p>
<ol start="3">
<li>需要随机获取数据源中的元素的场景</li>
</ol>
<ul>
<li>举例：抽奖系统、随机点名等场景。</li>
<li>相关命令：SPOP（随机获取集合中的元素并移除，适合不允许重复中奖的场景）、SRANDMEMBER（随机获取集合中的元素，适合允许重复中奖的场景）。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sorted-set有序集合">Sorted Set（有序集合）<a href="#sorted-set有序集合" class="hash-link" aria-label="Sorted Set（有序集合）的直接链接" title="Sorted Set（有序集合）的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="介绍-4">介绍<a href="#介绍-4" class="hash-link" aria-label="介绍的直接链接" title="介绍的直接链接">​</a></h3>
<p>Sorted Set 类似于 Set，但和 Set 相比，Sorted Set 增加了一个权重参数 score，使得集合中的元素能够按 score 进行有序排列，还可以通过 score 的范围来获取元素的列表。有点像是 Java 中 HashMap 和 TreeSet 的结合体。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/17-9-9fb7b44d1e3b7347a231073eedfb9931.png" width="450" height="309" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用命令-4">常用命令<a href="#常用命令-4" class="hash-link" aria-label="常用命令的直接链接" title="常用命令的直接链接">​</a></h3>
<table><thead><tr><th>命令</th><th>介绍</th></tr></thead><tbody><tr><td>ZADD key score1 member1 score2 member2 ...</td><td>向指定有序集合添加一个或多个元素</td></tr><tr><td>ZCARD KEY</td><td>获取指定有序集合的元素数量</td></tr><tr><td>ZSCORE key member</td><td>获取指定有序集合中指定元素的 score 值</td></tr><tr><td>ZINTERSTORE destination numkeys key1 key2 ...</td><td>将给定所有有序集合的交集存储在 destination 中，对相同元素对应的 score 值进行 SUM 聚合操作，numkeys 为集合数量</td></tr><tr><td>ZUNIONSTORE destination numkeys key1 key2 ...</td><td>求并集，其它和 ZINTERSTORE 类似</td></tr><tr><td>ZDIFFSTORE destination numkeys key1 key2 ...</td><td>求差集，其它和 ZINTERSTORE 类似</td></tr><tr><td>ZRANGE key start end</td><td>获取指定有序集合 start 和 end 之间的元素（score 从低到高）</td></tr><tr><td>ZREVRANGE key start end</td><td>获取指定有序集合 start 和 end 之间的元素（score 从高到底）</td></tr><tr><td>ZREVRANK key member</td><td>获取指定有序集合中指定元素的排名(score 从大到小排序)</td></tr></tbody></table>
<p>更多 Redis Sorted Set 命令以及详细使用指南，请查看 Redis 官网对应的介绍：<a href="https://redis.io/commands/?group=sorted-set" target="_blank" rel="noopener noreferrer">https://redis.io/commands/?group=sorted-set</a> 。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="基本操作-2">基本操作：<a href="#基本操作-2" class="hash-link" aria-label="基本操作：的直接链接" title="基本操作：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZADD myZset 2.0 value1 1.0 value2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZCARD myZset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZSCORE myZset value1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZRANGE myZset 0 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;value2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2) &quot;value1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZREVRANGE myZset 0 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;value1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2) &quot;value2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZADD myZset2 4.0 value2 3.0 value3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">myZset : value1(2.0)、value2(1.0) 。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">myZset2：value2 （4.0）、value3(3.0) 。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="获取指定元素的排名">获取指定元素的排名：<a href="#获取指定元素的排名" class="hash-link" aria-label="获取指定元素的排名：的直接链接" title="获取指定元素的排名：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZREVRANK myZset value1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZREVRANK myZset value2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="求交集-1">求交集：<a href="#求交集-1" class="hash-link" aria-label="求交集：的直接链接" title="求交集：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZINTERSTORE myZset3 2 myZset myZset2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZRANGE myZset3 0 1 WITHSCORES</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">value2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="求并集-1">求并集：<a href="#求并集-1" class="hash-link" aria-label="求并集：的直接链接" title="求并集：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZUNIONSTORE myZset4 2 myZset myZset2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZRANGE myZset4 0 2 WITHSCORES</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">value1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">value3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">value2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="求差集-1">求差集：<a href="#求差集-1" class="hash-link" aria-label="求差集：的直接链接" title="求差集：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZDIFF 2 myZset myZset2 WITHSCORES</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">value1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="应用场景-4">应用场景<a href="#应用场景-4" class="hash-link" aria-label="应用场景的直接链接" title="应用场景的直接链接">​</a></h3>
<ol>
<li>需要随机获取数据源中的元素根据某个权重进行排序的场景</li>
</ol>
<ul>
<li>举例：各种排行榜比如直播间送礼物的排行榜、朋友圈的微信步数排行榜、王者荣耀中的段位排行榜、话题热度排行榜等等。</li>
<li>相关命令：ZRANGE (从小到大排序)、 ZREVRANGE （从大到小排序）、ZREVRANK (指定元素排名)。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/17-10-520e21e9f4af4b81961d6a1a2a9d1389.png" width="483" height="620" class="img_ev3q"></p>
<p><a href="https://mp.weixin.qq.com/s/hBfIGnU70Rke41P0GcMZCw" target="_blank" rel="noopener noreferrer">《Java 面试指 北》</a> 的「技术面试题篇」就有一篇文章详细介绍如何使用 Sorted Set 来设计制作一个排行榜。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/17-11-b72d72f487ea438e4686f905d0e48495.png" width="804" height="857" class="img_ev3q"></p>
<ol start="2">
<li>需要存储的数据有优先级或者重要程度的场景 比如优先级任务队列。</li>
</ol>
<ul>
<li>举例：优先级任务队列。</li>
<li>相关命令：ZRANGE (从小到大排序)、 ZREVRANGE （从大到小排序）、ZREVRANK (指定元素排名)。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="总结">总结<a href="#总结" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h2>
<table><thead><tr><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td>String</td><td>一种二进制安全的数据类型，可以用来存储任何类型的数据比如字符串、整数、浮点数、图片（图片的 base64 编码或者解码或者图片的路径）、序列化后的对象。</td></tr><tr><td>List</td><td>Redis 的 List 的实现为一个双向链表，即可以支持反向查找和遍历，更方便操作，不过带来了部分额外的内存开销。</td></tr><tr><td>Hash</td><td>一个 String 类型的 field-value（键值对） 的映射表，特别适合用于存储对象，后续操作的时候，你可以直接修改这个对象中的某些字段的值。</td></tr><tr><td>Set</td><td>无序集合，集合中的元素没有先后顺序但都唯一，有点类似于 Java 中的 HashSet 。</td></tr><tr><td>Zset</td><td>和 Set 相比，Sorted Set 增加了一个权重参数 score，使得集合中的元素能够按 score 进行有序排列，还可以通过 score 的范围来获取元素的列表。有点像是 Java 中 HashMap 和 TreeSet 的结合体。</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="redis-3-种特殊的数据类型">Redis 3 种特殊的数据类型<a href="#redis-3-种 特殊的数据类型" class="hash-link" aria-label="Redis 3 种特殊的数据类型的直接链接" title="Redis 3 种特殊的数据类型的直接链接">​</a></h2>
<p>除了 5 种基本的数据类型之外，Redis 还支持 3 种特殊的数据类型：Bitmap、HyperLogLog、GEO。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bitmap-位图">Bitmap （位图）<a href="#bitmap-位图" class="hash-link" aria-label="Bitmap （位图）的直接链接" title="Bitmap （位图）的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="介绍-5">介绍<a href="#介绍-5" class="hash-link" aria-label="介绍的直接链接" title="介绍的直接链接">​</a></h3>
<p>根据官网介绍：</p>
<blockquote>
<p>Bitmaps are not an actual data type, but a set of bit-oriented operations defined on the String type which is treated like a bit vector. Since strings are binary safe blobs and their maximum length is 512 MB, they are suitable to set up to 2^32 different bits.</p>
</blockquote>
<p>Bitmap 不是 Redis 中的实际数据类型，而是在 String 类型上定义的一组面向位的操作，将其视为位向量。由于字符串是二进制安全的块，且最大长度为 512 MB，它们适合用于设置最多 2^32 个不同的位。</p>
<p>Bitmap 存储的是连续的二进制数字（0 和 1），通过 Bitmap, 只需要一个 bit 位来表示某个元素对应的值或者状态，key 就是对应元素本身 。我们知道 8 个 bit 可以组成一个 byte，所以 Bitmap 本身会极大的节省储存空间。</p>
<p>你可以将 Bitmap 看作是一个存储二进制数字（0 和 1）的数组，数组中每个元素的下标叫做 offset（偏移量）。</p>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/png;base64,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" width="450" height="114" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用命令-5">常用命令<a href="#常用命令-5" class="hash-link" aria-label="常用命令的直接链接" title="常用命令的直接链接">​</a></h3>
<p>| 命令	| 介绍|
| SETBIT key offset value	| 设置指定 offset 位置的值|
| GETBIT key offset	| 获取指定 offset 位置的值|
| BITCOUNT key start end	| 获取 start 和 end 之前值为 1 的元素个数|
| BITOP operation destkey key1 key2 ...	| 对一个或多个 Bitmap 进行运算，可用运算符有 AND, OR, XOR 以及 NOT|</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bitmap-基本操作演示">Bitmap 基本操作演示：<a href="#bitmap-基本操作演示" class="hash-link" aria-label="Bitmap 基本操作演示：的直接链接" title="Bitmap 基本操作演示：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># SETBIT 会返回之前位的值（默认是 0）这里会生成 7 个位</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SETBIT mykey 7 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SETBIT mykey 7 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; GETBIT mykey 7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SETBIT mykey 6 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SETBIT mykey 8 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 通过 bitcount 统计被被设置为 1 的位的数量。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; BITCOUNT mykey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="应用场景-5">应用场景<a href="#应用场景-5" class="hash-link" aria-label="应用场景的直接链接" title="应用场景的直接链接">​</a></h3>
<ol>
<li>需要保存状态信息（0/1 即可表示）的场景</li>
</ol>
<ul>
<li>举例：用户签到情况、活跃用户情况、用户行为统计（比如是否点赞过某个视频）。</li>
<li>相关命令：SETBIT、GETBIT、BITCOUNT、BITOP。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hyperloglog基数统计">HyperLogLog（基数统计）<a href="#hyperloglog基数统计" class="hash-link" aria-label="HyperLogLog（基数统计）的直接链接" title="HyperLogLog（基数统计）的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="介绍-6">介绍<a href="#介绍-6" class="hash-link" aria-label="介绍的直接链接" title="介绍的直接链接">​</a></h3>
<p>HyperLogLog 是一种有名的基数计数概率算法 ，基于 LogLog Counting(LLC)优化改进得来，并不是 Redis 特有的，Redis 只是实现了这个算法并提供了一些开箱即用的 API。</p>
<p>Redis 提供的 HyperLogLog 占用空间非常非常小，只需要 12k 的空间就能存储接近2^64个不同元素。这是真的厉害，这就是数学的魅力么！并且，Redis 对 HyperLogLog 的存储结构做了优化，采用两种方式计数：</p>
<ul>
<li>稀疏矩阵：计数较少的时候，占用空间很小。</li>
<li>稠密矩阵：计数达到某个阈值的时候，占用 12k 的空间。</li>
</ul>
<p>Redis 官方文档中有对应的详细说明：</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/17-13-1c2044ea6fa8e3c45ecfcb948ca79ff0.png" width="850" height="374" class="img_ev3q"></p>
<p>基数计数概率算法为了节省内存并不会直接存储元数据，而是通过一定的概率统计方法预估基数值（集合中包含元素的个数）。因此， HyperLogLog 的计数结果并不是一个精确值，存在一定的误差（标准误差为 0.81% ）。</p>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcIAAAByCAMAAAD3eyG2AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAATlBMVEX////z8/PHx8ezs7O5ubnv7+9vb29QUFBISEja2tp1dXV6enqRkZGHh4daWlrf39/T09PNzc1jY2Pm5ua9vr2ioqKWlpanp6esrKybm5tYqTGZAAAAAWJLR0QAiAUdSAAAD8VJREFUeNrtXYt2qyoQBZRYEyMYROT/f/SuAXwrYEp72lv3OStJE7MdZjPDU4PQhQsXLly4cOHChQsXLqQCvv79in8H4l349SBZfuFXIMvproL4VhQfF34DiqLcl/BePKrnhV+AumZHEu5re+Gn4XYsIUfNv07zF0IgiHolvN/+dZK44MfjJbBXwgdPHfSkqprUnO2zSp7zs6oSqTll1aWmRPgekjC5u9VHoVJzVh8FSc35/ChSV196KwqagGdJGiNhwkE+Rqgvij41Z1fUJPVkxLOoy8SU9F7UNLWdURKmhZUwLayECYGdhGk5sZUwLS4JD5FcQvTDJMTD/5DVq4OwT0I8e/RzruCR0BkQQ7o8xidhpKFrUq+EsZxrvCchPvwjAkbC7ZfOci4OiYrCk4YeSRhrKN6+iovCk7Xt/URK6fS4NWGqUnhduzxRaNnwXilX5Vod4pMwbKizcHWELwpnnHjLOT9wKfixhBhhe+yRofM/Fn+/K6HoOzU87pRwfMV7rbPl8OpYwlZrhhDRHd+pi3Nn4EwvPz6QECNUyi5DiCl4XCa1paEs050q54ccS4jzTgqEct3tOW7ixK3s9HwNwReFXHbEmJvvxOGyepVyPto5LaFjlxJcqszjJmXwUSJeZaxU3ULDrYTu+40ZnvOqWfK5vxQfX1JZhSQcvkh1RjHCsl+Gg2NqspmhJZcLQ3ckdBykYximKMq9nIrlSKI0F6TKZofsSIjtg+hyjBHtMryXR0k28zLVi7mRcxLi4UFUUA/oNCWyiG4ih3e1sV8uJDuMwt4cnMntJ0Ctx3Oxrs+7qChEiJkZFnEwz9IO7sVVDuWBCPBJ6CDzydyNnXSsB6SiRu/p3J4o5B18UHZ0xjWVMZufq8/6eWHPSIgRoiWj9oQNpohV3ES4sG8iypg5ay5dQufWdU01t3spIUZIlOYoLDNKMe0VhYihzJWc2U9Zx5FrevoMkZCEg6FNxShFvCrBIswGQ0vmnOEMpZl5XtS1rYTOFCFzMFRmpvDUcSJWmhdlxVwg8ca66lhCU3jrM6IFpYhotjBUWENxn035uZX4bQmhRmkNGZtorWVPpJZSIaG0lMRYIaXmiGZaw7Np3KyZ1Tx3r6JQqE53SiAhtZay6e2XgUsJ+FQrnUNgd3JwMCQxn4TYtKpaE/MsdU7gMUNMaglvolZLLRlwaylnMmHdeiQsZae7ngKNlqqBL2uGcq0k6F9KaciJ7qScB/M8q2yiEGed7sBXxmckB4NyxK0jocmXWglzRjXk57ITSL0tIYEczEFD3jUUopBQilQPtQWhBhp3SBs0k9Q2Pc582s1PuZSQ6h4j2mtqGiyKcA8hXAIXp4iCfFTmCNszTnXJG4UtZHhjbWPij1ecUpP/wNBcC5CRImrOOIFXnrZQQJYVUsIDBC98WaCmEwhzaMoIMg+YmLgfSsezfsa5kTDTDL5RItR2zEUhplAVGAP3UetDOKOjMb58X0LbspGOItGVpi2E6Bqqrqnghj0fKl6vghJaMURFEJJTW0i0LSnRpuJp7M4YJ6E7XyYxKk0ONy0idZ0Aapl0M5xx7J4uzFxLmBtTGBRZmhKrbBZjmSkSUcid0VGWXZd5eqTMpielrFcR4lBu0XFXaYxsUJunuIaAeV9Clw9ZxxAzbrBvtFUGXTPRZaRtW5B5zB0RUehUBmfOJBSdJmB/L9u2JX0n3BmnPqFPwrIyBWoq4QLLdmqyKgdDy8rs6poqzeAKveyfrCR0x+oW4ZmEvJIcfK9km+et1BDxg0i2XvR6NspYSei6OiCflbAxB/dVCwVourxt27xqEB4ltD3Ft9tCV2egkswlRFxWGt4iJeccWvxRwoi2UNpVC6hcMwmRyDsYySnFAQyZM876vF4JXULkKwkx0ZUsYdRiDKXDGS0Vlase5lJC7D4GZ84kRGXfQfqUveFkUxROFX/WIdxISPckxERC74B0g6GjhKLSfd/3WqrJo+eisBnq+EJC0yXBsxEGJFKM4nqkTu5VFJqCVQRl48wBmyVSHJCQWVOgUz+XEF5IOR9hzFSjul+N/VdRaDIYwpBQ5hIiRKHlVSPTJCExbp2noLWEjTWl1XghIRiqlRtn2PozjPcJZLpc9+3Uwp5qC5UafOwk7Ia6wCrqPl2oYMeFeJmhlhJaH5dQGdRqXKhyxG1KxIMsg4vJavF7KeEwHFVoLSHiGqPJnEnCMQYPZ2ecjyu2SKT27M1s9Dcl0l7aijR5dy2hldeYu5IQMia24mM0S6TOM28P7VmXlSwH9WxONVFIM05FD73Sri9ZA3M/pDK5z056cC71IrWsBhW9bljT9eOozEjY5IKaHm7WNayEgS3tstKZQkuWVbyc9x5XPVJe5azsTa/WScjA0JIK8DvMxDACnfSs442wCnakIYTME/5KQiwlZ8RMAWjjUGMuIZQSLRBWmjPet3AuUg7dEdnwrJp5f9MjJRVhXIF/7DxAA0KKrKQldA6bqmWMQLe012Uza1Ll++NC0UvZMzO6ZabgUMZG9irH7lPZ2CZ8GG4xpXW2bBzWszNE2mElykxhzYyJyFSvbDbUUppJVqKl6/oyqZRSi2Ksh/alktL05pk0cw9mUNXKXrXWKGkbE6HM4NOQw0iykzNT1+NCmg+G9pO5pVK98QjOYUhHLZezRcBobzG7tZmd4VKaYSXi5tRcUTO12lsK+NS4gUmp6DQ7lr07R3q4CEI3hxyvJeHjOdID0pg10u0Em58Trw3FDrODj+dIl+/hNfvxYtHhHGm8oTvHvr3YFLVCuffxYr0QR3whgnwl4afWMwcsJPQvKUVbvJTwE6SfWi88dPphfVm9sYpCvDloXJ7AvrBeYG+a27vItmf46q91FOJ92h3jV2VYeHQ1wYbWx+E1adAD196ZQ/yv9s6sagie/Z+/v3xe7lkZn/b3zsy+vlxK3z/rIqYw2tmEuCRcca3tRZuQwaOEO8kOTyXc4djEEZ5eUF9buCnUZtvP5oSREibfzd0XRZaAZgH9NVHIEtAscC/q5FfehiXMBEsKoYtCp+Z8FnVqO9mjqEliTn4rap7YTMaCEn4UqVHXySl/C2ednvNDPllAQsWblCC8KooqLWfDn0UtE3M2j6LOEnOSW1GTxGY25ePb28Lsa9rC5D3nL2oLU1P+kyubfs+gIvmVTf9qUJH4BiludiYpp5EwMecwqEhIaceFie28hvaH+F8N7dPikjAtLgkPcUl4iIMrmz6FS8JvlBBfUZgYPziRbpdfjhEr4RnOeAmjU8qPlnDnesgjnIhCypiIKvKJKKSC0SifvxGFId53JAzamjAKafV43CMcGSsh149bXb9uT3uFnrcosRIC5+t1u1ck7JxoCWF/3fPxfITnck5IiBF/PB4RnAklZDeYc42YOouTUDzrcVr4loeOjpAQT5wwO3wbNvgd4kQUNi8oe3guJ1pCuPLHmBkxP5RMQv4y/o6V0Oc7+IwYurpwj9UbGy82WHHqwOHxEra1KXtCCc1MMpgZYUECCe0u49o6JihhXI+UuAB83azHi4f/+BgJ8zVn5T8+RkJTdmWKnkxCw6kt5zdJiExk2TNGR6EfDCpE8epLQRl5GH9rb+BGSFga+17ZjFMlSaTdUHaerjvzdJwx959KI6EpxalEGi5BcR+sMrW88NoRISGoVjyGLeAynKbiJKTPsezJEql4DJzfFYXY1plbMgkJePs2bbiXhU2lxxUyLGFuOCf/QaYqnr46HpYQekh34KlvRSoJ4eq528j5LRJiV4oiM47/vITYBUyLxl1iyJTJp1FAQmwWWy3FsLvMcPoKFxOFphNX1KRPJqHrdRUvLr9LQsRtnWnRKQl9GZ5DON/n7+Q2ZI4RjMJmEcjYdPnquvDdHTRCQmLbbG7zRBoJc8N5K22P5lskvLtSREoY0SNVKyIM9/Gsa1/hgxLKIbCnkr/qun55OMMSinpoX1UyCYXtgFP0jRI2RVHcBYqVMJRIXR5dmdQFMqlfQpdH6+XNZ6qA2yOisC+K4onRKGGKHqkq3HDHSfgdPdLsZS+KTNQWIvoq6uK+vNeWyaTy+DuhKKSbsSW2mdRjSVBC2PDx6ge/p4nCGee3ReE0559KQhjArRs+Xvv7jyEJ+c5QngT6pFGDiuHuYgm7MwPn9yXS8bSpJDQ8ern4IUxkHn8nlEiHKJ5zMuD0zPqcWalIKqHDd0t4NgqP6j62Mz2bi0hvxWKkuEYoCuWObdRwHns0JpEOT6klxD9ZwnCP1Ay612sT4O7X8cpLSMLd7pDhPK4Wfy0KEybSwd2LQIUe5av0fedYQmx7n2an6RyBavGGhEmXfL+xRzoglYTO3Us8/FUyFIVmCnBdkntyCUP4E1GI/RIeVcl3JYTIxsff+VMSJozC3UT6qSjE+9UifSIN4UdLeDYKPRn+C7szyyu5r+7MGml6pHh3UIE+NajAXzOomOH/IGH6of0iTj83tEfD0H7B+QVD+6tHalEOk2Ez43ntX22KnmCbcTaO8+rOuGMTT3M/ls3WXhTNcXqaG7sFQ8/P8P01CRNGoe19Lts9nWKx6bWz2OQp3V+TMGGPdLPki37qku/K5F8uYbo5UrzZeIFR+8mNF3jceDG9k2LjxYg/JWHMDrbHOmTum2HdCuEdbGuKYfvTMecPkfDbeqSzRBo6Z+wmRDquJ8sitJ87LGE7bkK0pDoU2NESjhbyYNn/H4tNb28F9tbxf7cVeDLxf5ZIfbUxZkO+3UqZcUFZ83Qb8n2I2pA/cboN+dJr6RkJ55sQfb9KeVrCMGeSvTPVHa6Ee5he4828vPsqZKhHiqfLYurb7WVfeVNeWEJsUqnZshzNGSMhfVi86qHs9+fxNGCchOK+5fR9KcWVTbfpHnHDXeJ8669R1xd+w8VpXeDwmA35Ylv012clLHc4v17C2vxzZ4ZXPn8GJTRyiWp2iWg7vb+Pc5eI1uMloj7ERKHYFj2BhFvOL5YQ6ecGwUQa9jfi0lyofa/ycPNx5kJtw9lub5y9RlQi3Ra98lgbdVmMOMf5dXe8OPbOmdslCEFxiA+dvV2C+LLbJYTK/ok7XnzFjxy8iXfuOxP2+PkfRQ/ftuTP3Hdm+3MVUUP7sCqn7g8VHYVRMW0RKeGZ38SIlfDU72z84FsHncF196dLwh1cEh7ikjAtTv3USISNEcfYGzvHcsY1mt3HZtvi52DuChwxcT03Ivz7VbDuSVNyon/zUyN5/QrezeksZP1KbmdX+0bp7+H5uqWmRCgooYSfZkyJvO/zxJTA2abmzPo+NSXJ+iw5Z34LSKjdpOuFn4r7k1KPhKnb8wtfguMofBSqbPiFH46Gt68jCW+h3wu68FNwMP7Bz9uFX4J7xL1nL1y48MVI/tuWFy5cuHDhwoULFy5c+Lv4D3rk8kaepFO2AAAAAElFTkSuQmCC" width="450" height="114" class="img_ev3q"></p>
<p>HyperLogLog 的使用非常简单，但原理非常复杂。HyperLogLog 的原理以及在 Redis 中的实现可以看这篇文章：HyperLogLog 算法的原理讲解以及 Redis 是如何应用它的[4] 。</p>
<p>再推荐一个可以帮助理解 HyperLogLog 原理的工具：Sketch of the Day: HyperLogLog — Cornerstone of a Big Data Infrastructure[5] 。</p>
<p>除了 HyperLogLog 之外，Redis 还提供了其他的概率数据结构，对应的官方文档地址：<a href="https://redis.io/docs/data-types/probabilistic/" target="_blank" rel="noopener noreferrer">https://redis.io/docs/data-types/probabilistic/</a> 。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用命令-6">常用命令<a href="#常用命令-6" class="hash-link" aria-label="常用命令的直接链接" title="常用命令的直接链接">​</a></h3>
<p>HyperLogLog 相关的命令非常少，最常用的也就 3 个。</p>
<table><thead><tr><th>命令</th><th>介绍</th></tr></thead><tbody><tr><td>PFADD key element1 element2 ...</td><td>添加一个或多个元素到 HyperLogLog 中</td></tr><tr><td>PFCOUNT key1 key2</td><td>获取一个或者多个 HyperLogLog 的唯一计数。</td></tr><tr><td>PFMERGE destkey sourcekey1 sourcekey2 ...</td><td>将多个 HyperLogLog 合并到 destkey 中，destkey 会结合多个源，算出对应的唯一计数。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hyperloglog-基本操作演示">HyperLogLog 基本操作演示：<a href="#hyperloglog-基本操作演示" class="hash-link" aria-label="HyperLogLog 基本操作演示：的直接链接" title="HyperLogLog 基本操作演示：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; PFADD hll foo bar zap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; PFADD hll zap zap zap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; PFADD hll foo bar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; PFCOUNT hll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; PFADD some-other-hll 1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; PFCOUNT hll some-other-hll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; PFMERGE desthll hll some-other-hll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;OK&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; PFCOUNT desthll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(integer) 6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="应用场景-6">应用场景<a href="#应用场景-6" class="hash-link" aria-label="应用场景的直接链接" title="应用场景的直接链接">​</a></h3>
<ol>
<li>数量量巨大（百万、千万级别以上）的计数场景</li>
</ol>
<ul>
<li>举例：热门网站每日/每周/每月访问 ip 数统计、热门帖子 uv 统计、</li>
<li>相关命令：PFADD、PFCOUNT 。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="geospatial-地理位置">Geospatial (地理位置)<a href="#geospatial-地理位置" class="hash-link" aria-label="Geospatial (地理位置)的直接链接" title="Geospatial (地理位置)的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="介绍-7">介绍<a href="#介绍-7" class="hash-link" aria-label="介绍的直接链接" title="介绍的直接链接">​</a></h3>
<p>Geospatial index（地理空间索引，简称 GEO） 主要用于存储地理位置信息，基于 Sorted Set 实现。</p>
<p>通过 GEO 我们可以轻松实现两个位置距离的计算、获取指定位置附近的元素等功能。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/17-15-ec4135c84f7af86594677691f0a18c46.png" width="450" height="255" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用命令-7">常用命令<a href="#常用命令-7" class="hash-link" aria-label="常用命令的直接链接" title="常用命令的直接链接">​</a></h3>
<table><thead><tr><th>命令</th><th>介绍</th></tr></thead><tbody><tr><td>GEOADD key longitude1 latitude1 member1 ...</td><td>添加一个或多个元素对应的经  纬度信息到 GEO 中</td></tr><tr><td>GEOPOS key member1 member2 ...</td><td>返回给定元素的经纬度信息</td></tr><tr><td>GEODIST key member1 member2 M/KM/FT/MI</td><td>返回两个给定元素之间的距离</td></tr><tr><td>GEORADIUS key longitude latitude radius distance</td><td>获取指定位置附近 distance 范围内的其他元素，支持 ASC(由近到远)、DESC（由远到近）、Count(数量) 等参数</td></tr><tr><td>GEORADIUSBYMEMBER key member radius distance</td><td>类似于 GEORADIUS 命令，只是参照的中心点是 GEO 中的元素</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="基本操作-3">基本操作：<a href="#基本操作-3" class="hash-link" aria-label="基本操作：的直接链接" title="基本操作：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; GEOADD personLocation 116.33 39.89 user1 116.34 39.90 user2 116.35 39.88 user3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; GEOPOS personLocation user1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">116.3299986720085144</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">39.89000061669732844</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; GEODIST personLocation user1 user2 km</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1.4018</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>通过 Redis 可视化工具查看 personLocation ，果不其然，底层就是 Sorted Set。</p>
<p>GEO 中存储的地理位置信息的经纬度数据通过 GeoHash 算法转换成了一个整数，这个整数作为 Sorted Set 的 score(权重参数)使用。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/17-16-8add509877ae0555efa672d6d5e46fc1.png" width="850" height="298" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="获取指定位置范围内的其他元素">获取指定位置范围内的其他元素：<a href="#获取指定位置范围内的其他元素" class="hash-link" aria-label="获取指定位置范围内的其他元素：的直接链接" title="获取指定位置范围内的其他元素：的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; GEORADIUS personLocation 116.33 39.87 3 km</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; GEORADIUS personLocation 116.33 39.87 2 km</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; GEORADIUS personLocation 116.33 39.87 5 km</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; GEORADIUSBYMEMBER personLocation user1 5 km</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; GEORADIUSBYMEMBER personLocation user1 2 km</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>GEORADIUS 命令的底层原理解析可以看看阿里的这篇文章：Redis 到底是怎么实现“附近的人”这个功能的 呢？[6] 。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="移除元素">移除元素：<a href="#移除元素" class="hash-link" aria-label="移除元素：的直接链接" title="移除元素：的直接链接">​</a></h3>
<p>GEO 底层是 Sorted Set ，你可以对 GEO 使用 Sorted Set 相关的命令。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZREM personLocation user1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZRANGE personLocation 0 -1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ZSCORE personLocation user2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4069879562983946</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="应用场景-7">应用场景<a href="#应用场景-7" class="hash-link" aria-label="应用场景的直接链接" title="应用场景的直接链接">​</a></h3>
<ol>
<li>需要管理使用地理空间数据的场景</li>
</ol>
<ul>
<li>举例：附近的人。</li>
<li>相关命令: GEOADD、GEORADIUS、GEORADIUSBYMEMBER 。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="总结-1">总结<a href="#总结-1" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h2>
<table><thead><tr><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td>Bitmap</td><td>你可以将 Bitmap 看作是一个存储二进制数字（0 和 1）的数组，数组中每个元素的下标叫做 offset（偏移量）。通过 Bitmap, 只需要一个 bit 位来表示某个元素对应的值或者状态，key 就是对应元素本身 。我们知道 8 个 bit 可以组成一个 byte，所以 Bitmap 本身会极大的节省储存空间。</td></tr><tr><td>HyperLogLog</td><td>Redis 提供的 HyperLogLog 占用空间非常非常小，只需要 12k 的空间就能存储接近2^64个不同元素。不过，HyperLogLog 的计数结果并不是一个精确值，存在一定的误差（标准误差为 0.81% ）。</td></tr><tr><td>Geospatial index</td><td>Geospatial index（地理空间索引，简称 GEO） 主要用于存储地理位置信息，基于 Sorted Set 实现。</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考资料">参考资料<a href="#参考资料" class="hash-link" aria-label="参考资料的直接链接" title="参考资料的直接链接">​</a></h2>
<ul>
<li>
<p>[1]Redis Data Structures: <a href="https://redis.com/redis-enterprise/data-structures/" target="_blank" rel="noopener noreferrer">https://redis.com/redis-enterprise/data-structures/</a></p>
</li>
<li>
<p>[2]Redis Data types tutorial: <a href="https://redis.io/docs/manual/data-types/data-types-tutorial/" target="_blank" rel="noopener noreferrer">https://redis.io/docs/manual/data-types/data-types-tutorial/</a></p>
</li>
<li>
<p>[3]线性数据结构 :数组、链表、栈、队列: <a href="https://javaguide.cn/cs-basics/data-structure/linear-data-structure.html" target="_blank" rel="noopener noreferrer">https://javaguide.cn/cs-basics/data-structure/linear-data-structure.html</a></p>
</li>
<li>
<p>[4]HyperLogLog 算法的原理讲解以及 Redis 是如何应用它的: <a href="https://juejin.cn/post/6844903785744056333" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/6844903785744056333</a></p>
</li>
<li>
<p>[5]Sketch of the Day: HyperLogLog — Cornerstone of a Big Data Infrastructure: <a href="http://content.research.neustar.biz/blog/hll.html" target="_blank" rel="noopener noreferrer">http://content.research.neustar.biz/blog/hll.html</a></p>
</li>
<li>
<p>[6]Redis 到底是怎么实现“附近的人”这个功能的呢？: <a href="https://juejin.cn/post/6844903966061363207" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/6844903966061363207</a></p>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/lorchr/light-docusaurus/tree/main/middleware/redis/17-Redis-Data-Type.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">最后<!-- -->由 <b>Lorchr</b> <!-- -->于 <b><time datetime="2025-05-09T14:22:14.000Z" itemprop="dateModified">2025年5月9日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/middleware/redis/Redisson-Lock/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Redisson-Lock</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/middleware/redis/Redis-Memory-Fragment-Clear/"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Redis-Memory-Fragment-Clear</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#redis-5-种基本数据类型" class="table-of-contents__link toc-highlight">Redis 5 种基本数据类型</a></li><li><a href="#string字符串" class="table-of-contents__link toc-highlight">String（字符串）</a><ul><li><a href="#介绍" class="table-of-contents__link toc-highlight">介绍</a></li><li><a href="#常用命令" class="table-of-contents__link toc-highlight">常用命令</a></li><li><a href="#基本操作" class="table-of-contents__link toc-highlight">基本操作：</a></li><li><a href="#批量设置" class="table-of-contents__link toc-highlight">批量设置：</a></li><li><a href="#计数器字符串的内容为整数的时候可以使用" class="table-of-contents__link toc-highlight">计数器（字符串的内容为整数的时候可以使用）：</a></li><li><a href="#设置过期时间默认为永不过期" class="table-of-contents__link toc-highlight">设置过期时间（默认为永不过期）：</a></li><li><a href="#应用场景" class="table-of-contents__link toc-highlight">应用场景</a></li></ul></li><li><a href="#list列表" class="table-of-contents__link toc-highlight">List（列表）</a><ul><li><a href="#介绍-1" class="table-of-contents__link toc-highlight">介绍</a></li><li><a href="#常用命令-1" class="table-of-contents__link toc-highlight">常用命令</a></li><li><a href="#通过-rpushlpop-或者-lpushrpop实现队列" class="table-of-contents__link toc-highlight">通过 RPUSH/LPOP 或者 LPUSH/RPOP实现队列：</a></li><li><a href="#通过-rpushrpop或者lpushlpop-实现栈" class="table-of-contents__link toc-highlight">通过 RPUSH/RPOP或者LPUSH/LPOP 实现栈：</a></li><li><a href="#通过-lrange-查看对应下标范围的列表元素" class="table-of-contents__link toc-highlight">通过 LRANGE 查看对应下标范围的列表元素：</a></li><li><a href="#通过-llen-查看链表长度" class="table-of-contents__link toc-highlight">通过 LLEN 查看链表长度：</a></li><li><a href="#应用场景-1" class="table-of-contents__link toc-highlight">应用场景</a></li></ul></li><li><a href="#hash哈希" class="table-of-contents__link toc-highlight">Hash（哈希）</a><ul><li><a href="#介绍-2" class="table-of-contents__link toc-highlight">介绍</a></li><li><a href="#常用命令-2" class="table-of-contents__link toc-highlight">常用命令</a></li><li><a href="#模拟对象数据存储" class="table-of-contents__link toc-highlight">模拟对象数据存储：</a></li><li><a href="#应用场景-2" class="table-of-contents__link toc-highlight">应用场景</a></li></ul></li><li><a href="#set集合" class="table-of-contents__link toc-highlight">Set（集合）</a><ul><li><a href="#介绍-3" class="table-of-contents__link toc-highlight">介绍</a></li><li><a href="#常用命令-3" class="table-of-contents__link toc-highlight">常用命令</a></li><li><a href="#基本操作-1" class="table-of-contents__link toc-highlight">基本操作：</a></li><li><a href="#求交集" class="table-of-contents__link toc-highlight">求交集：</a></li><li><a href="#求并集" class="table-of-contents__link toc-highlight">求并集：</a></li><li><a href="#求差集" class="table-of-contents__link toc-highlight">求差集：</a></li><li><a href="#应用场景-3" class="table-of-contents__link toc-highlight">应用场景</a></li></ul></li><li><a href="#sorted-set有序集合" class="table-of-contents__link toc-highlight">Sorted Set（有序集合）</a><ul><li><a href="#介绍-4" class="table-of-contents__link toc-highlight">介绍</a></li><li><a href="#常用命令-4" class="table-of-contents__link toc-highlight">常用命令</a></li><li><a href="#基本操作-2" class="table-of-contents__link toc-highlight">基本操作：</a></li><li><a href="#获取指定元素的排名" class="table-of-contents__link toc-highlight">获取指定元素的排名：</a></li><li><a href="#求交集-1" class="table-of-contents__link toc-highlight">求交集：</a></li><li><a href="#求并集-1" class="table-of-contents__link toc-highlight">求并集：</a></li><li><a href="#求差集-1" class="table-of-contents__link toc-highlight">求差集：</a></li><li><a href="#应用场景-4" class="table-of-contents__link toc-highlight">应用场景</a></li></ul></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li><li><a href="#redis-3-种特殊的数据类型" class="table-of-contents__link toc-highlight">Redis 3 种特殊的数据类型</a></li><li><a href="#bitmap-位图" class="table-of-contents__link toc-highlight">Bitmap （位图）</a><ul><li><a href="#介绍-5" class="table-of-contents__link toc-highlight">介绍</a></li><li><a href="#常用命令-5" class="table-of-contents__link toc-highlight">常用命令</a></li><li><a href="#bitmap-基本操作演示" class="table-of-contents__link toc-highlight">Bitmap 基本操作演示：</a></li><li><a href="#应用场景-5" class="table-of-contents__link toc-highlight">应用场景</a></li></ul></li><li><a href="#hyperloglog基数统计" class="table-of-contents__link toc-highlight">HyperLogLog（基数统计）</a><ul><li><a href="#介绍-6" class="table-of-contents__link toc-highlight">介绍</a></li><li><a href="#常用命令-6" class="table-of-contents__link toc-highlight">常用命令</a></li><li><a href="#hyperloglog-基本操作演示" class="table-of-contents__link toc-highlight">HyperLogLog 基本操作演示：</a></li><li><a href="#应用场景-6" class="table-of-contents__link toc-highlight">应用场景</a></li></ul></li><li><a href="#geospatial-地理位置" class="table-of-contents__link toc-highlight">Geospatial (地理位置)</a><ul><li><a href="#介绍-7" class="table-of-contents__link toc-highlight">介绍</a></li><li><a href="#常用命令-7" class="table-of-contents__link toc-highlight">常用命令</a></li><li><a href="#基本操作-3" class="table-of-contents__link toc-highlight">基本操作：</a></li><li><a href="#获取指定位置范围内的其他元素" class="table-of-contents__link toc-highlight">获取指定位置范围内的其他元素：</a></li><li><a href="#移除元素" class="table-of-contents__link toc-highlight">移除元素：</a></li><li><a href="#应用场景-7" class="table-of-contents__link toc-highlight">应用场景</a></li></ul></li><li><a href="#总结-1" class="table-of-contents__link toc-highlight">总结</a></li><li><a href="#参考资料" class="table-of-contents__link toc-highlight">参考资料</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/guide/">Torch</a></li><li class="footer__item"><a class="footer__link-item" href="/middleware/">Middleware</a></li><li class="footer__item"><a class="footer__link-item" href="/electron/">Electron</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/lorchr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/lorchr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/lorchr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/diy/">DIY</a></li><li class="footer__item"><a href="https://github.com/lorchr/light-docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Offical</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docusaurus.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docusaurus.io/docs/playground" target="_blank" rel="noopener noreferrer" class="footer__link-item">Playground<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Light-Docusaurus, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>