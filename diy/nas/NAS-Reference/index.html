<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-diy docs-version-current docs-doc-page docs-doc-id-nas/NAS-Reference" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">NAS-Reference | Light Docusaurus</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://lorchr.github.io/light-docusaurus/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://lorchr.github.io/light-docusaurus/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://lorchr.github.io/light-docusaurus/diy/nas/NAS-Reference/"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-diy-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-diy-current"><meta data-rh="true" property="og:title" content="NAS-Reference | Light Docusaurus"><meta data-rh="true" name="description" content="docker"><meta data-rh="true" property="og:description" content="docker"><link data-rh="true" rel="icon" href="/light-docusaurus/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lorchr.github.io/light-docusaurus/diy/nas/NAS-Reference/"><link data-rh="true" rel="alternate" href="https://lorchr.github.io/light-docusaurus/diy/nas/NAS-Reference/" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://lorchr.github.io/light-docusaurus/diy/nas/NAS-Reference/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://TLGHDZ3Y2I-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/light-docusaurus/blog/rss.xml" title="Light Docusaurus RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/light-docusaurus/blog/atom.xml" title="Light Docusaurus Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Light Docusaurus" href="/light-docusaurus/opensearch.xml"><link rel="stylesheet" href="/light-docusaurus/assets/css/styles.609e5209.css">
<script src="/light-docusaurus/assets/js/runtime~main.4e92a8d4.js" defer="defer"></script>
<script src="/light-docusaurus/assets/js/main.a10fa4bc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/light-docusaurus/"><div class="navbar__logo"><img src="/light-docusaurus/img/logo.svg" alt="Torch Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/light-docusaurus/img/logo.svg" alt="Torch Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Torch</b></a><a class="navbar__item navbar__link" href="/light-docusaurus/docs/category/guide/">Torch</a><a class="navbar__item navbar__link" href="/light-docusaurus/blog/">Blog</a><a class="navbar__item navbar__link" href="/light-docusaurus/middleware/">Middleware</a><a class="navbar__item navbar__link" href="/light-docusaurus/electron/">Electron</a><a class="navbar__item navbar__link" href="/light-docusaurus/postman/">Postman</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/light-docusaurus/diy/">DIY</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/light-docusaurus/diy/nas/NAS-Reference/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">简体中文</a></li></ul></div><a href="https://github.com/lorchr/light-docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/light-docusaurus/diy/">DIY</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/light-docusaurus/diy/Boot-U-Disk-By-Ventoy/">Boot-U-Disk-By-Ventoy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/light-docusaurus/diy/device-and-software-plan/">Device and Software Plan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/light-docusaurus/diy/geek-diyer/">Geek Diyer</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/diy/category/aio/">AIO</a><button aria-label="展开侧边栏分类 &#x27;AIO&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/diy/category/network/">Network</a><button aria-label="展开侧边栏分类 &#x27;Network&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/diy/category/android/">Android</a><button aria-label="展开侧边栏分类 &#x27;Android&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/light-docusaurus/diy/category/nas/">NAS</a><button aria-label="折叠侧边栏分类 &#x27;NAS&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/light-docusaurus/diy/nas/NAS-Reference/">NAS-Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/diy/nas/Synology-7.2/">Synology-7.2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/diy/nas/Opensource-CloudDriver/">Opensource CloudDriver</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/diy/category/home-assistant/">Home Assistant</a><button aria-label="展开侧边栏分类 &#x27;Home Assistant&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/diy/category/router/">Router</a><button aria-label="展开侧边栏分类 &#x27;Router&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/diy/category/soft-router/">Soft Router</a><button aria-label="展开侧边栏分类 &#x27;Soft Router&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/diy/category/tv-box/">TV Box</a><button aria-label="展开侧边栏分类 &#x27;TV Box&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/diy/category/game-box/">Game Box</a><button aria-label="展开侧边栏分类 &#x27;Game Box&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/light-docusaurus/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/light-docusaurus/diy/category/nas/"><span itemprop="name">NAS</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">NAS-Reference</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>NAS-Reference</h1></header><h2 id="docker">docker</h2>
<pre><code class="language-shell"># 创建网络 host仅内网可用 bridge外网可用
docker network create --driver host host0;
docker network create --driver bridge bridge0;

# 查看容器ID:
docker ps

# 以root用户进入容器shell:
docker exec -it -u root 容器ID /bin/bash
</code></pre>
<h2 id="jellyfin">jellyfin</h2>
<p>jellyfin是一套流媒体软件系统，是Emby和Plex的替代方案</p>
<h3 id="host">host:</h3>
<pre><code class="language-shell">docker run -d \
--name=jellyfin \
-e PUID=1000 \
-e PGID=1000 \
-e TZ=Asia/Shanghai \
-v /apps/jellyfin/config:/config \
-v /apps/jellyfin/cache:/cache \
-v /nas/media:/media \
--restart=unless-stopped \
--net=host \
--device /dev/dri:/dev/dri \
nyanmisaka/jellyfin:latest
</code></pre>
<h3 id="bridge">bridge:</h3>
<pre><code class="language-shell">docker run -d \
--name=jellyfin \
-e PUID=1000 \
-e PGID=1000 \
-e TZ=Asia/Shanghai \
-p 8096:8096 \
-v /apps/jellyfin/config:/config \
-v /apps/jellyfin/cache:/cache \
-v /nas/media:/media \
--restart=unless-stopped \
--device /dev/dri:/dev/dri \
nyanmisaka/jellyfin:latest

-p 8920:8920  \
-p 7359:7359/udp \
-p 1900:1900/udp \
</code></pre>
<h2 id="mysql">mysql</h2>
<pre><code class="language-shell">docker run -d \
--name mariadb \
-p 3306:3306 \
-e TZ=Asia/Shanghai \
-e MYSQL_ROOT_PASSWORD=210920 \
-v /apps/mariadb:/var/lib/mysql  \
--restart unless-stopped \
mariadb:latest
</code></pre>
<pre><code class="language-shell">########################################
###新建用户
mysql -u root -p
输入密码
210920
create user &#x27;user_name&#x27;@&#x27;localhost&#x27; identified by &#x27;password&#x27;;

###主机地址授权的范围大致如下:

###% – 表示:任意主机都可以连接到数据库(这很不安全)
###localhost – 表示:只能从本机访问，场景单机数据库推荐
###192.168.66.0/24 – 表示:授权一个网段，比如192.168.66.1–192.168.66.254
###192.168.66.% – 表示:授权一个网段，比如192.168.66.1–192.168.66.254
###192.168.% – 表示:更大网段授权 比如192.168.0.1—192.168.254.254
###192.168.66.177 – 表示:指定的一个IP,也就是这个用户只有是这个IP地址才能连接上

###新建数据库并将权限赋值给用户
create database  db_name;
grant all on db_name.* to &#x27;user_name&#x27;@&#x27;localhost&#x27; identified by &#x27;password&#x27;;

###回收权限
revoke all on *.* from &#x27;user_name&#x27;@&#x27;localhost&#x27;;

###查询用户/数据库
select user,host from mysql.user;
show databases;

查询用户权限
show grants for &#x27;user_name&#x27;@&#x27;localhost&#x27;;
show grants;

删除用户
drop user photoprism@&#x27;10.1.1.%&#x27;;
</code></pre>
<h2 id="photoprism">photoprism</h2>
<pre><code class="language-shell">create database photoprism;
create user &#x27;photoprism&#x27;@&#x27;172.17.%&#x27; identified by &#x27;photoprism&#x27;;
grant all on photoprism.* to &#x27;photoprism&#x27;@&#x27;172.17.%&#x27; identified by &#x27;photoprism&#x27;;

docker run -d \
--name photoprism \
--security-opt seccomp=unconfined \
--security-opt apparmor=unconfined \
-p 50001:2342 \
-e TZ=Asia/Shanghai \
-e PHOTOPRISM_ADMIN_USER=&quot;lpc0083&quot; \
-e PHOTOPRISM_UPLOAD_NSFW=&quot;true&quot; \
-e PHOTOPRISM_ADMIN_PASSWORD=&quot;210920&quot; \
-e PHOTOPRISM_DATABASE_DRIVER=&quot;mysql&quot; \
-e PHOTOPRISM_DATABASE_SERVER=&quot;10.1.1.254:50000&quot; \
-e PHOTOPRISM_DATABASE_NAME=&quot;photoprism&quot;   \
-e PHOTOPRISM_DATABASE_USER=&quot;photoprism&quot;  \
-e PHOTOPRISM_DATABASE_PASSWORD=&quot;photoprism&quot;  \
-e PHOTOPRISM_FFMPEG_ENCODER=&quot;intel&quot; \
-v /apps/photoprism:/photoprism \
-v /nas/photo:/photoprism/originals \
--restart unless-stopped \
--device /dev/dri:/dev/dri \
photoprism/photoprism:latest

&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;可选参数&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
# PHOTOPRISM_DATABASE_DRIVER: &quot;sqlite&quot;         # SQLite is an embedded database that doesn&#x27;t require a server
-e PHOTOPRISM_DATABASE_DRIVER: &quot;mysql&quot;            # use MariaDB 10.5+ or MySQL 8+ instead of SQLite for improved performance
-e PHOTOPRISM_DATABASE_SERVER: &quot;mariadb:3306&quot;     # MariaDB or MySQL database server (hostname:port)
-e PHOTOPRISM_DATABASE_NAME: &quot;photoprism&quot;         # MariaDB or MySQL database schema name
-e PHOTOPRISM_DATABASE_USER: &quot;photoprism&quot;         # MariaDB or MySQL database user name
-e PHOTOPRISM_DATABASE_PASSWORD: &quot;insecure&quot;       # MariaDB or MySQL database user password

# PHOTOPRISM_FFMPEG_ENCODER: &quot;software&quot;        # FFmpeg encoder (&quot;software&quot;, &quot;intel&quot;, &quot;nvidia&quot;, &quot;apple&quot;, &quot;raspberry&quot;)
# PHOTOPRISM_FFMPEG_BITRATE: &quot;32&quot;              # FFmpeg encoding bitrate limit in Mbit/s (default: 50)
    ## Share hardware devices with FFmpeg and TensorFlow (optional):
    # devices:
    #  - &quot;/dev/dri:/dev/dri&quot;                         # Intel QSV
    #  - &quot;/dev/nvidia0:/dev/nvidia0&quot;                 # Nvidia CUDA
    #  - &quot;/dev/nvidiactl:/dev/nvidiactl&quot;
    #  - &quot;/dev/nvidia-modeset:/dev/nvidia-modeset&quot;
    #  - &quot;/dev/nvidia-nvswitchctl:/dev/nvidia-nvswitchctl&quot;
    #  - &quot;/dev/nvidia-uvm:/dev/nvidia-uvm&quot;
    #  - &quot;/dev/nvidia-uvm-tools:/dev/nvidia-uvm-tools&quot;
    #  - &quot;/dev/video11:/dev/video11&quot;  
</code></pre>
<h2 id="nextcloud">nextcloud</h2>
<h3 id="初始化数据库">初始化数据库</h3>
<pre><code class="language-shell">create database nextcloud;
create user &#x27;nextcloud&#x27;@&#x27;172.17.%&#x27; identified by &#x27;nextcloud&#x27;;
grant all on nextcloud.* to &#x27;nextcloud&#x27;@&#x27;172.17.%&#x27; identified by &#x27;nextcloud&#x27;;
</code></pre>
<h3 id="安装">安装</h3>
<pre><code class="language-shell">docker run -d \
--name=nextcloud \
-p 50004:80 \
-e PUID=1000 \
-e PGID=1000 \
-e TZ=Asia/Shanghai \
-v /apps/nextcloud:/var/www/html \
-v /apps/nextcloud/apps:/var/www/html/custom_apps \
-v /apps/nextcloud/config:/var/www/html/config \
-v /apps/nextcloud/data:/var/www/html/data \
-v /apps/nextcloud/themes:/var/www/html/themes \
-v /nas:/nas \
--restart unless-stopped \
nextcloud:latest
</code></pre>
<h2 id="迅雷">迅雷</h2>
<h3 id="host-1">host:</h3>
<pre><code class="language-shell">docker run -d \
--name=xunlei \
--hostname=nas \
--net=host \
-e XL_WEB_PORT=50003 \
-e TZ=Asia/Shanghai \
-v /apps/xunlei:/xunlei/data \
-v /nas/download:/xunlei/downloads \
--restart=unless-stopped \
--privileged \
cnk3x/xunlei:latest
</code></pre>
<h3 id="bridge-1">bridge:</h3>
<pre><code class="language-shell">docker run -d \
--name=xunlei \
--hostname=nas \
-p 50003:2345 \
-e TZ=Asia/Shanghai \
-v /apps/xunlei:/xunlei/data \
-v /nas/download:/xunlei/downloads \
--restart=unless-stopped \
--privileged \
cnk3x/xunlei:latest
</code></pre>
<h2 id="qbittorrent">qbittorrent</h2>
<h3 id="host-2">host:</h3>
<pre><code class="language-shell">docker run -d \
--name=qbittorrent \
-e PUID=1000 \
-e PGID=1000 \
-e TZ=Asia/Shanghai \
-e WEBUI_PORT=50004 \
--net=host \
-v /apps/qbittorrent/config:/config \
-v /nas/downloads:/downloads \
--restart unless-stopped \
--privileged \
lscr.io/linuxserver/qbittorrent:latest
</code></pre>
<h3 id="bridge-2">bridge:</h3>
<pre><code class="language-shell">docker run -d \
--name=qbittorrent \
-e PUID=1000 \
-e PGID=1000 \
-e TZ=Asia/Shanghai \
-e WEBUI_PORT=8080 \
-p 50004:8080 \
-p 6881:6881 \
-p 6881:6881/udp \
-v /apps/qbittorrent:/config \
-v /nas/download:/downloads \
--restart unless-stopped \
--privileged \
lscr.io/linuxserver/qbittorrent:latest
</code></pre>
<h2 id="heimdall">heimdall</h2>
<h3 id="host-3">host:</h3>
<pre><code class="language-shell">docker run -d \
--name=heimdall \
--net=host \
-e TZ=Asia/Shanghai \
-v /apps/heimdall/config:/config \
--restart unless-stopped \
lscr.io/linuxserver/heimdall:latest
</code></pre>
<h3 id="bridge-3">bridge:</h3>
<pre><code class="language-shell">docker run -d \
--name=heimdall \
-e TZ=Asia/Shanghai \
-p 50080:80 \
-p 50443:443 \
-v /mnt:/mnt \
-v /apps/heimdall/config:/config \
--restart unless-stopped \
lscr.io/linuxserver/heimdall:latest
</code></pre>
<h2 id="syncthing">syncthing</h2>
<pre><code class="language-shell">docker run -d \
--name=syncthing \
--hostname=syncthing `#optional` \
-e PUID=1000 \
-e PGID=1000 \
-e TZ=Asia/Shanghai \
-p 50011:8384 \
-p 22000:22000/tcp \
-p 22000:22000/udp \
-p 21027:21027/udp \
-v /apps/syncthing:/config \
-v /nas:/nas \
--restart unless-stopped \
lscr.io/linuxserver/syncthing:latest
</code></pre>
<h2 id="小雅alist">小雅alist</h2>
<pre><code class="language-shell">http://alist.xiaoya.pro/


mkdir -p /apps/xiaoya/data
touch /apps/xiaoya/data/mytoken.txt
touch /apps/xiaoya/data/myopentoken.txt
touch /apps/xiaoya/data/temp_transfer_folder_id.txt

docker run -d \
    -p 50012:80 \
    -v /apps/xiaoya/data:/data \
    --restart=always \
    --name=xiaoya \
    xiaoyaliu/alist:latest
</code></pre>
<p>说明文档  <a href="https://xiaoyaliu.notion.site/xiaoya-docker-69404af849504fa5bcf9f2dd5ecaa75f">https://xiaoyaliu.notion.site/xiaoya-docker-69404af849504fa5bcf9f2dd5ecaa75f</a></p>
<pre><code class="language-shell">
阿里云盘 19157789692

mytoken.txt(必填)     
用途：用来加载阿里分享，和自动签到      
获取方式 https://alist.nn.ci/zh/guide/drivers/aliyundrive.html

a4cad32609a74353ad9dc3be6f7b0ed3

myopentoken.txt(必填)  
用途：用来加载自己的阿里云盘（open接口） 
获取方式 https://alist.nn.ci/zh/guide/drivers/aliyundrive_open.html

eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIxODQyNDk5NDU0YzI0ODllYjgzZDA0OWEyMTM5NDJiYiIsImF1ZCI6Ijc2OTE3Y2NjY2Q0NDQxYzM5NDU3YTA0ZjYwODRmYjJmIiwiZXhwIjoxNjg4ODkxOTg0LCJpYXQiOjE2ODExMTU5ODR9.DdF_0tzT8-6ehR8cu9f8Gx4I8POFF9rjRTD7cjwPNxTA5h36K7XyvmCJNhiitTDWhdWcL65Lf2Zq9OmXqvo0ig

temp_transfer_folder_id.txt(必填)  打开你阿里云盘网页，目录所在的浏览器地址 https://www.aliyundrive.com/drive/folder/640xxxxxxxxxxxxxxxxxxxca8a   最后一串就是
用途：你的阿里网盘的转存目录的folder id

6433cd86fdf973bc00cf4c7b8f5a95de0fcef04e



文件：guestlogin.txt
用途：通过此文件的存在与否来决定是否开启强制登入
格式：空白文件，不需要强制登入功能，则删除此文件

文件：guestpass.txt
用途：自己修改 guest 账号的密码
备注：如果开启了强制登入则 登入账号 dav 也使用此密码

重启就会自动更新数据库及搜索索引文件
0 6 * * * docker restart xiaoya 每天凌晨6点自动重启容器
</code></pre>
<h2 id="alist">alist</h2>
<pre><code class="language-shell">docker run -d \
    --restart=always \
    -v /apps/alist:/opt/alist/data \
    -v /nas/download:/root/Download \
    -p 50001:5244 \
    -p 56800:6800 \
    -e PUID=0 \
    -e PGID=0 \
    -e UMASK=022 \
    --name=&quot;alist&quot; \
    xhofe/alist-aria2:latest
</code></pre>
<h2 id="watchtower">watchtower</h2>
<pre><code class="language-shell">docker run -d \
--name watchtower \
-v /var/run/docker.sock:/var/run/docker.sock \
containrrr/watchtower -c \
--schedule &quot;0 58 2 * * *&quot; \
--cleanup \
xiaoya alist 
</code></pre>
<h2 id="centos-宝塔">centos 宝塔</h2>
<p>bridge:</p>
<pre><code class="language-shell">docker run -d -it \
--name=centos \
-p 8888:8888 \
-e TZ=Asia/Shanghai \
--shm-size=2g \
-e &quot;container=docker&quot; \
-v /sys/fs/cgroup:/sys/fs/cgroup \
-v /data/centos/data:/data \
-v /nas/rclone:/rclone \
-v /data/centos/www:/www \
--restart=unless-stopped \
--privileged=true \
centos:centos7.4.1708 /usr/sbin/init

如果ip命令不存在 
yum provides ip

yum install -y 查找出的filename

sed -e &#x27;s|^mirrorlist=|#mirrorlist=|g&#x27; \
    -e &#x27;s|^#baseurl=http://mirror.centos.org/centos|baseurl=https://mirrors.ustc.edu.cn/centos|g&#x27; \
    -i.bak \
    /etc/yum.repos.d/CentOS-Base.repo

yum install -y wget &amp;&amp; wget -O install.sh https://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh ed8484bec

关闭宝塔 Linux 面板的安全入口
rm -f /www/server/panel/data/admin_path.pl
</code></pre>
<h2 id="emby">emby</h2>
<pre><code class="language-shell">docker run \
--net=host \
-v /apps/emby/config:/config \
-v /apps/emby/cache:/cache \
-v /nas:/data \
-e TZ=Asia/Shanghai \
-e UID=0 \
-e GID=0 \
--restart unless-stopped \
--name emby \
--privileged=true \
-d lovechen/embyserver:latest
</code></pre>
<h2 id="nas-tools">nas-tools</h2>
<pre><code class="language-shell">docker run -d \
--name nas-tools \
--hostname nas-tools \
-p 50003:3000 \
-v /apps/nas-tools/config:/config \
-v /nas/media:/media \
-v /nas/downloads:/downloads \
-e UID=1000 \
-e GID=1000 \
-e UMASK=022 \
-e REPO_URL=&quot;https://ghproxy.com/https://github.com/NAStool/nas-tools.git&quot; \
-e NASTOOL_AUTO_UPDATE=false `# 如需在启动容器时自动升级程程序请设置为true` \
-e NASTOOL_CN_UPDATE=false `# 如果开启了容器启动自动升级程序，并且网络不太友好时，可以设置为true，会使用国内源进行软件更新` \
--restart always \
--privileged=true \
miraclemie/nas-tools:latest
</code></pre>
<h2 id="jackett">jackett</h2>
<pre><code class="language-shell">docker run -d \
  --name=jackett \
  -e PUID=1000 \
  -e PGID=1000 \
  -e TZ=Asia/Shanghai \
  -e AUTO_UPDATE=true `#optional` \
  -e RUN_OPTS= `#optional` \
  -p 50009:9117 \
  -v /apps/jackett/config:/config \
  -v /nas/tmp/downloads:/downloads \
  --restart unless-stopped \
  lscr.io/linuxserver/jackett:latest
</code></pre>
<h2 id="chinesesubfinder">chinesesubfinder</h2>
<pre><code class="language-shell">docker run -d \
    -v /apps/chinesesubfinder/config:/config   `# 冒号左边请修改为你想在主机上保存配置、日志等文件的路径` \
    -v /nas/media:/media     `# 请修改为需要下载字幕的媒体目录，冒号右边可以改成你方便记忆的目录，多个媒体目录需要添加多个-v映射` \
    -v /apps/chinesesubfinder/browser:/root/.cache/rod/browser `# 容器重启后无需再次下载 chrome，除非 go-rod 更新` \
    -e PUID=1000 \
    -e PGID=1000 \
    -e PERMS=true       `# 是否重设/media权限` \
    -e TZ=Asia/Shanghai `# 时区` \
    -e UMASK=022        `# 权限掩码` \
    -p 50007:19035 `# 从0.20.0版本开始，通过webui来设置` \
    -p 50008:19037 `# webui 的视频列表读取图片用，务必设置不要暴露到外网` \
    --name chinesesubfinder \
    --hostname chinesesubfinder \
    --log-driver &quot;json-file&quot; \
    --log-opt &quot;max-size=100m&quot; `# 限制docker控制台日志大小，可自行调整` \
    --restart unless-stopped \
    allanpk716/chinesesubfinder:v0.52.3
</code></pre>
<h2 id="flaresolverr">flaresolverr</h2>
<pre><code class="language-shell">docker run -d \
    -p 50010:8191 \
    -e TEST_URL=https://www.baidu.com \
    --restart unless-stopped 
    --name flaresolverr \
    flaresolverr/flaresolverr
</code></pre></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/lorchr/light-docusaurus/tree/main/diy/nas/1-NAS-Reference.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->由 <b>Lorchr</b> <!-- -->于 <b><time datetime="2024-01-22T02:37:40.000Z">2024年1月22日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/light-docusaurus/diy/category/nas/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">NAS</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/light-docusaurus/diy/nas/Synology-7.2/"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Synology-7.2</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#docker" class="table-of-contents__link toc-highlight">docker</a></li><li><a href="#jellyfin" class="table-of-contents__link toc-highlight">jellyfin</a><ul><li><a href="#host" class="table-of-contents__link toc-highlight">host:</a></li><li><a href="#bridge" class="table-of-contents__link toc-highlight">bridge:</a></li></ul></li><li><a href="#mysql" class="table-of-contents__link toc-highlight">mysql</a></li><li><a href="#photoprism" class="table-of-contents__link toc-highlight">photoprism</a></li><li><a href="#nextcloud" class="table-of-contents__link toc-highlight">nextcloud</a><ul><li><a href="#初始化数据库" class="table-of-contents__link toc-highlight">初始化数据库</a></li><li><a href="#安装" class="table-of-contents__link toc-highlight">安装</a></li></ul></li><li><a href="#迅雷" class="table-of-contents__link toc-highlight">迅雷</a><ul><li><a href="#host-1" class="table-of-contents__link toc-highlight">host:</a></li><li><a href="#bridge-1" class="table-of-contents__link toc-highlight">bridge:</a></li></ul></li><li><a href="#qbittorrent" class="table-of-contents__link toc-highlight">qbittorrent</a><ul><li><a href="#host-2" class="table-of-contents__link toc-highlight">host:</a></li><li><a href="#bridge-2" class="table-of-contents__link toc-highlight">bridge:</a></li></ul></li><li><a href="#heimdall" class="table-of-contents__link toc-highlight">heimdall</a><ul><li><a href="#host-3" class="table-of-contents__link toc-highlight">host:</a></li><li><a href="#bridge-3" class="table-of-contents__link toc-highlight">bridge:</a></li></ul></li><li><a href="#syncthing" class="table-of-contents__link toc-highlight">syncthing</a></li><li><a href="#小雅alist" class="table-of-contents__link toc-highlight">小雅alist</a></li><li><a href="#alist" class="table-of-contents__link toc-highlight">alist</a></li><li><a href="#watchtower" class="table-of-contents__link toc-highlight">watchtower</a></li><li><a href="#centos-宝塔" class="table-of-contents__link toc-highlight">centos 宝塔</a></li><li><a href="#emby" class="table-of-contents__link toc-highlight">emby</a></li><li><a href="#nas-tools" class="table-of-contents__link toc-highlight">nas-tools</a></li><li><a href="#jackett" class="table-of-contents__link toc-highlight">jackett</a></li><li><a href="#chinesesubfinder" class="table-of-contents__link toc-highlight">chinesesubfinder</a></li><li><a href="#flaresolverr" class="table-of-contents__link toc-highlight">flaresolverr</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/docs/category/guide/">Torch</a></li><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/middleware/">Middleware</a></li><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/electron/">Electron</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/lorchr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/lorchr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/lorchr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/diy/">DIY</a></li><li class="footer__item"><a href="https://github.com/lorchr/light-docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Offical</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docusaurus.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docusaurus.io/docs/playground" target="_blank" rel="noopener noreferrer" class="footer__link-item">Playground<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Light-Docusaurus, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>