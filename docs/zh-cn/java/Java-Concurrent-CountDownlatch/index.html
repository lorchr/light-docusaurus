<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-zh-cn/java/Java-Concurrent-CountDownlatch" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Java-Concurrent-CountDownlatch | Light Docusaurus</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://lorchr.github.io/light-docusaurus/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://lorchr.github.io/light-docusaurus/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://lorchr.github.io/light-docusaurus/docs/zh-cn/java/Java-Concurrent-CountDownlatch/"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Java-Concurrent-CountDownlatch | Light Docusaurus"><meta data-rh="true" name="description" content="- Java并发系列[7]----CountDownLatch源码分析"><meta data-rh="true" property="og:description" content="- Java并发系列[7]----CountDownLatch源码分析"><link data-rh="true" rel="icon" href="/light-docusaurus/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lorchr.github.io/light-docusaurus/docs/zh-cn/java/Java-Concurrent-CountDownlatch/"><link data-rh="true" rel="alternate" href="https://lorchr.github.io/light-docusaurus/docs/zh-cn/java/Java-Concurrent-CountDownlatch/" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://lorchr.github.io/light-docusaurus/docs/zh-cn/java/Java-Concurrent-CountDownlatch/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://TLGHDZ3Y2I-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/light-docusaurus/blog/rss.xml" title="Light Docusaurus RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/light-docusaurus/blog/atom.xml" title="Light Docusaurus Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Light Docusaurus" href="/light-docusaurus/opensearch.xml"><link rel="stylesheet" href="/light-docusaurus/assets/css/styles.609e5209.css">
<script src="/light-docusaurus/assets/js/runtime~main.8c0ff940.js" defer="defer"></script>
<script src="/light-docusaurus/assets/js/main.898faf32.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/light-docusaurus/"><div class="navbar__logo"><img src="/light-docusaurus/img/logo.svg" alt="Torch Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/light-docusaurus/img/logo.svg" alt="Torch Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Torch</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/light-docusaurus/docs/category/guide/">Torch</a><a class="navbar__item navbar__link" href="/light-docusaurus/blog/">Blog</a><a class="navbar__item navbar__link" href="/light-docusaurus/middleware/">Middleware</a><a class="navbar__item navbar__link" href="/light-docusaurus/electron/">Electron</a><a class="navbar__item navbar__link" href="/light-docusaurus/postman/">Postman</a><a class="navbar__item navbar__link" href="/light-docusaurus/diy/">DIY</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-CountDownlatch/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">简体中文</a></li></ul></div><a href="https://github.com/lorchr/light-docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/docs/category/guide/">Guide</a><button aria-label="展开侧边栏分类 &#x27;Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/docs/category/develop-environment/">Develop Environment</a><button aria-label="展开侧边栏分类 &#x27;Develop Environment&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/light-docusaurus/docs/category/java-jvm/">Java (JVM)</a><button aria-label="折叠侧边栏分类 &#x27;Java (JVM)&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-AbstractQueuedSynchronizer/">Java-Concurrent-AbstractQueuedSynchronizer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-ReentrantLock/">Java-Concurrent-ReentrantLock</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-Semaphore/">Java-Concurrent-Semaphore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-CountDownlatch/">Java-Concurrent-CountDownlatch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-CyclicBarrier/">Java-Concurrent-CyclicBarrier</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-ConcurrentHashMap/">Java-Concurrent-ConcurrentHashMap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-ThreadPoolExecutor/">Java-Concurrent-ThreadPoolExecutor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/AbstractQueuedSynchronizer-In-Action/">AbstractQueuedSynchronizer-In-Action</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/CompletableFuture-Getting-Start/">CompletableFuture-Getting-Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/CompletableFuture-Usage/">CompletableFuture-Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/CompletableFuture-In-Action/">CompletableFuture-In-Action</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Bytecode-Toolkit-Javassist/">Bytecode-Toolkit-Javassist</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/GC-Exception-Analysis/">GC-Exception-Analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Instrumentation-JavaAgent/">Java-Instrumentation-JavaAgent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/JVM-Stack-And Heap-Dump/">JVM-Stack-And Heap-Dump</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Http-Client-Skip-Https-Check/">Http-Client-Skip-Https-Check</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Error-Check/">Java-Error-Check</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Agent-1/">Java-Agent-1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Lock/">Java-Lock</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Generic-Type/">Java-Generic-Type</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/docs/category/spring-boot/">Spring Boot</a><button aria-label="展开侧边栏分类 &#x27;Spring Boot&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/docs/category/spring-cloud/">Spring Cloud</a><button aria-label="展开侧边栏分类 &#x27;Spring Cloud&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/docs/category/spring-security/">Spring Security</a><button aria-label="展开侧边栏分类 &#x27;Spring Security&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/docs/category/spring-authorization-server/">Spring Authorization Server</a><button aria-label="展开侧边栏分类 &#x27;Spring Authorization Server&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/docs/category/active-directory/">Active Directory</a><button aria-label="展开侧边栏分类 &#x27;Active Directory&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/docs/category/database/">Database</a><button aria-label="展开侧边栏分类 &#x27;Database&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/docs/category/git/">Git</a><button aria-label="展开侧边栏分类 &#x27;Git&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/docs/category/linux/">Linux</a><button aria-label="展开侧边栏分类 &#x27;Linux&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/docs/category/docker/">Docker</a><button aria-label="展开侧边栏分类 &#x27;Docker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/docs/category/kubernetes/">Kubernetes</a><button aria-label="展开侧边栏分类 &#x27;Kubernetes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/docs/category/test/">Test</a><button aria-label="展开侧边栏分类 &#x27;Test&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/light-docusaurus/docs/category/others/">Others</a><button aria-label="展开侧边栏分类 &#x27;Others&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/light-docusaurus/docs/zh-cn/awesome-open-source/">Awesome open source</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/light-docusaurus/docs/zh-cn/windows/">Windows</a></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/light-docusaurus/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/light-docusaurus/docs/category/java-jvm/"><span itemprop="name">Java (JVM)</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Java-Concurrent-CountDownlatch</span><meta itemprop="position" content="2"></li></ul></nav><div class="theme-doc-markdown markdown"><header><h1>Java-Concurrent-CountDownlatch</h1></header><ul>
<li><a href="https://cnblogs.com/liuyun1995/p/8528988.html">Java并发系列[7]----CountDownLatch源码分析</a></li>
<li><a href="https://mp.weixin.qq.com/s/KD0Tfn8FefHjk1TaQu4Yog">【94期】Java并发系列 | CountDownLatch源码分析</a></li>
</ul>
<p><code>CountDownLatch</code>(闭锁)是一个很有用的工具类，利用它我们可以拦截一个或多个线程使其在某个条件成熟后再执行。它的内部提供了一个计数器，在构造闭锁时必须指定计数器的初始值，且计数器的初始值必须大于0。</p>
<p>另外它还提供了一个<code>countDown</code>方法来操作计数器的值，每调用一次<code>countDown</code>方法计数器都会减1，直到计数器的值减为0时就代表条件已成熟，所有因调用<code>await</code>方法而阻塞的线程都会被  唤醒。</p>
<p>这就是<code>CountDownLatch</code>的内部机制，看起来很简单，无非就是阻塞一部分线程让其在达到某个条件之后再执行。但是<code>CountDownLatch</code>的应用场景却比较广泛，只要你脑洞够大利用它就可以玩出各种花样。最常见的一个应用场景是开启多个线程同时执行某个任务，等到所有任务都执行完再统计汇总结果。下图动态演示了闭锁阻塞线程的整个过程。</p>
<p><img alt="img" src="/light-docusaurus/assets/images/CountDownLatch-1-0ec848fbfa3000a1086539dcf2a8bf67.gif" width="545" height="437"></p>
<p>上图演示了有5个线程因调用<code>await</code>方法而被阻塞，它们需要等待计数器的值减为0才能继续执行。计数器的初始值在构造闭锁时被指定，后面随着每次<code>countDown</code>方法的调用而减1。下面代码贴出了<code>CountDownLatch</code>的构造方法。</p>
<pre><code class="language-java">//构造器
public CountDownLatch(int count) {
    if (count &lt; 0) throw new IllegalArgumentException(&quot;count &lt; 0&quot;);
    this.sync = new Sync(count);
}
</code></pre>
<p><code>CountDownLatch</code>只有一个带参构造器，必须传入一个大于0的值作为计数器初始值，否则会报错。可以看到在构造方法中只是去new了一个<code>Sync</code>对象并赋值给成员变量<code>sync</code>。和其他同步工具类一样，<code>CountDownLatch</code>的实现依赖于<code>AQS</code>，它是<code>AQS</code>共享模式下的一个应用。<code>CountDownLatch</code>实现了一个内部类<code>Sync</code>并用它去继承<code>AQS</code>，这样就能使用<code>AQS</code>提供的大部分方法了。下面我们就来看一下Sync内部类的代码。</p>
<pre><code class="language-java">//同步器
private static final class Sync extends AbstractQueuedSynchronizer {

    //构造器
    Sync(int count) {
        setState(count);
    }

    //获取当前同步状态
    int getCount() {
        return getState();
    }

    //尝试获取锁
    //返回负数：表示当前线程获取失败
    //返回零值：表示当前线程获取成功, 但是后继线程不能再获取了
    //返回正数：表示当前线程获取成功, 并且后继线程同样可以获取成功
    protected int tryAcquireShared(int acquires) {
        return (getState() == 0) ? 1 : -1;
    }

    //尝试释放锁
    protected boolean tryReleaseShared(int releases) {
        for (;;) {
            //获取同步状态
            int c = getState();
            //如果同步状态为0, 则不能再释放了
            if (c == 0) {
                return false;
            }
            //否则的话就将同步状态减1
            int nextc = c-1;
            //使用CAS方式更新同步状态
            if (compareAndSetState(c, nextc)) {
                return nextc == 0;
            }
        }
    }
}
</code></pre>
<p>可以看到<code>Sync</code>的构造方法会将同步状态的值设置为传入的参数值。之后每次调用countDown方法都会将同步状态的值减1，这也就是计数器的实现原理。在平时使用<code>CountDownLatch</code>工具类时最常用的两个方法就是<code>await</code>方法和<code>countDown</code>方法。调用<code>await</code>方法会阻塞当前线程直到计数器为0，调用<code>countDown</code>方法会将计数器的值减1直到减为0。下面我们来看一下<code>await</code>方法是怎样调用的。</p>
<pre><code class="language-java">//导致当前线程等待, 直到门闩减少到0, 或者线程被打断
public void await() throws InterruptedException {
    //以响应线程中断方式获取
    sync.acquireSharedInterruptibly(1);
}

//以可中断模式获取锁(共享模式)
public final void acquireSharedInterruptibly(int arg) throws InterruptedException {
    //首先判断线程是否中断, 如果是则抛出异常
    if (Thread.interrupted()) {
        throw new InterruptedException();
    }
    //1.尝试去获取锁
    if (tryAcquireShared(arg) &lt; 0) {
        //2. 如果获取失败则进人该方法
        doAcquireSharedInterruptibly(arg);
    }
}
</code></pre>
<p>当线程调用<code>await</code>方法时其实是调用到了<code>AQS</code>的<code>acquireSharedInterruptibly</code>方法，该方法是以响应线程中断的方式来获取锁的，上面同样贴出了该方法的代码。我们可以看到在<code>acquireSharedInterruptibly</code>方法首先会去调用<code>tryAcquireShared</code>方法尝试获取锁。</p>
<p>我们看到<code>Sync</code>里面重写的<code>tryAcquireShared</code>方法的逻辑，方法的实现逻辑很简单，就是判断当前同步状态是否为0，如果为0则返回1表明可以获取锁，否则返回-1表示不能获取锁。如果<code>tryAcquireShared</code>方法返回1则线程能够不必等待而继续执行，如果返回-1那么后续就会去调用<code>doAcquireSharedInterruptibly</code>方法让线程进入到同步队列里面等待。这就是调用<code>await</code>方法会阻塞当前线程的原理，下面看看<code>countDown</code>方法是怎样将阻塞的线程唤醒的。</p>
<pre><code class="language-java">//减少门闩的方法
public void countDown() {
    sync.releaseShared(1);
}

//释放锁的操作(共享模式)
public final boolean releaseShared(int arg) {
    //1.尝试去释放锁
    if (tryReleaseShared(arg)) {
        //2.如果释放成功就唤醒其他线程
        doReleaseShared();
        return true;
    }
    return false;
}
</code></pre>
<p>可以看到<code>countDown</code>方法里面调用了<code>releaseShared</code>方法，该方法同样是<code>AQS</code>里面的方法，我们在上面也贴出了它的代码。<code>releaseShared</code>方法里面首先是调用<code>tryReleaseShared</code>方法尝试释放锁，<code>tryReleaseShared</code>方法在<code>AQS</code>里面是一个抽象方法，它的具体实现逻辑在子类<code>Sync</code>类里面，我们在上面贴出的<code>Sync</code>类代码里可以找到该方法。</p>
<p><code>tryReleaseShared</code>方法如果返回<code>true</code>表示释放成功，返回<code>false</code>表示释放失败，只有当将同步状态减1后该同步状态恰好为0时才会返回<code>true</code>，其他情况都是返回<code>false</code>。那么当<code>tryReleaseShared</code>返回<code>true</code>之后就会马上调用<code>doReleaseShared</code>方法去唤醒同步队列的所有线程。</p>
<p>这样就解释了为什么最后一次调用<code>countDown</code>方法将计数器减为0后就会唤醒所有被阻塞的线程。<code>CountDownLatch</code>基本的原理大致就是这些，下面我们看一个它的使用示例。</p>
<p>应用场景：在玩欢乐斗地主时必须等待三个玩家都到齐才可以进行发牌。</p>
<pre><code class="language-java">public class Player extends Thread {

    private static int count = 1;
    private final int id = count++;
    private CountDownLatch latch;

    public Player(CountDownLatch latch) {
        this.latch = latch;
    }

    @Override
    public void run() {
        System.out.println(&quot;【玩家&quot; + id + &quot;】已入场&quot;);
        latch.countDown();
    }

    public static void main(String[] args) throws InterruptedException {
        CountDownLatch latch = new CountDownLatch(3);
        System.out.println(&quot;牌局开始, 等待玩家入场...&quot;);
        new Player(latch).start();
        new Player(latch).start();
        new Player(latch).start();
        latch.await();
        System.out.println(&quot;玩家已到齐, 开始发牌...&quot;);
    }

}
</code></pre>
<p><img alt="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASkAAACbCAMAAAAJMp16AAACslBMVEX////h5vb09vzW2uTZ5O/Z3Obd5/Df6PHh5Ovj6/Oixo6nyJK8zORFfMRNgcbH1+ycworO4MY7dcJPZoxQZYs/eMHK3sP0582mlqzH5/yVw66KvaXl7O00brxUZITP7ftYZ4bl7LdpAG+s7fVpaWmXwIX09u3HqJqVlpqVlr3V9vv09t23lpq32Pzv9Pj02L2VqM3l9vy3lqymqM0ya7bm7bhsAAAAAAAAbbiPvIOUv4Opyp2mlpq3qM3HqL3o7/QwZ7Bbaod2iLdsfapecaFSZZdGWoxebInos29qtPZAktfo77iJuH/F3L681rPmnKXu1Nzs8fYvZKpgb4tkco7t8rltAHGv8PaUv4qszKKmlr3W9t2VlqzHyL2myO3rvsYtYKSHl8B+jrh2hrBldqFcbppoeJ9odZDutnAARJfP8fcAAHGy8vdtAEWQk3BDldrPk0Wsu9THuM2VuN0rXZ1seZLR8/fu1ZdDAEWR1fdDAHDv9NmSRADR2+zh6+a3lr3lyKzHqKxyfpZtt/iT1/mUREUAAEW19fmiybnmn6jx8vZ0gJh4hJoyYp/y9rvyuHEARJjN2OumuN3C29Stz8HK4Nrpsbrorrbw4ujnpKyuwNg7Z6A6Z5/C0OXVlkWS2v302JiUuPluuPq2cHGot9HI1Onl9u2muL3Z5+acxrTy6O7w2N/WuJr2+PtGcqwqWZQAcbz1+Ly4+Pv1+Ny4cQBEAACks82mtdBIda7/2485ADmP2///tmYAOY/b/////7ZmAGa2/////9uPOQBmtv+2ZgAAZrYAAGZmADmPOTk5OTk5AGbbjzk5j9s5OY85AABmAABmtrbb/7aPto+Pj2bb24+PZo8AADq2ZmY5OWZmOTmPj9s5ZmZmZmaPjzmgoKA6kNsAOpDbkDo6kJD/25CQOgAwUbv/AAAMRklEQVR42u2cjX8cRRnHxzGNBFBBNLGkUIQjvebatEHIAK0UxRdQSjwksVSo+F6kMcYWEVtqxLRV0VZFUYw1WPEFNVRQK8ddc83l7traCzkVre9irP+Hn3ndmdnZvblLrtlr5/f55HZ3dmZ25nvP8+zcc5cFwMnJacH0MiwIF3oYAXp5nVQrKQgAjKKaFi1qqo8WLbIfhUQKRpMTbKoXJ8KqBlJRBQXrCaoKVNEn1dzUXE81VU8qoqBg0yvqK1tU0Sd1Tkt9dc5cSJ173nnnLjQgjdT5rxR61aujQ+qCCy+8YKEBaaRec9FruS56XYRItbaaSLW9fnHlDitUurgdq5o+lpD5XHLpUq7LLrHH8IbLr1ALYrFYS0sLoBuiJXMhdWVr65VypY5l8fjyTmUCiRXx+MoaSEHY3t6lHK9a3Z24Crdpe2N3MKmrL13Kh3rZ1WyO1/QgdG04qWt8pACItQDyOndS112/prV1zfXXeZNfuxLCxJu6CbOVDNRK2HFDJz+sRrpFGUhJF4JwHdGNb176lpve+ra3AwDecSMtuhndsm7dze9cF6Z3XX6FWhADAMRiAKyLiaLaSd26Zv1tt61fc6t/0N4+m1WNpHp7e9/d29trSSqJdft7hE3dcTsp6eu5JVlRff3v1UpipI9kTBTMgdSSDXeuX3/nBmGVYgZtG9+3Ih5f3c1sirrg6u62tcQREyvid929urttY2fiqrvj8U2ixGBTve+HsNdgU6yldCFO6p47ln7ggx+66cMf+Sj42D2kZPO9H2c0ehC6b0uyb+ATCA0mk5+kR6ywn+4Oaqg8ULWSGhoaGsKoMCiyT6cC29bGl3e2bfTcbRUOXOSd7/hUN1y1vJP44zJKasVWHGp4STWkaEv5QozUtvuXJqmzgPu3MVKfZqAGk8nN923p67k2+cBnHnzgs1vkwv4tfQMPJrfvEPYH5ovUQw8NQbhzw4adfJ+SgjDxOYUUhMPxrcxHhnG8J7VWMZtaDDs+v5iXyJSSlWyKtFQulOzC2vaw8L6Ht5GSzfd2etvtO77QNzDStX3XSF/P7hGpsH/PZoQ12EVFQQEQ6+JK1kqK2tFOYl+UFJ2HjxT2QHzYtha7iyWpJXBJ+xch/JJEapgDZ8h0Ul8mr9se+QrXI18lJXsHRsh239c6IUzsGsHHiV0jECZ27B4Rhf17yK5QDAAYI2EdKv1XT+rrQ945fjB812KdVNs3CEF8iFkMq95H52vwvosfTX6z/VsQPvZt+J3HaVHHsk0Qt4eJFZtgMKnvjo6Ofg9rdHR0Pz3x/d1jEO4b3NszSHDtHRiDiV1jT/wAJnYcEIX9e/b2HIDwh3sEKRgjvOZK6skfPemdEwc4ZpNA2wmHWaAdjpMwPhxf/eNl8fhPNnbiSiKik/nyEulqP32q/alHIYQ/e6z38Z+Tkl/Et9INvQcIUuJCEI4TtTQ3P33w4MGnm5tbxpn2IYR+OT7+DA7ez44/MzA2/qtdY+O/Vgr7nx1/4jcIHeBtYrGYtMGyBKWTOrT/0G8PCe0/ZNsN0ypf/PaXVC06n+cOcj3XNT6fqpXU+YqqINVxA3WgsJLaQdVTNZLSVMWMsItuqlBSi+r1LYZQbaQiKEfKkXKkHClByslKjpStHClbOVK2cqRsZU0q9Xw6vELm8ISpOHtksj4jzx6ZNI2p4jhtpXdUP1K5KYRQvjKpAioGYuY9FedCqoBo52RAR8lossfSxjGznsnZcFK5qbw1c72uj9TxNL5aZVJ5UIFU6ncnDH0YOg4YfoaTygOQQaRKaTqEFD+rqr6kQGF6HkiVpguGYdVGCqQI9dQLEyGk2NkgUqmZfLaM0OEJ/DoNclO/Lx/+w7E/zqB8Bh+nTkxmj72I90BqBiGlLsAbbOOyxUqkSIPc1DQZmtT9hELKq1U6PEEOREf4NG6By/gWe9+JSUC784b0J1Z2dBLw8SqkclP51PNpxjTgsuQs71wjlZsizoyrYC/NTeVzU/ha5cMTGVTErTCpchGzyP15AmSOTkp1s+U8AAXaAYsEsvexBnhYhbzcvWJTXi18mh5wk6CNjk7S69ItJZUtY0+RhsTLcA06XhMpkCmCkMvis6SjvG5TqZm8MN8M+U5jmvSLR8j+iE2lqaWU8Fsm1SVD4Zbs9YXQyTR1EtIgewxjk7vXvI/XIg5S4tEXFKbJH2lBGNMtJcWvKobEy3ANNl6V1PG057tBlyWO4HWu2RQeF5m91K+RVGqG+KJU1yOl2RS7RdEGoDRdKqrDFqRKRcBrFaZL0+IAMM9mGIJISUMSpI6njaT47DH/4MsWpoNIMVsgHoVN7i+TwaRw+xLzPloXb3JTpjhFSLEGIPXXv6WV7gUpHCaUWvwAAOqE2XKerBXIdemWe18eZP8uDUl4H/NZjVTmZJqOEkft4MumXphgnef8pJgRK1HNSAq71T+wiYi62AtPvmi69xFSvAENZVL3nBRZUvFahIRoAkChSF9zU/8knsG3LKKnZoi9iSEpEV0jRW87lFTueDrksth1TkySeQWQqq8KpnVKwXJhwtlWs5KhMq8FSsWwNqViSlvEnU5SKdMCkhpUPUnxNbqm8IVe9si/tFankVQBVWsM80OqJmXEnYnL5RJsRUj92ylYCiknCzlStnKkbOVI2cqRspUjZSuPFGJ/ACAuvTISLwapJ1FgTa8KMhRGV5wUwoNF6rCRTi2cFK7Eq0rVpWKE1DfB64qfXGgclqSQPiGPF9B3/aBk2oKxj4e6h9TjKINSSammJU1Cso7QCXkAkAGH36+RVxx1UB4paRLI53L8LffszkBJbeQdyPsqDqQ6+kKzsCQlxSrVJ1RSvtmqtAQ1r1MK32uqWJtECkU8UCmkkJgWYq6mxGBRYIQk1USaTQkm/Jzgo9oUirJdSd6nv9VIsymkWYRRitXJtwQphBlcrpFIKXcuIykxFXpUQC8piJToJruxalMAIRUPay1dX/Ts34kGKWTwPnUNpdzTMug/avpUqyksBHl3VXGAVItDCluRL/bvRIOUNFv9TdfufeQoW9ZI+VcGnALwgpx/8WCxrI+EGCllycgGrr3xepyaNaTFRbRH8oHnedJnGNMqNMq3vpo/IWfLJ8cWeuynVy6XYCtHylaOlK0cKVs5UrZypGxlQ8pb5cxWWCs3WMK3KsmkpPSUMZ+bLf+3XJRrAuBLzjVUwndOpPzT9fYK+SwjBfwIjB9OziTL0kjpfDSTEaRAJVINkfCdAykx24B8rkfK9/nNlMY8k0CZSIXkc6skFfWE71xJheRzTaT0iN5ACd95JaVmQ0JsSm55FpDyZyzVfK4hogeTQqZvDxtX5lWCOZ87S7yMZDoNC6jQhO8ZIOPKMyCf66upk2q0hG/NpGQUwJ/PDZD8NZ/SPPoJ3/kg5eSTI2UrR8pWjpStHClbOVK2cqRsVU12mKzRQ/9lzGWHvSV5hnzJ7rLD4dlhQD4j55WqvpouO8yOZ9lPgVx2mM3WnB2eRUj8wsVlh8N/7QtOzbxkT+oszg4r7scbueywOXVSKKqVXXbYmB3mqwSXHQ7PDhfE09Ncdthlh+1IySiAyw7bkXLyyZGylSNlK0fKVo6UrRwpWzlStqrqt8MFKetirumyw+RgtgjArMsOW2aHT8247LBddpiRctlhPtugZ0Ew73PZYbYJzg5nxD+Zu+wwAHomT0pcZpD77XAQKSV1cmqm6KvsssOG7LAKymWHA7PDuf8RLyP5YZcddtlhK1IyCuCyw3aknHxypGzlSNnKkbKVI2UrR8pWjpStgkiFLoOQRR2tdtACtXGWW/yZZkEZYf+uKb/pgyMnGNQX5B001kcdYVMhGWF1uvLTOoPTT76kAtCNKPyJs9GTgZTxqd+SOSBt7uGk5Ic4qtYK5M/h0ZdEypgR9mUwRcopPMoggwmqaCtZZdQkxylTRlgNSZ4pmL50CCbldYG0Go0TqxTvM2SE1TfeC8UsN2Oepd/LpNSXbF0NaFOBGWF/+GJT5w0qRXQ1sCElgDWMPYFgmxIZYX/y1xSn/M8F1uKUj5sU0dUeIvWsYTMp8++F1dCuRxx+ttIziLWFFCclOXY0nzVsIFXx6cDSLd8/af8ziE3LL5FgR7ppNoSkTzPmjLCU/PW+4tOXU/oziJX4rwYn3gMCjUuqZp0dzyB2uQRbOVK2cqRs5UjZypGylSPl5OTk5HRW6f929juspdF2kgAAAABJRU5ErkJggg==" width="297" height="155"></p>
<p>运行结果显示发牌操作一定是在所有玩家都入场后才进行。我们将23行的<code>latch.await()</code>注释掉，对比下看看结果。</p>
<p><img alt="img" src="data:image/png;base64,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" width="297" height="160"></p>
<p>可以看到在注释掉<code>latch.await()</code>这行之后，就不能保证在所有玩家入场后才开始发牌了。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/lorchr/light-docusaurus/tree/main/docs/zh-cn/java/4-Java-Concurrent-CountDownlatch.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-Semaphore/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Java-Concurrent-Semaphore</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-CyclicBarrier/"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Java-Concurrent-CyclicBarrier</div></a></nav></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/docs/category/guide/">Torch</a></li><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/middleware/">Middleware</a></li><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/electron/">Electron</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/lorchr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/lorchr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/lorchr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/diy/">DIY</a></li><li class="footer__item"><a href="https://github.com/lorchr/light-docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Offical</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docusaurus.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docusaurus.io/docs/playground" target="_blank" rel="noopener noreferrer" class="footer__link-item">Playground<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Light-Docusaurus, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>