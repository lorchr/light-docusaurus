<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-zh-cn/java/Build-Native-Image-With-GraalVM" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">Build-Native-Image-With-GraalVM | Light Docusaurus</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://lorchr.github.io/light-docusaurus/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://lorchr.github.io/light-docusaurus/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://lorchr.github.io/light-docusaurus/docs/zh-cn/java/Build-Native-Image-With-GraalVM/"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Build-Native-Image-With-GraalVM | Light Docusaurus"><meta data-rh="true" name="description" content="- Dubbo 使用 GraalVM 打包 Native Image"><meta data-rh="true" property="og:description" content="- Dubbo 使用 GraalVM 打包 Native Image"><link data-rh="true" rel="icon" href="/light-docusaurus/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lorchr.github.io/light-docusaurus/docs/zh-cn/java/Build-Native-Image-With-GraalVM/"><link data-rh="true" rel="alternate" href="https://lorchr.github.io/light-docusaurus/docs/zh-cn/java/Build-Native-Image-With-GraalVM/" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://lorchr.github.io/light-docusaurus/docs/zh-cn/java/Build-Native-Image-With-GraalVM/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://TLGHDZ3Y2I-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/light-docusaurus/blog/rss.xml" title="Light Docusaurus RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/light-docusaurus/blog/atom.xml" title="Light Docusaurus Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Light Docusaurus" href="/light-docusaurus/opensearch.xml"><link rel="stylesheet" href="/light-docusaurus/assets/css/styles.10a62360.css">
<script src="/light-docusaurus/assets/js/runtime~main.018e30f2.js" defer="defer"></script>
<script src="/light-docusaurus/assets/js/main.4b4e5c80.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/light-docusaurus/"><div class="navbar__logo"><img src="/light-docusaurus/img/logo.svg" alt="Torch Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/light-docusaurus/img/logo.svg" alt="Torch Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Torch</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/light-docusaurus/docs/category/guide/">Torch</a><a class="navbar__item navbar__link" href="/light-docusaurus/blog/">Blog</a><a class="navbar__item navbar__link" href="/light-docusaurus/middleware/">Middleware</a><a class="navbar__item navbar__link" href="/light-docusaurus/electron/">Electron</a><a class="navbar__item navbar__link" href="/light-docusaurus/postman/">Postman</a><a class="navbar__item navbar__link" href="/light-docusaurus/diy/">DIY</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/light-docusaurus/docs/zh-cn/java/Build-Native-Image-With-GraalVM/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">简体中文</a></li></ul></div><a href="https://github.com/lorchr/light-docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/light-docusaurus/docs/category/guide/">Guide</a><button aria-label="展开侧边栏分类 &#x27;Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/light-docusaurus/docs/category/develop-environment/">Develop Environment</a><button aria-label="展开侧边栏分类 &#x27;Develop Environment&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/light-docusaurus/docs/category/java-jvm/">Java (JVM)</a><button aria-label="折叠侧边栏分类 &#x27;Java (JVM)&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-AbstractQueuedSynchronizer/">Java-Concurrent-AbstractQueuedSynchronizer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-ReentrantLock/">Java-Concurrent-ReentrantLock</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-Semaphore/">Java-Concurrent-Semaphore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-CountDownlatch/">Java-Concurrent-CountDownlatch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-CyclicBarrier/">Java-Concurrent-CyclicBarrier</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-ConcurrentHashMap/">Java-Concurrent-ConcurrentHashMap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Concurrent-ThreadPoolExecutor/">Java-Concurrent-ThreadPoolExecutor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/AbstractQueuedSynchronizer-In-Action/">AbstractQueuedSynchronizer-In-Action</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/CompletableFuture-Getting-Start/">CompletableFuture-Getting-Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/CompletableFuture-Usage/">CompletableFuture-Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/CompletableFuture-In-Action/">CompletableFuture-In-Action</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Bytecode-Toolkit-Javassist/">Bytecode-Toolkit-Javassist</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/GC-Exception-Analysis/">GC-Exception-Analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Instrumentation-JavaAgent/">Java-Instrumentation-JavaAgent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/JVM-Stack-And Heap-Dump/">JVM-Stack-And Heap-Dump</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Http-Client-Skip-Https-Check/">Http-Client-Skip-Https-Check</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Error-Check/">Java-Error-Check</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Agent-1/">Java-Agent-1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Lock/">Java-Lock</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Java-Generic-Type/">Java-Generic-Type</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Build-Native-Image-With-GraalVM/">Build-Native-Image-With-GraalVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/light-docusaurus/docs/zh-cn/java/Garbge-Collect-Algrthim/">Garbge-Collect-Algrthim</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/light-docusaurus/docs/category/spring-boot/">Spring Boot</a><button aria-label="展开侧边栏分类 &#x27;Spring Boot&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/light-docusaurus/docs/category/spring-cloud/">Spring Cloud</a><button aria-label="展开侧边栏分类 &#x27;Spring Cloud&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/light-docusaurus/docs/category/spring-security/">Spring Security</a><button aria-label="展开侧边栏分类 &#x27;Spring Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/light-docusaurus/docs/category/spring-authorization-server/">Spring Authorization Server</a><button aria-label="展开侧边栏分类 &#x27;Spring Authorization Server&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/light-docusaurus/docs/category/active-directory/">Active Directory</a><button aria-label="展开侧边栏分类 &#x27;Active Directory&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/light-docusaurus/docs/category/database/">Database</a><button aria-label="展开侧边栏分类 &#x27;Database&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/light-docusaurus/docs/category/git/">Git</a><button aria-label="展开侧边栏分类 &#x27;Git&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/light-docusaurus/docs/category/linux/">Linux</a><button aria-label="展开侧边栏分类 &#x27;Linux&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/light-docusaurus/docs/category/docker/">Docker</a><button aria-label="展开侧边栏分类 &#x27;Docker&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/light-docusaurus/docs/category/kubernetes/">Kubernetes</a><button aria-label="展开侧边栏分类 &#x27;Kubernetes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/light-docusaurus/docs/category/test/">Test</a><button aria-label="展开侧边栏分类 &#x27;Test&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/light-docusaurus/docs/category/others/">Others</a><button aria-label="展开侧边栏分类 &#x27;Others&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/light-docusaurus/docs/zh-cn/awesome-open-source/">Awesome open source</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/light-docusaurus/docs/zh-cn/windows/">Windows</a></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/light-docusaurus/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/light-docusaurus/docs/category/java-jvm/"><span itemprop="name">Java (JVM)</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Build-Native-Image-With-GraalVM</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Build-Native-Image-With-GraalVM</h1></header><ul>
<li>
<p><a href="https://cn.dubbo.apache.org/zh-cn/docs/references/graalvm/support-graalvm/" target="_blank" rel="noopener noreferrer">Dubbo 使用 GraalVM 打包 Native Image</a></p>
</li>
<li>
<p><a href="https://vlts.cn/post/spring-boot-native-image-demo" target="_blank" rel="noopener noreferrer">SpringBoot3.x原生镜像-Native Image尝鲜</a></p>
</li>
<li>
<p><a href="https://www.cnblogs.com/throwable/p/17644981.html" target="_blank" rel="noopener noreferrer">SpringBoot3.x原生镜像-Native Image实践</a></p>
</li>
<li>
<p><a href="https://zhuanlan.zhihu.com/p/613341871" target="_blank" rel="noopener noreferrer">手把手将你的Java maven项目通过GraalVM打包成windows可执行程序</a></p>
</li>
<li>
<p><a href="https://www.jb51.net/article/273990.htm" target="_blank" rel="noopener noreferrer">Spring Native打包本地镜像的操作方法(无需通过Graal的maven插件buildtools)</a></p>
</li>
<li>
<p><a href="https://www.baeldung.com/spring-native-intro" target="_blank" rel="noopener noreferrer">Native Images with Spring Boot and GraalVM</a></p>
</li>
<li>
<p><a href="https://springdoc.cn/spring-native-intro/" target="_blank" rel="noopener noreferrer">使用 Spring Boot 和 GraalVM 构建原生镜像</a></p>
</li>
<li>
<p><a href="https://www.graalvm.org/downloads/#" target="_blank" rel="noopener noreferrer">GraalVM Downloads</a></p>
</li>
<li>
<p><a href="https://github.com/graalvm/graalvm-ce-builds/releases" target="_blank" rel="noopener noreferrer">GraalVM Community Edition</a></p>
</li>
<li>
<p><a href="https://www.graalvm.org/docs/getting-started/container-images/" target="_blank" rel="noopener noreferrer">GraalVM Getting Start</a></p>
</li>
<li>
<p><a href="https://graalvm.github.io/native-build-tools/latest/maven-plugin.html" target="_blank" rel="noopener noreferrer">Maven plugin for GraalVM Native Image building</a></p>
</li>
<li>
<p><a href="https://docs.oracle.com/en/graalvm/enterprise/21/docs/getting-started" target="_blank" rel="noopener noreferrer">Oracle GraalVM Document</a></p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-native/docs/current/reference/htmlsingle/" target="_blank" rel="noopener noreferrer">Spring Native GraalVM Native Image Support</a></p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-native/docs/0.12.x/reference/htmlsingle/#_with_code_native_image_code" target="_blank" rel="noopener noreferrer">With native-image</a></p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html" target="_blank" rel="noopener noreferrer">Spring Boot GraalVM Native Image Support</a></p>
</li>
<li>
<p><a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-with-GraalVM" target="_blank" rel="noopener noreferrer">Spring-Boot-with-GraalVM</a></p>
</li>
<li>
<p><a href="https://github.com/graalvm/native-build-tools/tree/master/samples" target="_blank" rel="noopener noreferrer">GraalVM Spring Boot Samples</a></p>
</li>
<li>
<p><a href="https://sdkman.io/" target="_blank" rel="noopener noreferrer">SDKMan</a></p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="一准备">一、准备<a href="#一准备" class="hash-link" aria-label="一、准备的直接链接" title="一、准备的直接链接">​</a></h2>
<table><thead><tr><th>组件</th><th>版本</th><th>备注</th></tr></thead><tbody><tr><td>Maven</td><td>3.9.6</td><td></td></tr><tr><td>Jdk</td><td>graalvm-openjdk-21</td><td></td></tr><tr><td>Spring Boot</td><td>3.2.2</td><td></td></tr><tr><td>sdkman</td><td>5.18.2</td><td>JDK和各类SDK包管理工具</td></tr><tr><td>Liberica Native Image Kit</td><td>23.1.2.r21-nik</td><td>可以构建Native Image的JDK</td></tr><tr><td>Visual Studio</td><td>2022</td><td>Windows环境需要 x64 Native Tools Command Prompt for VS 2022 来打包NativeImage</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-安装-sdkman">1. 安装 SDKMan<a href="#1-安装-sdkman" class="hash-link" aria-label="1. 安装 SDKMan的直接链接" title="1. 安装 SDKMan的直接链接">​</a></h3>
<ol>
<li>安装SDKMan</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -s &quot;https://get.sdkman.io&quot; | bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 验证sdkman版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sdk version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SDKMAN!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">script: 5.18.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">native: 0.4.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>SDKMan命令示例</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 可以通过sdk list java查看支持的JDK发行版本：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sdk list java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 通过shell命令 sdk install java $Identifier 就可以安装对应的JDK发行版。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sdk install java 17.0.8-graalce</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 通过shell命令 sdk uninstall java $Identifier 可以卸载对应的JDK发行版。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sdk uninstall java 17.0.8-graalce</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 通过shell命令 sdk default java $Identifier去 指定默认使用的JDK版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sdk default java 17.0.8-graalce</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 通过shell命令 sdk current 或者 sdk current java 查看当前正在使用的SDK或者JDK版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sdk current java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-sdkman-安装-liberica-nik">2. SDKMan 安装 Liberica NIK<a href="#2-sdkman-安装-liberica-nik" class="hash-link" aria-label="2. SDKMan 安装 Liberica NIK的直接链接" title="2. SDKMan 安装 Liberica NIK的直接链接">​</a></h3>
<p><code>Liberica Native Image Kit</code>是bellsoft出品的旨在创建高性能原生二进制（Native Binaries）基于JVM编写的应用的工具包，简称为<code>Liberica NIK</code>。<code>Liberica NIK</code>本质就是把OpenJDK和多种其他工具包一起封装起来的JDK发行版，在Native Image功能应用过程，可以简单把它视为<code>OpenJDK + GraalVM</code>的结合体。可以通过<code>sdk list java</code>查看相应的JDK版本：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sdk list java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sdk install java 23.1.2.r21-nik</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 这里最好把此JDK设置为当前系统的默认JDK，否则后面编译镜像时候会提示找不到GraalVM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sdk default java 23.1.2.r21-nik</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 验证jdk版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">java -version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openjdk version &quot;21.0.2&quot; 2024-01-16 LTS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OpenJDK Runtime Environment Liberica-NIK-23.1.2-1 (build 21.0.2+14-LTS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OpenJDK 64-Bit Server VM Liberica-NIK-23.1.2-1 (build 21.0.2+14-LTS, mixed mode, sharing)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 通过sdkman验证</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sdk current java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using java version 23.1.2.r21-nik</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-sdkman-安装-maven">3. SDKMan 安装 Maven<a href="#3-sdkman-安装-maven" class="hash-link" aria-label="3. SDKMan 安装 Maven的直接链接" title="3. SDKMan 安装 Maven的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sdk list maven</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sdk install maven 3.9.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sdk current maven</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">maven -version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="二编码">二、编码<a href="#二编码" class="hash-link" aria-label="二、编码的直接链接" title="二、编码的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-pomxml">1. pom.xml<a href="#1-pomxml" class="hash-link" aria-label="1. pom.xml的直接链接" title="1. pom.xml的直接链接">​</a></h3>
<p>基于Maven新建一个SpringBoot应用，这里已经整理好了一份POM文件，实践过程可以直接用，如下：</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">project</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">xmlns</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://maven.apache.org/POM/4.0.0</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xmlns:</span><span class="token tag attr-name" style="color:#00a4db">xsi</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://www.w3.org/2001/XMLSchema-instance</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">	</span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xsi:</span><span class="token tag attr-name" style="color:#00a4db">schemaLocation</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">modelVersion</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">4.0.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">modelVersion</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">parent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.springframework.boot</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">spring-boot-starter-parent</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">3.2.4</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">relativePath</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- lookup parent from repository --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">parent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.light</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">native-image-demo</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.0.1-SNAPSHOT</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">native-image-demo</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">description</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Demo project for Spring Boot</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">description</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">properties</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">java.version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">21</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">java.version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">maven.compiler.source</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">21</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">maven.compiler.source</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">maven.compiler.target</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">21</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">maven.compiler.target</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">project.build.sourceEncoding</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">UTF-8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">project.build.sourceEncoding</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">properties</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependencies</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.springframework.boot</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">spring-boot-starter-web</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">exclusions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">exclusion</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">					</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.tomcat.embed</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">					</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">tomcat-embed-core</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">exclusion</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">exclusion</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">					</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.tomcat.embed</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">					</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">tomcat-embed-websocket</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">exclusion</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">exclusions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.tomcat.experimental</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">tomcat-embed-programmatic</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">10.1.19</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.springframework.boot</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">spring-boot-starter-test</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">scope</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">test</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">scope</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependencies</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">build</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugins</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">maven-compiler-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.maven.plugins</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">					</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">source</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${maven.compiler.source}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">source</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">					</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">target</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${maven.compiler.target}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">target</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">					</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">encoding</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${project.build.sourceEncoding}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">encoding</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.maven.plugins</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">maven-install-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.graalvm.buildtools</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">native-maven-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">					</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">imageName</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">native-image-demo</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">imageName</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.springframework.boot</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">spring-boot-maven-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">executions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">					</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">execution</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">						</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">goals</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">							</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">goal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">repackage</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">goal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">						</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">goals</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">					</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">execution</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">executions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">					</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mainClass</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.light.nativeimage.NativeImageApplication</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">mainClass</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugins</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">build</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">project</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这里把Maven的所有插件都提升到当前最新版本，原生镜像打包的关 键插件是<code>native-maven-plugin</code>，此插件是跟随<code>spring-boot-starter-parent</code>进行版本管理，这里无须指定插件的版本。另外，<code>tomcat-embed-programmatic</code> 是一个实验性依赖，可以降低嵌入式Tomcat的内存使用，在生产中应用时候可以暂不启用此特性。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-启动类-comlightnativeimagenativeimageapplication">2. 启动类 com.light.nativeimage.NativeImageApplication<a href="#2-启动类-comlightnativeimagenativeimageapplication" class="hash-link" aria-label="2. 启动类 com.light.nativeimage.NativeImageApplication的直接链接" title="2. 启动类 com.light.nativeimage.NativeImageApplication的直接链接">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package com.light.nativeimage;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.boot.SpringApplication;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.boot.autoconfigure.SpringBootApplication;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.http.ResponseEntity;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.web.bind.annotation.RequestMapping;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.web.bind.annotation.RestController;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@RestController</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@SpringBootApplication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class NativeImageApplication {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		SpringApplication.run(NativeImageApplication.class, args);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	@RequestMapping(path = &quot;/&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	public ResponseEntity&lt;String&gt; index() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		return ResponseEntity.ok(&quot;index&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="三构建测试与发布在wsl-ubuntu执行">三、构建、测试与发布(在WSL Ubuntu执行)<a href="#三构建测试与发布在wsl-ubuntu执行" class="hash-link" aria-label="三、构建、测试与发布(在WSL Ubuntu执行)的直接链接" title="三、构建、测试与发布(在WSL Ubuntu执行)的直接链接">​</a></h2>
<p>三个操作的Maven命令分别是：</p>
<ul>
<li>构建：<code>mvn -Pnative native:compile</code></li>
<li>测试：<code>mvn -PnativeTest test</code></li>
<li>发布：<code>mvn -Pnative spring-boot:build-image</code>，注意此命令会打包镜像并且发布到Docker的官方仓库中</li>
</ul>
<blockquote>
<p>虽然 <code>native:compile</code> 命令表面意义是编译，但是实际上它就是构建原生镜像的命令</p>
</blockquote>
<p>执行构建流程：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mvn -Pnative native:compile -Dmaven.test.skip=true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>构建结果如下：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] --- native:0.9.28:compile (default-cli) @ native-image-demo ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] Found GraalVM installation from PATH variable.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [graalvm reachability metadata repository for ch.qos.logback:logback-classic:1.4.14]: Configuration directory not found. Trying latest version.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [graalvm reachability metadata repository for ch.qos.logback:logback-classic:1.4.14]: Configuration directory is ch.qos.logback/logback-classic/1.4.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [graalvm reachability metadata repository for com.fasterxml.jackson.core:jackson-databind:2.15.4]: Configuration directory not found. Trying latest version.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [graalvm reachability metadata repository for com.fasterxml.jackson.core:jackson-databind:2.15.4]: Configuration directory is com.fasterxml.jackson.core/jackson-databind/2.15.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[WARNING] Properties file at &#x27;jar:file:///home/light/.m2/repository/org/apache/tomcat/experimental/tomcat-embed-programmatic/10.1.19/tomcat-embed-programmatic-10.1.19.jar!/META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-programmatic/native-image.properties&#x27; does not match the recommended &#x27;META-INF/native-image/org.apache.tomcat.experimental/tomcat-embed-programmatic/native-image.properties&#x27; layout.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] Executing: /home/light/.sdkman/candidates/java/current/bin/native-image -cp /home/light/native-image/native-image-demo/target/classes:/home/light/.m2/repository/org/springframework/boot/spring-boot-starter-web/3.2.4/spring-boot-starter-web-3.2.4.jar:/home/light/.m2/repository/org/springframework/boot/spring-boot-starter/3.2.4/spring-boot-starter-3.2.4.jar:/home/light/.m2/repository/org/springframework/boot/spring-boot/3.2.4/spring-boot-3.2.4.jar:/home/light/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/3.2.4/spring-boot-autoconfigure-3.2.4.jar:/home/light/.m2/repository/org/springframework/boot/spring-boot-starter-logging/3.2.4/spring-boot-starter-logging-3.2.4.jar:/home/light/.m2/repository/ch/qos/logback/logback-classic/1.4.14/logback-classic-1.4.14.jar:/home/light/.m2/repository/ch/qos/logback/logback-core/1.4.14/logback-core-1.4.14.jar:/home/light/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.21.1/log4j-to-slf4j-2.21.1.jar:/home/light/.m2/repository/org/apache/logging/log4j/log4j-api/2.21.1/log4j-api-2.21.1.jar:/home/light/.m2/repository/org/slf4j/jul-to-slf4j/2.0.12/jul-to-slf4j-2.0.12.jar:/home/light/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar:/home/light/.m2/repository/org/yaml/snakeyaml/2.2/snakeyaml-2.2.jar:/home/light/.m2/repository/org/springframework/boot/spring-boot-starter-json/3.2.4/spring-boot-starter-json-3.2.4.jar:/home/light/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.15.4/jackson-databind-2.15.4.jar:/home/light/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.15.4/jackson-annotations-2.15.4.jar:/home/light/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.15.4/jackson-core-2.15.4.jar:/home/light/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.15.4/jackson-datatype-jdk8-2.15.4.jar:/home/light/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.15.4/jackson-datatype-jsr310-2.15.4.jar:/home/light/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.15.4/jackson-module-parameter-names-2.15.4.jar:/home/light/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/3.2.4/spring-boot-starter-tomcat-3.2.4.jar:/home/light/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/10.1.19/tomcat-embed-el-10.1.19.jar:/home/light/.m2/repository/org/springframework/spring-web/6.1.5/spring-web-6.1.5.jar:/home/light/.m2/repository/org/springframework/spring-beans/6.1.5/spring-beans-6.1.5.jar:/home/light/.m2/repository/io/micrometer/micrometer-observation/1.12.4/micrometer-observation-1.12.4.jar:/home/light/.m2/repository/io/micrometer/micrometer-commons/1.12.4/micrometer-commons-1.12.4.jar:/home/light/.m2/repository/org/springframework/spring-webmvc/6.1.5/spring-webmvc-6.1.5.jar:/home/light/.m2/repository/org/springframework/spring-aop/6.1.5/spring-aop-6.1.5.jar:/home/light/.m2/repository/org/springframework/spring-context/6.1.5/spring-context-6.1.5.jar:/home/light/.m2/repository/org/springframework/spring-expression/6.1.5/spring-expression-6.1.5.jar:/home/light/.m2/repository/org/apache/tomcat/experimental/tomcat-embed-programmatic/10.1.19/tomcat-embed-programmatic-10.1.19.jar:/home/light/.m2/repository/org/slf4j/slf4j-api/2.0.12/slf4j-api-2.0.12.jar:/home/light/.m2/repository/org/springframework/spring-core/6.1.5/spring-core-6.1.5.jar:/home/light/.m2/repository/org/springframework/spring-jcl/6.1.5/spring-jcl-6.1.5.jar --no-fallback -o /home/light/native-image/native-image-demo/target/native-image-demo -H:ConfigurationFileDirectories=/home/light/native-image/native-image-demo/target/graalvm-reachability-metadata/5bb38a8addd4b99611ab251c3c0db9044a99ab58/com.fasterxml.jackson.core/jackson-databind/2.15.2,/home/light/native-image/native-image-demo/target/graalvm-reachability-metadata/5bb38a8addd4b99611ab251c3c0db9044a99ab58/ch.qos.logback/logback-classic/1.4.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Warning: The option &#x27;-H:ResourceConfigurationResources=META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-programmatic/tomcat-resource.json&#x27; is experimental and must be enabled via &#x27;-H:+UnlockExperimentalVMOptions&#x27; in the future.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Warning: The option &#x27;-H:ReflectionConfigurationResources=META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-programmatic/tomcat-reflection.json&#x27; is experimental and must be enabled via &#x27;-H:+UnlockExperimentalVMOptions&#x27; in the future.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Warning: The option &#x27;-H:ReflectionConfigurationResources=META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-el/tomcat-reflection.json&#x27; is experimental and must be enabled via &#x27;-H:+UnlockExperimentalVMOptions&#x27; in the future.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Warning: The option &#x27;-H:ResourceConfigurationResources=META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-el/tomcat-resource.json&#x27; is experimental and must be enabled via &#x27;-H:+UnlockExperimentalVMOptions&#x27; in the future.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Warning: Please re-evaluate whether any experimental option is required, and either remove or unlock it. The build output lists all active experimental options, including where they come from and possible alternatives. If you think an experimental option should be considered as stable, please file an issue.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">========================================================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GraalVM Native Image: Generating &#x27;native-image-demo&#x27; (executable)...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">========================================================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1/8] Initializing...                                                                                    (3.7s @ 0.17GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Java version: 21.0.2+14-LTS, vendor version: Liberica-NIK-23.1.2-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Graal compiler: optimization level: 2, target machine: x86-64-v3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> C compiler: gcc (linux, x86_64, 11.4.0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Garbage collector: Serial GC (max heap size: 80% of RAM)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2 user-specific feature(s):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> - com.oracle.svm.thirdparty.gson.GsonFeature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> - org.springframework.aot.nativex.feature.PreComputeFieldFeature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2 experimental option(s) unlocked:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> - &#x27;-H:ResourceConfigurationResources&#x27; (origin(s): &#x27;META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-el/native-image.properties&#x27; in &#x27;file:///home/light/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/10.1.19/tomcat-embed-el-10.1.19.jar&#x27;, &#x27;META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-programmatic/native-image.properties&#x27; in &#x27;file:///home/light/.m2/repository/org/apache/tomcat/experimental/tomcat-embed-programmatic/10.1.19/tomcat-embed-programmatic-10.1.19.jar&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> - &#x27;-H:ReflectionConfigurationResources&#x27; (origin(s): &#x27;META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-el/native-image.properties&#x27; in &#x27;file:///home/light/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/10.1.19/tomcat-embed-el-10.1.19.jar&#x27;, &#x27;META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-programmatic/native-image.properties&#x27; in &#x27;file:///home/light/.m2/repository/org/apache/tomcat/experimental/tomcat-embed-programmatic/10.1.19/tomcat-embed-programmatic-10.1.19.jar&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Build resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> - 8.84GB of memory (75.6% of 11.69GB system memory, determined at start)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> - 20 thread(s) (100.0% of 20 available processor(s), determined at start)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SLF4J(W): No SLF4J providers were found.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SLF4J(W): Defaulting to no-operation (NOP) logger implementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SLF4J(W): See https://www.slf4j.org/codes.html#noProviders for further details.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2/8] Performing analysis...  [******]                                                                 (126.9s @ 2.36GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GC warning: 91.0s spent in 25 GCs during the last stage, taking up 71.60% of the time.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Please ensure more than 4.80GB of memory is available for Native Image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            to reduce GC overhead and improve image build time.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   16,213 reachable types   (89.3% of   18,150 total)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   24,547 reachable fields  (64.6% of   37,984 total)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   77,251 reachable methods (62.0% of  124,676 total)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5,127 types,   544 fields, and 5,506 methods registered for reflection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       62 types,    63 fields, and    55 methods registered for JNI access</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        4 native libraries: dl, pthread, rt, z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[3/8] Building universe...                                                                               (4.5s @ 2.30GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[4/8] Parsing methods...      [**]                                                                       (3.4s @ 1.85GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[5/8] Inlining methods...     [****]                                                                    (11.6s @ 1.44GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[6/8] Compiling methods...    [*******]                                                                 (53.6s @ 3.05GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[7/8] Layouting methods...    [*******]                                                                 (50.0s @ 1.40GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GC warning: 45.8s spent in 2 GCs during the last stage, taking up 91.68% of the time.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Please ensure more than 5.19GB of memory is available for Native Image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            to reduce GC overhead and improve image build time.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[8/8] Creating image...       [*********]                                                               (86.4s @ 2.08GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  37.01MB (47.35%) for code area:    49,258 compilation units</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  38.32MB (49.03%) for image heap:  402,774 objects and 298 resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2.83MB ( 3.62%) for other data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  78.16MB in total</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Top 10 origins of code area:                                Top 10 object types in image heap:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  13.94MB java.base                                           11.16MB byte[] for code metadata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   3.72MB java.xml                                             5.56MB byte[] for java.lang.String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   3.39MB tomcat-embed-programmatic-10.1.19.jar                3.87MB java.lang.Class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   1.99MB jackson-databind-2.15.4.jar                          3.77MB java.lang.String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   1.53MB spring-core-6.1.5.jar                                1.87MB byte[] for embedded resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   1.47MB svm.jar (Native Image)                               1.36MB com.oracle.svm.core.hub.DynamicHubCompanion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   1.38MB spring-boot-3.2.4.jar                              991.58kB byte[] for reflection metadata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 938.27kB spring-beans-6.1.5.jar                             937.96kB byte[] for general heap data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 927.88kB spring-web-6.1.5.jar                               779.31kB java.lang.String[]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 884.53kB spring-webmvc-6.1.5.jar                            608.72kB java.util.HashMap$Node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   6.57MB for 67 more packages                                 7.49MB for 3514 more object types</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Warning: The log4j library has been detected, but the version is unavailable. Due to Log4Shell, please ensure log4j is at version 2.17.1 or later.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Recommendations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> INIT: Adopt &#x27;--strict-image-heap&#x27; to prepare for the next GraalVM release.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> HEAP: Set max heap for improved and more predictable memory usage.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> CPU:  Enable more CPU features with &#x27;-march=native&#x27; for improved performance.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                       155.9s (45.7% of total time) in 62 GCs | Peak RSS: 5.24GB | CPU load: 8.13</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Produced artifacts:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> /home/light/native-image/native-image-demo/target/native-image-demo (executable)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">========================================================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Finished generating &#x27;native-image-demo&#x27; in 5m 41s.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] ------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] BUILD SUCCESS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] ------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] Total time:  09:03 min</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] Finished at: 2024-04-08T11:53:25+08:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] ------------------------------------------------------------------------</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>target目录结果：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tree -L 1 ./target/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./target/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── classes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── generated-sources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── graalvm-reachability-metadata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── maven-archiver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── maven-status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── native-image-demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── native-image-demo-0.0.1-SNAPSHOT.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── native-image-demo-0.0.1-SNAPSHOT.jar.original</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── spring-aot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>其中这个不带<code>.jar</code>后缀的就是最终的原生镜像，并且Native Image是不支持跨平台的，它只能在ARM架构的macOS中运行（受限于笔者的编译环境）。可以发现它（见上图中的<code>target/native-image-demo</code>，它是一个二进制执行文件）的体积比<code>executable jar</code>大好几倍。参照SpringBoot的官方文档，经过AOT编译的SpringBoot应用会生成下面的文件：</p>
<ul>
<li>Java源代码</li>
<li>字节码（例如动态代理编译后的产物等）</li>
<li>GraalVM识别的提示文件：<!-- -->
<ul>
<li>资源提示文件（resource-config.json）</li>
<li>反射提示文件（reflect-config.json）</li>
<li>序列化提示文件（serialization-config.json）</li>
<li>Java（动态）代理提示文件（proxy-config.json）</li>
<li>JNI提示文件（jni-config.json）</li>
</ul>
</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tree ./spring-aot/main/resources/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./spring-aot/main/resources/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── META-INF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── native-image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └── com.light</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            └── native-image-demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ├── native-image.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ├── reflect-config.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                └── resource-config.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这里的输出非执行包产物基本都在<code>target/spring-aot</code>目录下，其他非Spring或者项目源代码相关的产物输出到<code>graalvm-reachability-metadata</code>目录中。最后可以验证一下产出的Native Image：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./target/native-image-demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .   ____          _            __ _ _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> /\\ / ___&#x27;_ __ _ _(_)_ __  __ _ \ \ \ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">( ( )\___ | &#x27;_ | &#x27;_| | &#x27;_ \/ _` | \ \ \ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> \\/  ___)| |_)| | | | | || (_| |  ) ) ) )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;  |____| .__|_| |_|_| |_\__, | / / / /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =========|_|==============|___/=/_/_/_/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> :: Spring Boot ::                (v3.2.4)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-04-08T11:54:49.344+08:00  INFO 2944 --- [native-image-demo] [           main] c.l.nativeimage.NativeImageApplication   : Starting AOT-processed NativeImageApplication using Java 21.0.2 with PID 2944 (/home/light/native-image/native-image-demo/target/native-image-demo started by light in /home/light/native-image/native-image-demo)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-04-08T11:54:49.344+08:00  INFO 2944 --- [native-image-demo] [           main] c.l.nativeimage.NativeImageApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-04-08T11:54:49.351+08:00  INFO 2944 --- [native-image-demo] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-04-08T11:54:49.351+08:00  INFO 2944 --- [native-image-demo] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-04-08T11:54:49.351+08:00  INFO 2944 --- [native-image-demo] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-04-08T11:54:49.355+08:00  INFO 2944 --- [native-image-demo] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-04-08T11:54:49.355+08:00  INFO 2944 --- [native-image-demo] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-04-08T11:54:49.371+08:00  INFO 2944 --- [native-image-demo] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path &#x27;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-04-08T11:54:49.371+08:00  INFO 2944 --- [native-image-demo] [           main] c.l.nativeimage.NativeImageApplication   : Started NativeImageApplication in 0.034 seconds (process running for 0.037)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 测试接口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET &#x27;http://localhost:8080/&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">index</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可以看到启动速度达到惊人的毫秒级别，如果应用在生产中应该可以全天候近乎无损发布。当然，理论上Native Image性能也会大幅度提升，但是限于篇幅这里暂时不进行性能测试。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="四windows打包native-image">四、Windows打包Native Image<a href="#四windows打包native-image" class="hash-link" aria-label="四、Windows打包Native Image的直接链接" title="四、Windows打包Native Image的直接链接">​</a></h2>
<ul>
<li><a href="https://www.graalvm.org/latest/docs/getting-started/windows/" target="_blank" rel="noopener noreferrer">Installation on Windows Platforms</a></li>
</ul>
<p>对于Windows系统，需要安装<a href="https://github.com/graalvm/graalvm-ce-builds/releases" target="_blank" rel="noopener noreferrer">GraalVM JDK</a>和<a href="https://visualstudio.microsoft.com/zh-hans/" target="_blank" rel="noopener noreferrer">Visual Studio</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-安装-graalvm-sdk">1. 安装 GraalVM SDK<a href="#1-安装-graalvm-sdk" class="hash-link" aria-label="1. 安装 GraalVM SDK的直接链接" title="1. 安装 GraalVM SDK的直接链接">​</a></h3>
<ol>
<li>
<p>下载<a href="https://github.com/graalvm/graalvm-ce-builds/releases" target="_blank" rel="noopener noreferrer">GraalVM Openjdk 21</a>安装包</p>
</li>
<li>
<p>解压到指定目录并设置环境变量</p>
</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">JAVA_HOME=D:/Develop/jdk/graalvm-openjdk-21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GRAALVM_HOME=D:/Develop/jdk/graalvm-openjdk-21</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>测试</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PS D:\Workspace\Github\sas-sample&gt; java -version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openjdk version &quot;21.0.2&quot; 2024-01-16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OpenJDK Runtime Environment GraalVM CE 21.0.2+13.1 (build 21.0.2+13-jvmci-23.1-b30)                  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OpenJDK 64-Bit Server VM GraalVM CE 21.0.2+13.1 (build 21.0.2+13-jvmci-23.1-b30, mixed mode, sharing)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-安装-visual-studio">2. 安装 Visual Studio<a href="#2-安装-visual-studio" class="hash-link" aria-label="2. 安装 Visual Studio的直接链接" title="2. 安装 Visual Studio的直接链接">​</a></h3>
<ol>
<li>
<p>下载<a href="https://aka.ms/vs/17/release/vs_BuildTools.exe" target="_blank" rel="noopener noreferrer">Visual Studio BuildTools</a>  <a href="https://visualstudio.microsoft.com/zh-hans/" target="_blank" rel="noopener noreferrer">Visual Studio</a></p>
<ul>
<li><a href="https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/?sku=BuildTools&amp;rel=16" target="_blank" rel="noopener noreferrer">VS 2019 BuildTools</a></li>
<li><a href="https://aka.ms/vs/17/release/vs_BuildTools.exe" target="_blank" rel="noopener noreferrer">VS 2022 BuildTools</a></li>
<li><a href="https://visualstudio.microsoft.com/zh-hans/" target="_blank" rel="noopener noreferrer">Visual Studio</a></li>
</ul>
</li>
<li>
<p>双击安装 Visual Studio BuildTools</p>
</li>
<li>
<p>在主窗口勾选 <code>Desktop development with C++</code>，在侧边栏勾选 <code>Windows 10 SDK</code>，点击安装</p>
</li>
<li>
<p>重启电脑，打开 <code>Visual Studio Installer</code>，在 <code>Installed</code> Tab页点击 <code>Modify</code>，</p>
</li>
<li>
<p>选择 <code>Individual Components</code>，滚动滚轮到下面，确认<code>Windows 10 SDK</code>已安装，并确认 <code>Build Tools</code> 已安装</p>
</li>
<li>
<p>选择 <code>Language</code>，去掉中文，勾选英文</p>
</li>
<li>
<p>配置环境变量</p>
</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MSVC = C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Tools\MSVC\14.39.33519</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WK10_INCLUDE = C:\Program Files (x86)\Windows Kits\10\Include\10.0.20348.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WK10_LIB = C:\Program Files (x86)\Windows Kits\10\Lib\10.0.20348.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## 变量值必须为INCLUDE和LIB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INCLUDE = %WK10_INCLUDE%\ucrt;%WK10_INCLUDE%\um;%WK10_INCLUDE%\shared;%MSVC%\include</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LIB = %WK10_LIB%\um\x64;%WK10_LIB%\ucrt\x64;%MSVC%\lib\x64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 添加path中指定 MSVC cl.exe路径（X86架构的操作系统，32位，请根据实际情况选择）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Tools\MSVC\14.39.33519\bin\Hostx86\x86</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 添加path中指定 MSVC cl.exe路径（X64架构的操作系统，64位，请根据实际情况选择）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Tools\MSVC\14.39.33519\bin\Hostx64\x64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-测试">3. 测试<a href="#3-测试" class="hash-link" aria-label="3. 测试的直接链接" title="3. 测试的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mvn -Pnative native:compile -Dmaven.test.skip=true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] --- native-maven-plugin:0.9.28:compile (default-cli) @ native-image-demo ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] Found GraalVM installation from GRAALVM_HOME variable.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [graalvm reachability metadata repository for ch.qos.logback:logback-classic:1.4.14]: Configuration directory not found. Trying latest version.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [graalvm reachability metadata repository for ch.qos.logback:logback-classic:1.4.14]: Configuration directory is ch.qos.logback\logback-classic\1.4.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [graalvm reachability metadata repository for com.fasterxml.jackson.core:jackson-databind:2.15.4]: Configuration directory not found. Trying latest version.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [graalvm reachability metadata repository for com.fasterxml.jackson.core:jackson-databind:2.15.4]: Configuration directory is com.fasterxml.jackson.core\jackson-databind\2.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[WARNING] Properties file at &#x27;jar:file:///D:/Develop/repository/org/apache/tomcat/experimental/tomcat-embed-programmatic/10.1.19/tomcat-embed-programmatic-10.1.19.jar!/META-INF/nat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ive-image/org.apache.tomcat.embed/tomcat-embed-programmatic/native-image.properties&#x27; does not match the recommended &#x27;META-INF/native-image/org.apache.tomcat.experimental/tomcat-emb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ed-programmatic/native-image.properties&#x27; layout.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] Executing: D:\Develop\jdk\graalvm-openjdk-21\bin\native-image.cmd @target\tmp\native-image-17407776575462253203.args</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Warning: The option &#x27;-H:ResourceConfigurationResources=META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-programmatic/tomcat-resource.json&#x27; is experimental and must be ena</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bled via &#x27;-H:+UnlockExperimentalVMOptions&#x27; in the future.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Warning: The option &#x27;-H:ReflectionConfigurationResources=META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-programmatic/tomcat-reflection.json&#x27; is experimental and must be</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> enabled via &#x27;-H:+UnlockExperimentalVMOptions&#x27; in the future.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Warning: The option &#x27;-H:ReflectionConfigurationResources=META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-el/tomcat-reflection.json&#x27; is experimental and must be enabled v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ia &#x27;-H:+UnlockExperimentalVMOptions&#x27; in the future.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Warning: The option &#x27;-H:ResourceConfigurationResources=META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-el/tomcat-resource.json&#x27; is experimental and must be enabled via &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H:+UnlockExperimentalVMOptions&#x27; in the future.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Warning: Please re-evaluate whether any experimental option is required, and either remove or unlock it. The build output lists all active experimental options, including where the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y come from and possible alternatives. If you think an experimental option should be considered as stable, please file an issue.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">========================================================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GraalVM Native Image: Generating &#x27;native-image-demo&#x27; (executable)...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">========================================================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For detailed information and explanations on the build output, visit:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/BuildOutput.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1/8] Initializing...                                                                                    (5.7s @ 0.12GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Java version: 21.0.2+13, vendor version: GraalVM CE 21.0.2+13.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Graal compiler: optimization level: 2, target machine: x86-64-v3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> C compiler: cl.exe (microsoft, x64, 19.39.33523)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Garbage collector: Serial GC (max heap size: 80% of RAM)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2 user-specific feature(s):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> - com.oracle.svm.thirdparty.gson.GsonFeature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> - org.springframework.aot.nativex.feature.PreComputeFieldFeature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2 experimental option(s) unlocked:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> - &#x27;-H:ResourceConfigurationResources&#x27; (origin(s): &#x27;META-INF\native-image\org.apache.tomcat.embed\tomcat-embed-el\native-image.properties&#x27; in &#x27;file:///D:/Develop/repository/org/apa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">che/tomcat/embed/tomcat-embed-el/10.1.19/tomcat-embed-el-10.1.19.jar&#x27;, &#x27;META-INF\native-image\org.apache.tomcat.embed\tomcat-embed-programmatic\native-image.properties&#x27; in &#x27;file://</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/D:/Develop/repository/org/apache/tomcat/experimental/tomcat-embed-programmatic/10.1.19/tomcat-embed-programmatic-10.1.19.jar&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> - &#x27;-H:ReflectionConfigurationResources&#x27; (origin(s): &#x27;META-INF\native-image\org.apache.tomcat.embed\tomcat-embed-el\native-image.properties&#x27; in &#x27;file:///D:/Develop/repository/org/a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pache/tomcat/embed/tomcat-embed-el/10.1.19/tomcat-embed-el-10.1.19.jar&#x27;, &#x27;META-INF\native-image\org.apache.tomcat.embed\tomcat-embed-programmatic\native-image.properties&#x27; in &#x27;file:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">///D:/Develop/repository/org/apache/tomcat/experimental/tomcat-embed-programmatic/10.1.19/tomcat-embed-programmatic-10.1.19.jar&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Build resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> - 11.86GB of memory (75.6% of 15.69GB system memory, determined at start)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> - 20 thread(s) (100.0% of 20 available processor(s), determined at start)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SLF4J(W): No SLF4J providers were found.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SLF4J(W): Defaulting to no-operation (NOP) logger implementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SLF4J(W): See https://www.slf4j.org/codes.html#noProviders for further details.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2/8] Performing analysis...  [******]                                                                  (39.8s @ 1.55GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   16,163 reachable types   (89.8% of   17,994 total)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   24,546 reachable fields  (64.8% of   37,895 total)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   77,299 reachable methods (62.2% of  124,237 total)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5,182 types,   539 fields, and 5,523 methods registered for reflection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       77 types,    58 fields, and    68 methods registered for JNI access</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        5 native libraries: crypt32, ncrypt, psapi, version, winhttp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[3/8] Building universe...                                                                              (11.6s @ 1.59GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[4/8] Parsing methods...      [**]                                                                       (4.3s @ 1.51GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[5/8] Inlining methods...     [****]                                                                     (4.2s @ 0.88GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[6/8] Compiling methods...    [*****]                                                                   (26.3s @ 2.23GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[7/8] Layouting methods...    [***]                                                                      (7.7s @ 3.16GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[8/8] Creating image...       [**]                                                                       (4.9s @ 1.58GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  37.55MB (50.52%) for code area:    49,338 compilation units</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  36.35MB (48.91%) for image heap:  385,481 objects and 268 resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 437.30kB ( 0.57%) for other data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  74.33MB in total</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Top 10 origins of code area:                                Top 10 object types in image heap:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  14.04MB java.base                                           11.21MB byte[] for code metadata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   3.75MB java.xml                                             5.43MB byte[] for java.lang.String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   3.43MB tomcat-embed-programmatic-10.1.19.jar                3.86MB java.lang.Class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2.00MB jackson-databind-2.15.4.jar                          3.66MB java.lang.String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   1.58MB svm.jar (Native Image)                               1.36MB com.oracle.svm.core.hub.DynamicHubCompanion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   1.54MB spring-core-6.1.5.jar                                1.09MB byte[] for embedded resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   1.39MB spring-boot-3.2.4.jar                              992.34kB byte[] for reflection metadata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 945.83kB spring-beans-6.1.5.jar                             864.41kB byte[] for general heap data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 936.29kB spring-web-6.1.5.jar                               753.84kB java.lang.String[]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 891.22kB spring-webmvc-6.1.5.jar                            579.38kB c.o.svm.core.hub.DynamicHub$ReflectionMetadata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   6.76MB for 68 more packages                                 6.62MB for 3498 more object types</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Warning: The log4j library has been detected, but the version is unavailable. Due to Log4Shell, please ensure log4j is at version 2.17.1 or later.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Recommendations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> INIT: Adopt &#x27;--strict-image-heap&#x27; to prepare for the next GraalVM release.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> HEAP: Set max heap for improved and more predictable memory usage.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> CPU:  Enable more CPU features with &#x27;-march=native&#x27; for improved performance.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      26.3s (24.2% of total time) in 154 GCs | Peak RSS: 4.36GB | CPU load: 10.02</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Produced artifacts:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> D:\Workspace\Github\native-image-demo\target\native-image-demo.exe (executable)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">========================================================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Finished generating &#x27;native-image-demo&#x27; in 1m 48s.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] ------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] BUILD SUCCESS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] ------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] Total time:  02:00 min</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] Finished at: 2024-04-08T16:52:25+08:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] ------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>查看target目录</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dir .\target\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mode                 LastWriteTime         Length Name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">----                 -------------         ------ ----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d-----          2024/4/8     16:50                classes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d-----          2024/4/8     16:50                generated-sources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d-----          2024/4/8     16:50                generated-test-sources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d-----          2024/4/8     16:50                graalvm-reachability-metadata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d-----          2024/4/8     16:50                maven-archiver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d-----          2024/4/8     16:50                maven-status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d-----          2024/4/8     16:50                spring-aot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d-----          2024/4/8     16:50                surefire-reports</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d-----          2024/4/8     16:50                test-classes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d-----          2024/4/8     16:50                test-ids</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d-----          2024/4/8     16:50                tmp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-a----          2024/4/8     16:50       18336361 native-image-demo-0.0.1-SNAPSHOT.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-a----          2024/4/8     16:50         136578 native-image-demo-0.0.1-SNAPSHOT.jar.original</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-a----          2024/4/8     16:52       77938688 native-image-demo.exe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="小结">小结<a href="#小结" class="hash-link" aria-label="小结的直接链接" title="小结的直接链接">​</a></h2>
<p>鉴于SpringBoot3.x的正式版已经推出一段时间，从文档上看，Native Image使用的技术已经相对成熟，可以放心用于生产环境。当然，Native Image目前还存在一些局限性会让一些组件完全无法使用或者部分功能受限（参考<a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-with-GraalVM" target="_blank" rel="noopener noreferrer">Spring Boot with GraalVM</a>），希望这些问题或者局限性有一天能够突破让所有JVM应用迎来一次性能飞跃。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="常见报错">常见报错<a href="#常见报错" class="hash-link" aria-label="常见报错的直接链接" title="常见报错的直接链接">​</a></h2>
<ul>
<li><a href="https://blog.csdn.net/lizhou828/article/details/124764765" target="_blank" rel="noopener noreferrer">Quarkus初体验--2.9.0.Final版本（Windows10系统 64位）</a></li>
<li><a href="https://blog.csdn.net/OpenGao/article/details/128273474" target="_blank" rel="noopener noreferrer">SpringBoot3.0 Native构建</a></li>
<li><a href="https://blog.csdn.net/qq_27935091/article/details/129981470" target="_blank" rel="noopener noreferrer">使用GraalVM native-image 编译SpringBoot3全过程</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-在windows下执行打包报错-returned-non-zero-result">1. 在Windows下执行打包报错 <code>returned non-zero result</code><a href="#1-在windows下执行打包报错-returned-non-zero-result" class="hash-link" aria-label="1-在windows下执行打包报错-returned-non-zero-result的直接链接" title="1-在windows下执行打包报错-returned-non-zero-result的直接链接">​</a></h3>
<blockquote>
<p><code>Execution of D:\Develop\jdk\graalvm-openjdk-21\bin\native-image.cmd @target\tmp\native-image-11336441505834086013.args returned non-zero result</code></p>
</blockquote>
<p>参考: <a href="https://blog.csdn.net/OpenGao/article/details/128273474" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/OpenGao/article/details/128273474</a></p>
<ol>
<li>不能使用idea的maven插件进行编译,需要使用 <code>x86 Native Tools Command Prompt for VS 2022</code>在项目路径下执行maven操作</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mvn -Pnative native:compile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>或者修改 <code>target/tmp/native-image-11336441505834086013.args</code> 配置文件，将其中的 <code>\\</code> 全部改为 <code>/</code>，然后再次执行</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">D:\Develop\jdk\graalvm-openjdk-21\bin\native-image.cmd @target\tmp\native-image-11336441505834086013.args</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-native-image-building-on-windows-currently-only-supports-target-architecture-amd64-32-bit-architecture-x86-unsupported">2. <code>Native-image building on Windows currently only supports target architecture: AMD64 (32-bit architecture x86 unsupported)</code><a href="#2-native-image-building-on-windows-currently-only-supports-target-architecture-amd64-32-bit-architecture-x86-unsupported" class="hash-link" aria-label="2-native-image-building-on-windows-currently-only-supports-target-architecture-amd64-32-bit-architecture-x86-unsupported的直接链接" title="2-native-image-building-on-windows-currently-only-supports-target-architecture-amd64-32-bit-architecture-x86-unsupported的  直接链接">​</a></h3>
<ol>
<li>Visual Studio 需要语言为英文</li>
</ol>
<p>参考: <a href="https://blog.csdn.net/lizhou828/article/details/124764765" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/lizhou828/article/details/124764765</a></p>
<blockquote>
<p>Error: Native-image building on Windows currently only supports target architecture: AMD64 (32-bit architecture x86 unsupported)
Error: To prevent native-toolchain checking provide command-line option -H:-CheckToolchain
Error: Use -H:+ReportExceptionStackTraces to print stacktrace of underlying exception</p>
</blockquote>
<ol start="2">
<li>需要配置Visual Studio环境变量</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MSVC = C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Tools\MSVC\14.39.33519</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WK10_INCLUDE = C:\Program Files (x86)\Windows Kits\10\Include\10.0.20348.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WK10_LIB = C:\Program Files (x86)\Windows Kits\10\Lib\10.0.20348.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## 变量值必须为INCLUDE和LIB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INCLUDE = %WK10_INCLUDE%\ucrt;%WK10_INCLUDE%\um;%WK10_INCLUDE%\shared;%MSVC%\include</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LIB = %WK10_LIB%\um\x64;%WK10_LIB%\ucrt\x64;%MSVC%\lib\x64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 添加path中指定 MSVC cl.exe路径（X86架构的操作系统，32位，请根据实际情况选择）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Tools\MSVC\14.39.33519\bin\Hostx86\x86</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 添加path中指定 MSVC cl.exe路径（X64架构的操作系统，64位，请根据实际情况选择）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Tools\MSVC\14.39.33519\bin\Hostx64\x64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-error-main-entry-point-class-xxx-neither-found-on-classpath-yyy-nor-modulepath-zzz">3. Error: Main entry point class &#x27;xxx&#x27; neither found on classpath: &#x27;yyy&#x27; nor modulepath: &#x27;zzz&#x27;<a href="#3-error-main-entry-point-class-xxx-neither-found-on-classpath-yyy-nor-modulepath-zzz" class="hash-link" aria-label="3. Error: Main entry point class &#x27;xxx&#x27; neither found on classpath: &#x27;yyy&#x27; nor modulepath: &#x27;zzz&#x27;的直接链接" title="3. Error: Main entry point class &#x27;xxx&#x27; neither found on classpath: &#x27;yyy&#x27; nor modulepath: &#x27;zzz&#x27;的直接链接">​</a></h3>
<ol>
<li>
<p>见github issue</p>
<ul>
<li><a href="https://github.com/graalvm/native-build-tools/issues/213" target="_blank" rel="noopener noreferrer">https://github.com/graalvm/native-build-tools/issues/213</a></li>
<li><a href="https://github.com/oracle/graal/issues/6127" target="_blank" rel="noopener noreferrer">https://github.com/oracle/graal/issues/6127</a></li>
<li><a href="https://github.com/oracle/graal/issues/7501" target="_blank" rel="noopener noreferrer">https://github.com/oracle/graal/issues/7501</a></li>
</ul>
</li>
<li>
<p>实测不能使用execution goal compile-no-fork</p>
</li>
</ol>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.graalvm.buildtools</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">native-maven-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--&lt;executions&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">		&lt;execution&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">			&lt;id&gt;build-native&lt;/id&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">			&lt;goals&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">				&lt;goal&gt;compile-no-fork&lt;/goal&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">			&lt;/goals&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">			&lt;phase&gt;package&lt;/phase&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">		&lt;/execution&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">	&lt;/executions&gt;--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">imageName</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${project.artifactId}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">imageName</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mainClass</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.light.sas.AuthApplication</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">mainClass</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">skipNativeTests</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">true</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">skipNativeTests</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">buildArgs</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">combine.children</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">append</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">buildArg</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">--no-fallback</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">buildArg</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">buildArg</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">--enable-url-protocols=http</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">buildArg</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">buildArg</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">--features=com.light.sas.config.natives.LambdaRegistrationFeature</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">buildArg</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">buildArg</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">--initialize-at-run-time=sun.net.dns.ResolverConfigurationImpl</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">buildArg</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">buildArgs</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/lorchr/light-docusaurus/tree/main/docs/zh-cn/java/21-Build-Native-Image-With-GraalVM.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/light-docusaurus/docs/zh-cn/java/Java-Generic-Type/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Java-Generic-Type</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/light-docusaurus/docs/zh-cn/java/Garbge-Collect-Algrthim/"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Garbge-Collect-Algrthim</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#一准备" class="table-of-contents__link toc-highlight">一、准备</a><ul><li><a href="#1-安装-sdkman" class="table-of-contents__link toc-highlight">1. 安装 SDKMan</a></li><li><a href="#2-sdkman-安装-liberica-nik" class="table-of-contents__link toc-highlight">2. SDKMan 安装 Liberica NIK</a></li><li><a href="#3-sdkman-安装-maven" class="table-of-contents__link toc-highlight">3. SDKMan 安装 Maven</a></li></ul></li><li><a href="#二编码" class="table-of-contents__link toc-highlight">二、编码</a><ul><li><a href="#1-pomxml" class="table-of-contents__link toc-highlight">1. pom.xml</a></li><li><a href="#2-启动类-comlightnativeimagenativeimageapplication" class="table-of-contents__link toc-highlight">2. 启动类 com.light.nativeimage.NativeImageApplication</a></li></ul></li><li><a href="#三构建测试与发布在wsl-ubuntu执行" class="table-of-contents__link toc-highlight">三、构建、测试与发布(在WSL Ubuntu执行)</a></li><li><a href="#四windows打包native-image" class="table-of-contents__link toc-highlight">四、Windows打包Native Image</a><ul><li><a href="#1-安装-graalvm-sdk" class="table-of-contents__link toc-highlight">1. 安装 GraalVM SDK</a></li><li><a href="#2-安装-visual-studio" class="table-of-contents__link toc-highlight">2. 安装 Visual Studio</a></li><li><a href="#3-测试" class="table-of-contents__link toc-highlight">3. 测试</a></li></ul></li><li><a href="#小结" class="table-of-contents__link toc-highlight">小结</a></li><li><a href="#常见报错" class="table-of-contents__link toc-highlight">常见报错</a><ul><li><a href="#1-  在windows下执行打包报错-returned-non-zero-result" class="table-of-contents__link toc-highlight">1. 在Windows下执行打包报错 <code>returned non-zero result</code></a></li><li><a href="#2-native-image-building-on-windows-currently-only-supports-target-architecture-amd64-32-bit-architecture-x86-unsupported" class="table-of-contents__link toc-highlight">2. <code>Native-image building on Windows currently only supports target architecture: AMD64 (32-bit architecture x86 unsupported)</code></a></li><li><a href="#3-error-main-entry-point-class-xxx-neither-found-on-classpath-yyy-nor-modulepath-zzz" class="table-of-contents__link toc-highlight">3. Error: Main entry point class &#39;xxx&#39; neither found on classpath: &#39;yyy&#39; nor modulepath: &#39;zzz&#39;</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/docs/category/guide/">Torch</a></li><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/middleware/">Middleware</a></li><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/electron/">Electron</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/lorchr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/lorchr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/lorchr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/light-docusaurus/diy/">DIY</a></li><li class="footer__item"><a href="https://github.com/lorchr/light-docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Offical</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docusaurus.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docusaurus.io/docs/playground" target="_blank" rel="noopener noreferrer" class="footer__link-item">Playground<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Light-Docusaurus, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>